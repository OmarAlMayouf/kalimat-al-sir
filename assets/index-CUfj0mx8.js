var jy=t=>{throw TypeError(t)};var Ih=(t,e,n)=>e.has(t)||jy("Cannot "+n);var j=(t,e,n)=>(Ih(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?jy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(Ih(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yt=(t,e,n)=>(Ih(t,e,"access private method"),n);var fu=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return j(t,e,r)}});function eI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function d_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h_={exports:{}},pd={},f_={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),tI=Symbol.for("react.portal"),nI=Symbol.for("react.fragment"),rI=Symbol.for("react.strict_mode"),sI=Symbol.for("react.profiler"),iI=Symbol.for("react.provider"),oI=Symbol.for("react.context"),aI=Symbol.for("react.forward_ref"),lI=Symbol.for("react.suspense"),uI=Symbol.for("react.memo"),cI=Symbol.for("react.lazy"),Uy=Symbol.iterator;function dI(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var p_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m_=Object.assign,g_={};function Ho(t,e,n){this.props=t,this.context=e,this.refs=g_,this.updater=n||p_}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y_(){}y_.prototype=Ho.prototype;function Jp(t,e,n){this.props=t,this.context=e,this.refs=g_,this.updater=n||p_}var Zp=Jp.prototype=new y_;Zp.constructor=Jp;m_(Zp,Ho.prototype);Zp.isPureReactComponent=!0;var $y=Array.isArray,v_=Object.prototype.hasOwnProperty,em={current:null},w_={key:!0,ref:!0,__self:!0,__source:!0};function __(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)v_.call(e,r)&&!w_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Vl,type:t,key:i,ref:o,props:s,_owner:em.current}}function hI(t,e){return{$$typeof:Vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vl}function fI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zy=/\/+/g;function Ch(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fI(""+t.key):e.toString(36)}function Bu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vl:case tI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ch(o,0):r,$y(s)?(n="",t!=null&&(n=t.replace(zy,"$&/")+"/"),Bu(s,e,n,"",function(c){return c})):s!=null&&(tm(s)&&(s=hI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",$y(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Ch(i,a);o+=Bu(i,e,n,u,s)}else if(u=dI(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Ch(i,a++),o+=Bu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var r=[],s=0;return Bu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function pI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Hu={transition:null},mI={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:em};function E_(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!tm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Ho;fe.Fragment=nI;fe.Profiler=sI;fe.PureComponent=Jp;fe.StrictMode=rI;fe.Suspense=lI;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mI;fe.act=E_;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=em.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)v_.call(e,u)&&!w_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Vl,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:oI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iI,_context:t},t.Consumer=t};fe.createElement=__;fe.createFactory=function(t){var e=__.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:aI,render:t}};fe.isValidElement=tm;fe.lazy=function(t){return{$$typeof:cI,_payload:{_status:-1,_result:t},_init:pI}};fe.memo=function(t,e){return{$$typeof:uI,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Hu.transition;Hu.transition={};try{t()}finally{Hu.transition=e}};fe.unstable_act=E_;fe.useCallback=function(t,e){return Nt.current.useCallback(t,e)};fe.useContext=function(t){return Nt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Nt.current.useEffect(t,e)};fe.useId=function(){return Nt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Nt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};fe.useRef=function(t){return Nt.current.useRef(t)};fe.useState=function(t){return Nt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Nt.current.useTransition()};fe.version="18.3.1";f_.exports=fe;var k=f_.exports;const W=d_(k),x_=eI({__proto__:null,default:W},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI=k,yI=Symbol.for("react.element"),vI=Symbol.for("react.fragment"),wI=Object.prototype.hasOwnProperty,_I=gI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EI={key:!0,ref:!0,__self:!0,__source:!0};function T_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wI.call(e,r)&&!EI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:yI,type:t,key:i,ref:o,props:s,_owner:_I.current}}pd.Fragment=vI;pd.jsx=T_;pd.jsxs=T_;h_.exports=pd;var E=h_.exports,S_={exports:{}},tn={},b_={exports:{}},I_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var G=F.length;F.push($);e:for(;0<G;){var re=G-1>>>1,X=F[re];if(0<s(X,$))F[re]=$,F[G]=X,G=re;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],G=F.pop();if(G!==$){F[0]=G;e:for(var re=0,X=F.length,de=X>>>1;re<de;){var ue=2*(re+1)-1,Ne=F[ue],We=ue+1,ye=F[We];if(0>s(Ne,G))We<X&&0>s(ye,Ne)?(F[re]=ye,F[We]=G,re=We):(F[re]=Ne,F[ue]=G,re=ue);else if(We<X&&0>s(ye,G))F[re]=ye,F[We]=G,re=We;else break e}}return $}function s(F,$){var G=F.sortIndex-$.sortIndex;return G!==0?G:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,m=3,p=!1,S=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=F)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function D(F){if(_=!1,T(F),!S)if(n(u)!==null)S=!0,te(O);else{var $=n(c);$!==null&&oe(D,$.startTime-F)}}function O(F,$){S=!1,_&&(_=!1,y(w),w=-1),p=!0;var G=m;try{for(T($),f=n(u);f!==null&&(!(f.expirationTime>$)||F&&!R());){var re=f.callback;if(typeof re=="function"){f.callback=null,m=f.priorityLevel;var X=re(f.expirationTime<=$);$=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(u)&&r(u),T($)}else r(u);f=n(u)}if(f!==null)var de=!0;else{var ue=n(c);ue!==null&&oe(D,ue.startTime-$),de=!1}return de}finally{f=null,m=G,p=!1}}var V=!1,b=null,w=-1,C=5,A=-1;function R(){return!(t.unstable_now()-A<C)}function N(){if(b!==null){var F=t.unstable_now();A=F;var $=!0;try{$=b(!0,F)}finally{$?P():(V=!1,b=null)}}else V=!1}var P;if(typeof v=="function")P=function(){v(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ie=H.port2;H.port1.onmessage=N,P=function(){ie.postMessage(null)}}else P=function(){x(N,0)};function te(F){b=F,V||(V=!0,P())}function oe(F,$){w=x(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,te(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var G=m;m=$;try{return F()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=m;m=F;try{return $()}finally{m=G}},t.unstable_scheduleCallback=function(F,$,G){var re=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?re+G:re):G=re,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,F={id:d++,callback:$,priorityLevel:F,startTime:G,expirationTime:X,sortIndex:-1},G>re?(F.sortIndex=G,e(c,F),n(u)===null&&F===n(c)&&(_?(y(w),w=-1):_=!0,oe(D,G-re))):(F.sortIndex=X,e(u,F),S||p||(S=!0,te(O))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var $=m;return function(){var G=m;m=$;try{return F.apply(this,arguments)}finally{m=G}}}})(I_);b_.exports=I_;var xI=b_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI=k,en=xI;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C_=new Set,tl={};function Ri(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(tl[t]=e,t=0;t<e.length;t++)C_.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=Object.prototype.hasOwnProperty,SI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,By={},Hy={};function bI(t){return _f.call(Hy,t)?!0:_f.call(By,t)?!1:SI.test(t)?Hy[t]=!0:(By[t]=!0,!1)}function II(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CI(t,e,n,r){if(e===null||typeof e>"u"||II(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var nm=/[\-:]([a-z])/g;function rm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nm,rm);mt[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nm,rm);mt[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nm,rm);mt[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function sm(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CI(e,n,s,r)&&(n=null),r||s===null?bI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=TI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),A_=Symbol.for("react.provider"),R_=Symbol.for("react.context"),om=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),Tf=Symbol.for("react.suspense_list"),am=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),P_=Symbol.for("react.offscreen"),Wy=Symbol.iterator;function va(t){return t===null||typeof t!="object"?null:(t=Wy&&t[Wy]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Ah;function Ra(t){if(Ah===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ah=e&&e[1]||""}return`
`+Ah+t}var Rh=!1;function Ph(t,e){if(!t||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ra(t):""}function AI(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=Ph(t.type,!1),t;case 11:return t=Ph(t.type.render,!1),t;case 1:return t=Ph(t.type,!0),t;default:return""}}function Sf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qi:return"Fragment";case Wi:return"Portal";case Ef:return"Profiler";case im:return"StrictMode";case xf:return"Suspense";case Tf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R_:return(t.displayName||"Context")+".Consumer";case A_:return(t._context.displayName||"Context")+".Provider";case om:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case am:return e=t.displayName||null,e!==null?e:Sf(t.type)||"Memo";case Jr:e=t._payload,t=t._init;try{return Sf(t(e))}catch{}}return null}function RI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sf(e);case 8:return e===im?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function k_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PI(t){var e=k_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=PI(t))}function N_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=k_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bf(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D_(t,e){e=e.checked,e!=null&&sm(t,"checked",e,!1)}function If(t,e){D_(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cf(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cf(t,e,n){(e!=="number"||yc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pa=Array.isArray;function so(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Af(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ky(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Pa(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function O_(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,V_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var La={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kI=["Webkit","ms","Moz","O"];Object.keys(La).forEach(function(t){kI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),La[e]=La[t]})});function L_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||La.hasOwnProperty(t)&&La[t]?(""+e).trim():e+"px"}function F_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=L_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var NI=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(t,e){if(e){if(NI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function kf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=null;function lm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Df=null,io=null,oo=null;function Yy(t){if(t=jl(t)){if(typeof Df!="function")throw Error(B(280));var e=t.stateNode;e&&(e=wd(e),Df(t.stateNode,t.type,e))}}function j_(t){io?oo?oo.push(t):oo=[t]:io=t}function U_(){if(io){var t=io,e=oo;if(oo=io=null,Yy(t),e)for(t=0;t<e.length;t++)Yy(e[t])}}function $_(t,e){return t(e)}function z_(){}var kh=!1;function B_(t,e,n){if(kh)return t(e,n);kh=!0;try{return $_(t,e,n)}finally{kh=!1,(io!==null||oo!==null)&&(z_(),U_())}}function rl(t,e){var n=t.stateNode;if(n===null)return null;var r=wd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Of=!1;if(Sr)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Of=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Of=!1}function DI(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Fa=!1,vc=null,wc=!1,Mf=null,OI={onError:function(t){Fa=!0,vc=t}};function MI(t,e,n,r,s,i,o,a,u){Fa=!1,vc=null,DI.apply(OI,arguments)}function VI(t,e,n,r,s,i,o,a,u){if(MI.apply(this,arguments),Fa){if(Fa){var c=vc;Fa=!1,vc=null}else throw Error(B(198));wc||(wc=!0,Mf=c)}}function Pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xy(t){if(Pi(t)!==t)throw Error(B(188))}function LI(t){var e=t.alternate;if(!e){if(e=Pi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xy(s),t;if(i===r)return Xy(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function W_(t){return t=LI(t),t!==null?q_(t):null}function q_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=q_(t);if(e!==null)return e;t=t.sibling}return null}var G_=en.unstable_scheduleCallback,Jy=en.unstable_cancelCallback,FI=en.unstable_shouldYield,jI=en.unstable_requestPaint,He=en.unstable_now,UI=en.unstable_getCurrentPriorityLevel,um=en.unstable_ImmediatePriority,K_=en.unstable_UserBlockingPriority,_c=en.unstable_NormalPriority,$I=en.unstable_LowPriority,Q_=en.unstable_IdlePriority,md=null,Yn=null;function zI(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:WI,BI=Math.log,HI=Math.LN2;function WI(t){return t>>>=0,t===0?32:31-(BI(t)/HI|0)|0}var vu=64,wu=4194304;function ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ec(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ka(a):(i&=o,i!==0&&(r=ka(i)))}else o=n&~s,o!==0?r=ka(o):i!==0&&(r=ka(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),s=1<<n,r|=t[n],e&=~s;return r}function qI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-In(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=qI(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Vf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y_(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function Nh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function KI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-In(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function cm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function X_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var J_,dm,Z_,e1,t1,Lf=!1,_u=[],ms=null,gs=null,ys=null,sl=new Map,il=new Map,es=[],QI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zy(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(e.pointerId)}}function _a(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=jl(e),e!==null&&dm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function YI(t,e,n,r,s){switch(e){case"focusin":return ms=_a(ms,t,e,n,r,s),!0;case"dragenter":return gs=_a(gs,t,e,n,r,s),!0;case"mouseover":return ys=_a(ys,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return sl.set(i,_a(sl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,il.set(i,_a(il.get(i)||null,t,e,n,r,s)),!0}return!1}function n1(t){var e=ni(t.target);if(e!==null){var n=Pi(e);if(n!==null){if(e=n.tag,e===13){if(e=H_(n),e!==null){t.blockedOn=e,t1(t.priority,function(){Z_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ff(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nf=r,n.target.dispatchEvent(r),Nf=null}else return e=jl(n),e!==null&&dm(e),t.blockedOn=n,!1;e.shift()}return!0}function ev(t,e,n){Wu(t)&&n.delete(e)}function XI(){Lf=!1,ms!==null&&Wu(ms)&&(ms=null),gs!==null&&Wu(gs)&&(gs=null),ys!==null&&Wu(ys)&&(ys=null),sl.forEach(ev),il.forEach(ev)}function Ea(t,e){t.blockedOn===e&&(t.blockedOn=null,Lf||(Lf=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,XI)))}function ol(t){function e(s){return Ea(s,t)}if(0<_u.length){Ea(_u[0],t);for(var n=1;n<_u.length;n++){var r=_u[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ms!==null&&Ea(ms,t),gs!==null&&Ea(gs,t),ys!==null&&Ea(ys,t),sl.forEach(e),il.forEach(e),n=0;n<es.length;n++)r=es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)n1(n),n.blockedOn===null&&es.shift()}var ao=Mr.ReactCurrentBatchConfig,xc=!0;function JI(t,e,n,r){var s=Te,i=ao.transition;ao.transition=null;try{Te=1,hm(t,e,n,r)}finally{Te=s,ao.transition=i}}function ZI(t,e,n,r){var s=Te,i=ao.transition;ao.transition=null;try{Te=4,hm(t,e,n,r)}finally{Te=s,ao.transition=i}}function hm(t,e,n,r){if(xc){var s=Ff(t,e,n,r);if(s===null)zh(t,e,r,Tc,n),Zy(t,r);else if(YI(s,t,e,n,r))r.stopPropagation();else if(Zy(t,r),e&4&&-1<QI.indexOf(t)){for(;s!==null;){var i=jl(s);if(i!==null&&J_(i),i=Ff(t,e,n,r),i===null&&zh(t,e,r,Tc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zh(t,e,r,null,n)}}var Tc=null;function Ff(t,e,n,r){if(Tc=null,t=lm(r),t=ni(t),t!==null)if(e=Pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tc=t,null}function r1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UI()){case um:return 1;case K_:return 4;case _c:case $I:return 16;case Q_:return 536870912;default:return 16}default:return 16}}var ds=null,fm=null,qu=null;function s1(){if(qu)return qu;var t,e=fm,n=e.length,r,s="value"in ds?ds.value:ds.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qu=s.slice(t,1<r?1-r:void 0)}function Gu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eu(){return!0}function tv(){return!1}function nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Eu:tv,this.isPropagationStopped=tv,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pm=nn(Wo),Fl=Fe({},Wo,{view:0,detail:0}),eC=nn(Fl),Dh,Oh,xa,gd=Fe({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(Dh=t.screenX-xa.screenX,Oh=t.screenY-xa.screenY):Oh=Dh=0,xa=t),Dh)},movementY:function(t){return"movementY"in t?t.movementY:Oh}}),nv=nn(gd),tC=Fe({},gd,{dataTransfer:0}),nC=nn(tC),rC=Fe({},Fl,{relatedTarget:0}),Mh=nn(rC),sC=Fe({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),iC=nn(sC),oC=Fe({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aC=nn(oC),lC=Fe({},Wo,{data:0}),rv=nn(lC),uC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dC[t])?!!e[t]:!1}function mm(){return hC}var fC=Fe({},Fl,{key:function(t){if(t.key){var e=uC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mm,charCode:function(t){return t.type==="keypress"?Gu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pC=nn(fC),mC=Fe({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sv=nn(mC),gC=Fe({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mm}),yC=nn(gC),vC=Fe({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),wC=nn(vC),_C=Fe({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EC=nn(_C),xC=[9,13,27,32],gm=Sr&&"CompositionEvent"in window,ja=null;Sr&&"documentMode"in document&&(ja=document.documentMode);var TC=Sr&&"TextEvent"in window&&!ja,i1=Sr&&(!gm||ja&&8<ja&&11>=ja),iv=" ",ov=!1;function o1(t,e){switch(t){case"keyup":return xC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gi=!1;function SC(t,e){switch(t){case"compositionend":return a1(e);case"keypress":return e.which!==32?null:(ov=!0,iv);case"textInput":return t=e.data,t===iv&&ov?null:t;default:return null}}function bC(t,e){if(Gi)return t==="compositionend"||!gm&&o1(t,e)?(t=s1(),qu=fm=ds=null,Gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i1&&e.locale!=="ko"?null:e.data;default:return null}}var IC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IC[t.type]:e==="textarea"}function l1(t,e,n,r){j_(r),e=Sc(e,"onChange"),0<e.length&&(n=new pm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,al=null;function CC(t){w1(t,0)}function yd(t){var e=Yi(t);if(N_(e))return t}function AC(t,e){if(t==="change")return e}var u1=!1;if(Sr){var Vh;if(Sr){var Lh="oninput"in document;if(!Lh){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Lh=typeof lv.oninput=="function"}Vh=Lh}else Vh=!1;u1=Vh&&(!document.documentMode||9<document.documentMode)}function uv(){Ua&&(Ua.detachEvent("onpropertychange",c1),al=Ua=null)}function c1(t){if(t.propertyName==="value"&&yd(al)){var e=[];l1(e,al,t,lm(t)),B_(CC,e)}}function RC(t,e,n){t==="focusin"?(uv(),Ua=e,al=n,Ua.attachEvent("onpropertychange",c1)):t==="focusout"&&uv()}function PC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(al)}function kC(t,e){if(t==="click")return yd(e)}function NC(t,e){if(t==="input"||t==="change")return yd(e)}function DC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:DC;function ll(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_f.call(e,s)||!Rn(t[s],e[s]))return!1}return!0}function cv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dv(t,e){var n=cv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cv(n)}}function d1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?d1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function h1(){for(var t=window,e=yc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yc(t.document)}return e}function ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OC(t){var e=h1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&d1(n.ownerDocument.documentElement,n)){if(r!==null&&ym(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=dv(n,i);var o=dv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MC=Sr&&"documentMode"in document&&11>=document.documentMode,Ki=null,jf=null,$a=null,Uf=!1;function hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uf||Ki==null||Ki!==yc(r)||(r=Ki,"selectionStart"in r&&ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$a&&ll($a,r)||($a=r,r=Sc(jf,"onSelect"),0<r.length&&(e=new pm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ki)))}function xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qi={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},Fh={},f1={};Sr&&(f1=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function vd(t){if(Fh[t])return Fh[t];if(!Qi[t])return t;var e=Qi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f1)return Fh[t]=e[n];return t}var p1=vd("animationend"),m1=vd("animationiteration"),g1=vd("animationstart"),y1=vd("transitionend"),v1=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(t,e){v1.set(t,e),Ri(e,[t])}for(var jh=0;jh<fv.length;jh++){var Uh=fv[jh],VC=Uh.toLowerCase(),LC=Uh[0].toUpperCase()+Uh.slice(1);Us(VC,"on"+LC)}Us(p1,"onAnimationEnd");Us(m1,"onAnimationIteration");Us(g1,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(y1,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function pv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VI(r,e,void 0,t),t.currentTarget=null}function w1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;pv(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;pv(s,a,c),i=u}}}if(wc)throw t=Mf,wc=!1,Mf=null,t}function Re(t,e){var n=e[Wf];n===void 0&&(n=e[Wf]=new Set);var r=t+"__bubble";n.has(r)||(_1(e,t,2,!1),n.add(r))}function $h(t,e,n){var r=0;e&&(r|=4),_1(n,t,r,e)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function ul(t){if(!t[Tu]){t[Tu]=!0,C_.forEach(function(n){n!=="selectionchange"&&(FC.has(n)||$h(n,!1,t),$h(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tu]||(e[Tu]=!0,$h("selectionchange",!1,e))}}function _1(t,e,n,r){switch(r1(e)){case 1:var s=JI;break;case 4:s=ZI;break;default:s=hm}n=s.bind(null,e,n,t),s=void 0,!Of||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ni(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}B_(function(){var c=i,d=lm(n),f=[];e:{var m=v1.get(t);if(m!==void 0){var p=pm,S=t;switch(t){case"keypress":if(Gu(n)===0)break e;case"keydown":case"keyup":p=pC;break;case"focusin":S="focus",p=Mh;break;case"focusout":S="blur",p=Mh;break;case"beforeblur":case"afterblur":p=Mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yC;break;case p1:case m1:case g1:p=iC;break;case y1:p=wC;break;case"scroll":p=eC;break;case"wheel":p=EC;break;case"copy":case"cut":case"paste":p=aC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sv}var _=(e&4)!==0,x=!_&&t==="scroll",y=_?m!==null?m+"Capture":null:m;_=[];for(var v=c,T;v!==null;){T=v;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,y!==null&&(D=rl(v,y),D!=null&&_.push(cl(v,D,T)))),x)break;v=v.return}0<_.length&&(m=new p(m,S,null,n,d),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Nf&&(S=n.relatedTarget||n.fromElement)&&(ni(S)||S[br]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=c,S=S?ni(S):null,S!==null&&(x=Pi(S),S!==x||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=c),p!==S)){if(_=nv,D="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=sv,D="onPointerLeave",y="onPointerEnter",v="pointer"),x=p==null?m:Yi(p),T=S==null?m:Yi(S),m=new _(D,v+"leave",p,n,d),m.target=x,m.relatedTarget=T,D=null,ni(d)===c&&(_=new _(y,v+"enter",S,n,d),_.target=T,_.relatedTarget=x,D=_),x=D,p&&S)t:{for(_=p,y=S,v=0,T=_;T;T=Ui(T))v++;for(T=0,D=y;D;D=Ui(D))T++;for(;0<v-T;)_=Ui(_),v--;for(;0<T-v;)y=Ui(y),T--;for(;v--;){if(_===y||y!==null&&_===y.alternate)break t;_=Ui(_),y=Ui(y)}_=null}else _=null;p!==null&&mv(f,m,p,_,!1),S!==null&&x!==null&&mv(f,x,S,_,!0)}}e:{if(m=c?Yi(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var O=AC;else if(av(m))if(u1)O=NC;else{O=PC;var V=RC}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=kC);if(O&&(O=O(t,c))){l1(f,O,n,d);break e}V&&V(t,m,c),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&Cf(m,"number",m.value)}switch(V=c?Yi(c):window,t){case"focusin":(av(V)||V.contentEditable==="true")&&(Ki=V,jf=c,$a=null);break;case"focusout":$a=jf=Ki=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,hv(f,n,d);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":hv(f,n,d)}var b;if(gm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Gi?o1(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(i1&&n.locale!=="ko"&&(Gi||w!=="onCompositionStart"?w==="onCompositionEnd"&&Gi&&(b=s1()):(ds=d,fm="value"in ds?ds.value:ds.textContent,Gi=!0)),V=Sc(c,w),0<V.length&&(w=new rv(w,t,null,n,d),f.push({event:w,listeners:V}),b?w.data=b:(b=a1(n),b!==null&&(w.data=b)))),(b=TC?SC(t,n):bC(t,n))&&(c=Sc(c,"onBeforeInput"),0<c.length&&(d=new rv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}w1(f,e)})}function cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rl(t,n),i!=null&&r.unshift(cl(t,i,s)),i=rl(t,e),i!=null&&r.push(cl(t,i,s))),t=t.return}return r}function Ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=rl(n,i),u!=null&&o.unshift(cl(n,u,a))):s||(u=rl(n,i),u!=null&&o.push(cl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(jC,`
`).replace(UC,"")}function Su(t,e,n){if(e=gv(e),gv(t)!==e&&n)throw Error(B(425))}function bc(){}var $f=null,zf=null;function Bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,$C=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,zC=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(BC)}:Hf;function BC(t){setTimeout(function(){throw t})}function Bh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ol(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ol(e)}function vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),Gn="__reactFiber$"+qo,dl="__reactProps$"+qo,br="__reactContainer$"+qo,Wf="__reactEvents$"+qo,HC="__reactListeners$"+qo,WC="__reactHandles$"+qo;function ni(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[br]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vv(t);t!==null;){if(n=t[Gn])return n;t=vv(t)}return e}t=n,n=t.parentNode}return null}function jl(t){return t=t[Gn]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function wd(t){return t[dl]||null}var qf=[],Xi=-1;function $s(t){return{current:t}}function ke(t){0>Xi||(t.current=qf[Xi],qf[Xi]=null,Xi--)}function Ie(t,e){Xi++,qf[Xi]=t.current,t.current=e}var Rs={},bt=$s(Rs),$t=$s(!1),yi=Rs;function Ao(t,e){var n=t.type.contextTypes;if(!n)return Rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zt(t){return t=t.childContextTypes,t!=null}function Ic(){ke($t),ke(bt)}function wv(t,e,n){if(bt.current!==Rs)throw Error(B(168));Ie(bt,e),Ie($t,n)}function E1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,RI(t)||"Unknown",s));return Fe({},n,r)}function Cc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rs,yi=bt.current,Ie(bt,t),Ie($t,$t.current),!0}function _v(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=E1(t,e,yi),r.__reactInternalMemoizedMergedChildContext=t,ke($t),ke(bt),Ie(bt,t)):ke($t),Ie($t,n)}var yr=null,_d=!1,Hh=!1;function x1(t){yr===null?yr=[t]:yr.push(t)}function qC(t){_d=!0,x1(t)}function zs(){if(!Hh&&yr!==null){Hh=!0;var t=0,e=Te;try{var n=yr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,_d=!1}catch(s){throw yr!==null&&(yr=yr.slice(t+1)),G_(um,zs),s}finally{Te=e,Hh=!1}}return null}var Ji=[],Zi=0,Ac=null,Rc=0,an=[],ln=0,vi=null,wr=1,_r="";function Zs(t,e){Ji[Zi++]=Rc,Ji[Zi++]=Ac,Ac=t,Rc=e}function T1(t,e,n){an[ln++]=wr,an[ln++]=_r,an[ln++]=vi,vi=t;var r=wr;t=_r;var s=32-In(r)-1;r&=~(1<<s),n+=1;var i=32-In(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wr=1<<32-In(e)+s|n<<s|r,_r=i+t}else wr=1<<i|n<<s|r,_r=t}function vm(t){t.return!==null&&(Zs(t,1),T1(t,1,0))}function wm(t){for(;t===Ac;)Ac=Ji[--Zi],Ji[Zi]=null,Rc=Ji[--Zi],Ji[Zi]=null;for(;t===vi;)vi=an[--ln],an[ln]=null,_r=an[--ln],an[ln]=null,wr=an[--ln],an[ln]=null}var Jt=null,Yt=null,De=!1,Sn=null;function S1(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ev(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Yt=vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vi!==null?{id:wr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Yt=null,!0):!1;default:return!1}}function Gf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kf(t){if(De){var e=Yt;if(e){var n=e;if(!Ev(t,e)){if(Gf(t))throw Error(B(418));e=vs(n.nextSibling);var r=Jt;e&&Ev(t,e)?S1(r,n):(t.flags=t.flags&-4097|2,De=!1,Jt=t)}}else{if(Gf(t))throw Error(B(418));t.flags=t.flags&-4097|2,De=!1,Jt=t}}}function xv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function bu(t){if(t!==Jt)return!1;if(!De)return xv(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bf(t.type,t.memoizedProps)),e&&(e=Yt)){if(Gf(t))throw b1(),Error(B(418));for(;e;)S1(t,e),e=vs(e.nextSibling)}if(xv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Jt?vs(t.stateNode.nextSibling):null;return!0}function b1(){for(var t=Yt;t;)t=vs(t.nextSibling)}function Ro(){Yt=Jt=null,De=!1}function _m(t){Sn===null?Sn=[t]:Sn.push(t)}var GC=Mr.ReactCurrentBatchConfig;function Ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Iu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tv(t){var e=t._init;return e(t._payload)}function I1(t){function e(y,v){if(t){var T=y.deletions;T===null?(y.deletions=[v],y.flags|=16):T.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=xs(y,v),y.index=0,y.sibling=null,y}function i(y,v,T){return y.index=T,t?(T=y.alternate,T!==null?(T=T.index,T<v?(y.flags|=2,v):T):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,T,D){return v===null||v.tag!==6?(v=Xh(T,y.mode,D),v.return=y,v):(v=s(v,T),v.return=y,v)}function u(y,v,T,D){var O=T.type;return O===qi?d(y,v,T.props.children,D,T.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Jr&&Tv(O)===v.type)?(D=s(v,T.props),D.ref=Ta(y,v,T),D.return=y,D):(D=ec(T.type,T.key,T.props,null,y.mode,D),D.ref=Ta(y,v,T),D.return=y,D)}function c(y,v,T,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Jh(T,y.mode,D),v.return=y,v):(v=s(v,T.children||[]),v.return=y,v)}function d(y,v,T,D,O){return v===null||v.tag!==7?(v=fi(T,y.mode,D,O),v.return=y,v):(v=s(v,T),v.return=y,v)}function f(y,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xh(""+v,y.mode,T),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case mu:return T=ec(v.type,v.key,v.props,null,y.mode,T),T.ref=Ta(y,null,v),T.return=y,T;case Wi:return v=Jh(v,y.mode,T),v.return=y,v;case Jr:var D=v._init;return f(y,D(v._payload),T)}if(Pa(v)||va(v))return v=fi(v,y.mode,T,null),v.return=y,v;Iu(y,v)}return null}function m(y,v,T,D){var O=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(y,v,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mu:return T.key===O?u(y,v,T,D):null;case Wi:return T.key===O?c(y,v,T,D):null;case Jr:return O=T._init,m(y,v,O(T._payload),D)}if(Pa(T)||va(T))return O!==null?null:d(y,v,T,D,null);Iu(y,T)}return null}function p(y,v,T,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(T)||null,a(v,y,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case mu:return y=y.get(D.key===null?T:D.key)||null,u(v,y,D,O);case Wi:return y=y.get(D.key===null?T:D.key)||null,c(v,y,D,O);case Jr:var V=D._init;return p(y,v,T,V(D._payload),O)}if(Pa(D)||va(D))return y=y.get(T)||null,d(v,y,D,O,null);Iu(v,D)}return null}function S(y,v,T,D){for(var O=null,V=null,b=v,w=v=0,C=null;b!==null&&w<T.length;w++){b.index>w?(C=b,b=null):C=b.sibling;var A=m(y,b,T[w],D);if(A===null){b===null&&(b=C);break}t&&b&&A.alternate===null&&e(y,b),v=i(A,v,w),V===null?O=A:V.sibling=A,V=A,b=C}if(w===T.length)return n(y,b),De&&Zs(y,w),O;if(b===null){for(;w<T.length;w++)b=f(y,T[w],D),b!==null&&(v=i(b,v,w),V===null?O=b:V.sibling=b,V=b);return De&&Zs(y,w),O}for(b=r(y,b);w<T.length;w++)C=p(b,y,w,T[w],D),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?w:C.key),v=i(C,v,w),V===null?O=C:V.sibling=C,V=C);return t&&b.forEach(function(R){return e(y,R)}),De&&Zs(y,w),O}function _(y,v,T,D){var O=va(T);if(typeof O!="function")throw Error(B(150));if(T=O.call(T),T==null)throw Error(B(151));for(var V=O=null,b=v,w=v=0,C=null,A=T.next();b!==null&&!A.done;w++,A=T.next()){b.index>w?(C=b,b=null):C=b.sibling;var R=m(y,b,A.value,D);if(R===null){b===null&&(b=C);break}t&&b&&R.alternate===null&&e(y,b),v=i(R,v,w),V===null?O=R:V.sibling=R,V=R,b=C}if(A.done)return n(y,b),De&&Zs(y,w),O;if(b===null){for(;!A.done;w++,A=T.next())A=f(y,A.value,D),A!==null&&(v=i(A,v,w),V===null?O=A:V.sibling=A,V=A);return De&&Zs(y,w),O}for(b=r(y,b);!A.done;w++,A=T.next())A=p(b,y,w,A.value,D),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?w:A.key),v=i(A,v,w),V===null?O=A:V.sibling=A,V=A);return t&&b.forEach(function(N){return e(y,N)}),De&&Zs(y,w),O}function x(y,v,T,D){if(typeof T=="object"&&T!==null&&T.type===qi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case mu:e:{for(var O=T.key,V=v;V!==null;){if(V.key===O){if(O=T.type,O===qi){if(V.tag===7){n(y,V.sibling),v=s(V,T.props.children),v.return=y,y=v;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Jr&&Tv(O)===V.type){n(y,V.sibling),v=s(V,T.props),v.ref=Ta(y,V,T),v.return=y,y=v;break e}n(y,V);break}else e(y,V);V=V.sibling}T.type===qi?(v=fi(T.props.children,y.mode,D,T.key),v.return=y,y=v):(D=ec(T.type,T.key,T.props,null,y.mode,D),D.ref=Ta(y,v,T),D.return=y,y=D)}return o(y);case Wi:e:{for(V=T.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(y,v.sibling),v=s(v,T.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Jh(T,y.mode,D),v.return=y,y=v}return o(y);case Jr:return V=T._init,x(y,v,V(T._payload),D)}if(Pa(T))return S(y,v,T,D);if(va(T))return _(y,v,T,D);Iu(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,T),v.return=y,y=v):(n(y,v),v=Xh(T,y.mode,D),v.return=y,y=v),o(y)):n(y,v)}return x}var Po=I1(!0),C1=I1(!1),Pc=$s(null),kc=null,eo=null,Em=null;function xm(){Em=eo=kc=null}function Tm(t){var e=Pc.current;ke(Pc),t._currentValue=e}function Qf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){kc=t,Em=eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Em!==t)if(t={context:t,memoizedValue:e,next:null},eo===null){if(kc===null)throw Error(B(308));eo=t,kc.dependencies={lanes:0,firstContext:t}}else eo=eo.next=t;return e}var ri=null;function Sm(t){ri===null?ri=[t]:ri.push(t)}function A1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Sm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zr=!1;function bm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ws(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ir(t,n)}return s=r.interleaved,s===null?(e.next=e,Sm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ir(t,n)}function Ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cm(t,n)}}function Sv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nc(t,e,n,r){var s=t.updateQueue;Zr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,_=a;switch(m=e,p=n,_.tag){case 1:if(S=_.payload,typeof S=="function"){f=S.call(p,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,m=typeof S=="function"?S.call(p,f,m):S,m==null)break e;f=Fe({},f,m);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,u=f):d=d.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_i|=o,t.lanes=o,t.memoizedState=f}}function bv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Ul={},Xn=$s(Ul),hl=$s(Ul),fl=$s(Ul);function si(t){if(t===Ul)throw Error(B(174));return t}function Im(t,e){switch(Ie(fl,e),Ie(hl,t),Ie(Xn,Ul),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rf(e,t)}ke(Xn),Ie(Xn,e)}function ko(){ke(Xn),ke(hl),ke(fl)}function P1(t){si(fl.current);var e=si(Xn.current),n=Rf(e,t.type);e!==n&&(Ie(hl,t),Ie(Xn,n))}function Cm(t){hl.current===t&&(ke(Xn),ke(hl))}var Me=$s(0);function Dc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wh=[];function Am(){for(var t=0;t<Wh.length;t++)Wh[t]._workInProgressVersionPrimary=null;Wh.length=0}var Qu=Mr.ReactCurrentDispatcher,qh=Mr.ReactCurrentBatchConfig,wi=0,Le=null,Je=null,lt=null,Oc=!1,za=!1,pl=0,KC=0;function vt(){throw Error(B(321))}function Rm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function Pm(t,e,n,r,s,i){if(wi=i,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qu.current=t===null||t.memoizedState===null?JC:ZC,t=n(r,s),za){i=0;do{if(za=!1,pl=0,25<=i)throw Error(B(301));i+=1,lt=Je=null,e.updateQueue=null,Qu.current=eA,t=n(r,s)}while(za)}if(Qu.current=Mc,e=Je!==null&&Je.next!==null,wi=0,lt=Je=Le=null,Oc=!1,e)throw Error(B(300));return t}function km(){var t=pl!==0;return pl=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Le.memoizedState=lt=t:lt=lt.next=t,lt}function fn(){if(Je===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=lt===null?Le.memoizedState:lt.next;if(e!==null)lt=e,Je=t;else{if(t===null)throw Error(B(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},lt===null?Le.memoizedState=lt=t:lt=lt.next=t}return lt}function ml(t,e){return typeof e=="function"?e(t):e}function Gh(t){var e=fn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((wi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Le.lanes|=d,_i|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Rn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Le.lanes|=i,_i|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kh(t){var e=fn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Rn(i,e.memoizedState)||(Ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function k1(){}function N1(t,e){var n=Le,r=fn(),s=e(),i=!Rn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ut=!0),r=r.queue,Nm(M1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,gl(9,O1.bind(null,n,r,s,e),void 0,null),ut===null)throw Error(B(349));wi&30||D1(n,e,s)}return s}function D1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O1(t,e,n,r){e.value=n,e.getSnapshot=r,V1(e)&&L1(t)}function M1(t,e,n){return n(function(){V1(e)&&L1(t)})}function V1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function L1(t){var e=Ir(t,1);e!==null&&Cn(e,t,1,-1)}function Iv(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:t},e.queue=t,t=t.dispatch=XC.bind(null,Le,t),[e.memoizedState,t]}function gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function F1(){return fn().memoizedState}function Yu(t,e,n,r){var s=zn();Le.flags|=t,s.memoizedState=gl(1|e,n,void 0,r===void 0?null:r)}function Ed(t,e,n,r){var s=fn();r=r===void 0?null:r;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,r!==null&&Rm(r,o.deps)){s.memoizedState=gl(e,n,i,r);return}}Le.flags|=t,s.memoizedState=gl(1|e,n,i,r)}function Cv(t,e){return Yu(8390656,8,t,e)}function Nm(t,e){return Ed(2048,8,t,e)}function j1(t,e){return Ed(4,2,t,e)}function U1(t,e){return Ed(4,4,t,e)}function $1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z1(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4,4,$1.bind(null,e,t),n)}function Dm(){}function B1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function H1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function W1(t,e,n){return wi&21?(Rn(n,e)||(n=Y_(),Le.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function QC(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=qh.transition;qh.transition={};try{t(!1),e()}finally{Te=n,qh.transition=r}}function q1(){return fn().memoizedState}function YC(t,e,n){var r=Es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G1(t))K1(e,n);else if(n=A1(t,e,n,r),n!==null){var s=kt();Cn(n,t,r,s),Q1(n,e,r)}}function XC(t,e,n){var r=Es(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G1(t))K1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Rn(a,o)){var u=e.interleaved;u===null?(s.next=s,Sm(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=A1(t,e,s,r),n!==null&&(s=kt(),Cn(n,t,r,s),Q1(n,e,r))}}function G1(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function K1(t,e){za=Oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Q1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cm(t,n)}}var Mc={readContext:hn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},JC={readContext:hn,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:Cv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yu(4194308,4,$1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yu(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YC.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:Iv,useDebugValue:Dm,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Iv(!1),e=t[0];return t=QC.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,s=zn();if(De){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ut===null)throw Error(B(349));wi&30||D1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Cv(M1.bind(null,r,i,t),[t]),r.flags|=2048,gl(9,O1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zn(),e=ut.identifierPrefix;if(De){var n=_r,r=wr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZC={readContext:hn,useCallback:B1,useContext:hn,useEffect:Nm,useImperativeHandle:z1,useInsertionEffect:j1,useLayoutEffect:U1,useMemo:H1,useReducer:Gh,useRef:F1,useState:function(){return Gh(ml)},useDebugValue:Dm,useDeferredValue:function(t){var e=fn();return W1(e,Je.memoizedState,t)},useTransition:function(){var t=Gh(ml)[0],e=fn().memoizedState;return[t,e]},useMutableSource:k1,useSyncExternalStore:N1,useId:q1,unstable_isNewReconciler:!1},eA={readContext:hn,useCallback:B1,useContext:hn,useEffect:Nm,useImperativeHandle:z1,useInsertionEffect:j1,useLayoutEffect:U1,useMemo:H1,useReducer:Kh,useRef:F1,useState:function(){return Kh(ml)},useDebugValue:Dm,useDeferredValue:function(t){var e=fn();return Je===null?e.memoizedState=t:W1(e,Je.memoizedState,t)},useTransition:function(){var t=Kh(ml)[0],e=fn().memoizedState;return[t,e]},useMutableSource:k1,useSyncExternalStore:N1,useId:q1,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xd={isMounted:function(t){return(t=t._reactInternals)?Pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Es(t),i=Tr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ws(t,i,s),e!==null&&(Cn(e,t,s,r),Ku(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Es(t),i=Tr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ws(t,i,s),e!==null&&(Cn(e,t,s,r),Ku(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=Es(t),s=Tr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ws(t,s,r),e!==null&&(Cn(e,t,r,n),Ku(e,t,r))}};function Av(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ll(n,r)||!ll(s,i):!0}function Y1(t,e,n){var r=!1,s=Rs,i=e.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=zt(e)?yi:bt.current,r=e.contextTypes,i=(r=r!=null)?Ao(t,s):Rs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Rv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xd.enqueueReplaceState(e,e.state,null)}function Xf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},bm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=zt(e)?yi:bt.current,s.context=Ao(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xd.enqueueReplaceState(s,s.state,null),Nc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function No(t,e){try{var n="",r=e;do n+=AI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tA=typeof WeakMap=="function"?WeakMap:Map;function X1(t,e,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lc||(Lc=!0,lp=r),Jf(t,e)},n}function J1(t,e,n){n=Tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Jf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Jf(t,e),typeof r!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Pv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mA.bind(null,t,e,n),e.then(t,t))}function kv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tr(-1,1),e.tag=2,ws(n,e,1))),n.lanes|=1),t)}var nA=Mr.ReactCurrentOwner,Ut=!1;function Rt(t,e,n,r){e.child=t===null?C1(e,null,n,r):Po(e,t.child,n,r)}function Dv(t,e,n,r,s){n=n.render;var i=e.ref;return lo(e,s),r=Pm(t,e,n,r,i,s),n=km(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(De&&n&&vm(e),e.flags|=1,Rt(t,e,r,s),e.child)}function Ov(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!$m(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Z1(t,e,i,r,s)):(t=ec(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(o,r)&&t.ref===e.ref)return Cr(t,e,s)}return e.flags|=1,t=xs(i,r),t.ref=e.ref,t.return=e,e.child=t}function Z1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ll(i,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,Cr(t,e,s)}return Zf(t,e,n,r,s)}function eE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(no,Kt),Kt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(no,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ie(no,Kt),Kt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ie(no,Kt),Kt|=r;return Rt(t,e,s,n),e.child}function tE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zf(t,e,n,r,s){var i=zt(n)?yi:bt.current;return i=Ao(e,i),lo(e,s),n=Pm(t,e,n,r,i,s),r=km(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(De&&r&&vm(e),e.flags|=1,Rt(t,e,n,s),e.child)}function Mv(t,e,n,r,s){if(zt(n)){var i=!0;Cc(e)}else i=!1;if(lo(e,s),e.stateNode===null)Xu(t,e),Y1(e,n,r),Xf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=zt(n)?yi:bt.current,c=Ao(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Rv(e,o,r,c),Zr=!1;var m=e.memoizedState;o.state=m,Nc(e,r,o,s),u=e.memoizedState,a!==r||m!==u||$t.current||Zr?(typeof d=="function"&&(Yf(e,n,d,r),u=e.memoizedState),(a=Zr||Av(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,R1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=hn(u):(u=zt(n)?yi:bt.current,u=Ao(e,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Rv(e,o,r,u),Zr=!1,m=e.memoizedState,o.state=m,Nc(e,r,o,s);var S=e.memoizedState;a!==f||m!==S||$t.current||Zr?(typeof p=="function"&&(Yf(e,n,p,r),S=e.memoizedState),(c=Zr||Av(e,n,c,r,m,S,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ep(t,e,n,r,i,s)}function ep(t,e,n,r,s,i){tE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&_v(e,n,!1),Cr(t,e,i);r=e.stateNode,nA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Po(e,t.child,null,i),e.child=Po(e,null,a,i)):Rt(t,e,a,i),e.memoizedState=r.state,s&&_v(e,n,!0),e.child}function nE(t){var e=t.stateNode;e.pendingContext?wv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wv(t,e.context,!1),Im(t,e.containerInfo)}function Vv(t,e,n,r,s){return Ro(),_m(s),e.flags|=256,Rt(t,e,n,r),e.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(t){return{baseLanes:t,cachePool:null,transitions:null}}function rE(t,e,n){var r=e.pendingProps,s=Me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ie(Me,s&1),t===null)return Kf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bd(o,r,0,null),t=fi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=np(n),e.memoizedState=tp,t):Om(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return rA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=xs(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xs(a,i):(i=fi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?np(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=tp,r}return i=t.child,t=i.sibling,r=xs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Om(t,e){return e=bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cu(t,e,n,r){return r!==null&&_m(r),Po(e,t.child,null,n),t=Om(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Qh(Error(B(422))),Cu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=bd({mode:"visible",children:r.children},s,0,null),i=fi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Po(e,t.child,null,o),e.child.memoizedState=np(o),e.memoizedState=tp,i);if(!(e.mode&1))return Cu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Qh(i,r,void 0),Cu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ut||a){if(r=ut,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ir(t,s),Cn(r,t,s,-1))}return Um(),r=Qh(Error(B(421))),Cu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yt=vs(s.nextSibling),Jt=e,De=!0,Sn=null,t!==null&&(an[ln++]=wr,an[ln++]=_r,an[ln++]=vi,wr=t.id,_r=t.overflow,vi=e),e=Om(e,r.children),e.flags|=4096,e)}function Lv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qf(t.return,e,n)}function Yh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Rt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lv(t,n,e);else if(t.tag===19)Lv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Dc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Dc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yh(e,!0,n,null,i);break;case"together":Yh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sA(t,e,n){switch(e.tag){case 3:nE(e),Ro();break;case 5:P1(e);break;case 1:zt(e.type)&&Cc(e);break;case 4:Im(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ie(Pc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?rE(t,e,n):(Ie(Me,Me.current&1),t=Cr(t,e,n),t!==null?t.sibling:null);Ie(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,eE(t,e,n)}return Cr(t,e,n)}var iE,rp,oE,aE;iE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rp=function(){};oE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,si(Xn.current);var i=null;switch(n){case"input":s=bf(t,s),r=bf(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=Af(t,s),r=Af(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bc)}Pf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Re("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};aE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sa(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iA(t,e,n){var r=e.pendingProps;switch(wm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return zt(e.type)&&Ic(),wt(e),null;case 3:return r=e.stateNode,ko(),ke($t),ke(bt),Am(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(dp(Sn),Sn=null))),rp(t,e),wt(e),null;case 5:Cm(e);var s=si(fl.current);if(n=e.type,t!==null&&e.stateNode!=null)oE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return wt(e),null}if(t=si(Xn.current),bu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gn]=e,r[dl]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<Na.length;s++)Re(Na[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":qy(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Ky(r,i),Re("invalid",r)}Pf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),s=["children",""+a]):tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":gu(r),Gy(r,i,!0);break;case"textarea":gu(r),Qy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[dl]=r,iE(t,e,!1,!1),e.stateNode=t;e:{switch(o=kf(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<Na.length;s++)Re(Na[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":qy(t,r),s=bf(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Ky(t,r),s=Af(t,r),Re("invalid",t);break;default:s=r}Pf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?F_(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&V_(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&nl(t,u):typeof u=="number"&&nl(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Re("scroll",t):u!=null&&sm(t,i,u,o))}switch(n){case"input":gu(t),Gy(t,r,!1);break;case"textarea":gu(t),Qy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?so(t,!!r.multiple,i,!1):r.defaultValue!=null&&so(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)aE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=si(fl.current),si(Xn.current),bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(i=r.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:Su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return wt(e),null;case 13:if(ke(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Yt!==null&&e.mode&1&&!(e.flags&128))b1(),Ro(),e.flags|=98560,i=!1;else if(i=bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Gn]=e}else Ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),i=!1}else Sn!==null&&(dp(Sn),Sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?tt===0&&(tt=3):Um())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return ko(),rp(t,e),t===null&&ul(e.stateNode.containerInfo),wt(e),null;case 10:return Tm(e.type._context),wt(e),null;case 17:return zt(e.type)&&Ic(),wt(e),null;case 19:if(ke(Me),i=e.memoizedState,i===null)return wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Sa(i,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dc(t),o!==null){for(e.flags|=128,Sa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>Do&&(e.flags|=128,r=!0,Sa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Dc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!De)return wt(e),null}else 2*He()-i.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,r=!0,Sa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=Me.current,Ie(Me,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return jm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function oA(t,e){switch(wm(e),e.tag){case 1:return zt(e.type)&&Ic(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ko(),ke($t),ke(bt),Am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cm(e),null;case 13:if(ke(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Me),null;case 4:return ko(),null;case 10:return Tm(e.type._context),null;case 22:case 23:return jm(),null;case 24:return null;default:return null}}var Au=!1,Tt=!1,aA=typeof WeakSet=="function"?WeakSet:Set,Q=null;function to(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function sp(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Fv=!1;function lA(t,e){if($f=xc,t=h1(),ym(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++d===r&&(u=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},xc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,x=S.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:wn(e.type,_),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){ze(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return S=Fv,Fv=!1,S}function Ba(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sp(e,n,i)}s=s.next}while(s!==r)}}function Td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ip(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lE(t){var e=t.alternate;e!==null&&(t.alternate=null,lE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[dl],delete e[Wf],delete e[HC],delete e[WC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uE(t){return t.tag===5||t.tag===3||t.tag===4}function jv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bc));else if(r!==4&&(t=t.child,t!==null))for(op(t,e,n),t=t.sibling;t!==null;)op(t,e,n),t=t.sibling}function ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ap(t,e,n),t=t.sibling;t!==null;)ap(t,e,n),t=t.sibling}var dt=null,Tn=!1;function Gr(t,e,n){for(n=n.child;n!==null;)cE(t,e,n),n=n.sibling}function cE(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:Tt||to(n,e);case 6:var r=dt,s=Tn;dt=null,Gr(t,e,n),dt=r,Tn=s,dt!==null&&(Tn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Tn?(t=dt,n=n.stateNode,t.nodeType===8?Bh(t.parentNode,n):t.nodeType===1&&Bh(t,n),ol(t)):Bh(dt,n.stateNode));break;case 4:r=dt,s=Tn,dt=n.stateNode.containerInfo,Tn=!0,Gr(t,e,n),dt=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sp(n,e,o),s=s.next}while(s!==r)}Gr(t,e,n);break;case 1:if(!Tt&&(to(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,Gr(t,e,n),Tt=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function Uv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aA),e.forEach(function(r){var s=yA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Tn=!1;break e;case 3:dt=a.stateNode.containerInfo,Tn=!0;break e;case 4:dt=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(dt===null)throw Error(B(160));cE(i,o,s),dt=null,Tn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dE(e,t),e=e.sibling}function dE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),$n(t),r&4){try{Ba(3,t,t.return),Td(3,t)}catch(_){ze(t,t.return,_)}try{Ba(5,t,t.return)}catch(_){ze(t,t.return,_)}}break;case 1:yn(e,t),$n(t),r&512&&n!==null&&to(n,n.return);break;case 5:if(yn(e,t),$n(t),r&512&&n!==null&&to(n,n.return),t.flags&32){var s=t.stateNode;try{nl(s,"")}catch(_){ze(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&D_(s,i),kf(a,o);var c=kf(a,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?F_(s,f):d==="dangerouslySetInnerHTML"?V_(s,f):d==="children"?nl(s,f):sm(s,d,f,c)}switch(a){case"input":If(s,i);break;case"textarea":O_(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?so(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?so(s,!!i.multiple,i.defaultValue,!0):so(s,!!i.multiple,i.multiple?[]:"",!1))}s[dl]=i}catch(_){ze(t,t.return,_)}}break;case 6:if(yn(e,t),$n(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){ze(t,t.return,_)}}break;case 3:if(yn(e,t),$n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ol(e.containerInfo)}catch(_){ze(t,t.return,_)}break;case 4:yn(e,t),$n(t);break;case 13:yn(e,t),$n(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lm=He())),r&4&&Uv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(c=Tt)||d,yn(e,t),Tt=c):yn(e,t),$n(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(m=Q,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ba(4,m,m.return);break;case 1:to(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(_){ze(r,n,_)}}break;case 5:to(m,m.return);break;case 22:if(m.memoizedState!==null){zv(f);continue}}p!==null?(p.return=m,Q=p):zv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=L_("display",o))}catch(_){ze(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){ze(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(e,t),$n(t),r&4&&Uv(t);break;case 21:break;default:yn(e,t),$n(t)}}function $n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uE(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(nl(s,""),r.flags&=-33);var i=jv(t);ap(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jv(t);op(t,a,o);break;default:throw Error(B(161))}}catch(u){ze(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uA(t,e,n){Q=t,hE(t)}function hE(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Au;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Tt;a=Au;var c=Tt;if(Au=o,(Tt=u)&&!c)for(Q=s;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?Bv(s):u!==null?(u.return=o,Q=u):Bv(s);for(;i!==null;)Q=i,hE(i),i=i.sibling;Q=s,Au=a,Tt=c}$v(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):$v(t)}}function $v(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||Td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ol(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Tt||e.flags&512&&ip(e)}catch(m){ze(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function zv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Bv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Td(4,e)}catch(u){ze(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){ze(e,s,u)}}var i=e.return;try{ip(e)}catch(u){ze(e,i,u)}break;case 5:var o=e.return;try{ip(e)}catch(u){ze(e,o,u)}}}catch(u){ze(e,e.return,u)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var cA=Math.ceil,Vc=Mr.ReactCurrentDispatcher,Mm=Mr.ReactCurrentOwner,dn=Mr.ReactCurrentBatchConfig,we=0,ut=null,Ge=null,pt=0,Kt=0,no=$s(0),tt=0,yl=null,_i=0,Sd=0,Vm=0,Ha=null,Ft=null,Lm=0,Do=1/0,gr=null,Lc=!1,lp=null,_s=null,Ru=!1,hs=null,Fc=0,Wa=0,up=null,Ju=-1,Zu=0;function kt(){return we&6?He():Ju!==-1?Ju:Ju=He()}function Es(t){return t.mode&1?we&2&&pt!==0?pt&-pt:GC.transition!==null?(Zu===0&&(Zu=Y_()),Zu):(t=Te,t!==0||(t=window.event,t=t===void 0?16:r1(t.type)),t):1}function Cn(t,e,n,r){if(50<Wa)throw Wa=0,up=null,Error(B(185));Ll(t,n,r),(!(we&2)||t!==ut)&&(t===ut&&(!(we&2)&&(Sd|=n),tt===4&&ts(t,pt)),Bt(t,r),n===1&&we===0&&!(e.mode&1)&&(Do=He()+500,_d&&zs()))}function Bt(t,e){var n=t.callbackNode;GI(t,e);var r=Ec(t,t===ut?pt:0);if(r===0)n!==null&&Jy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jy(n),e===1)t.tag===0?qC(Hv.bind(null,t)):x1(Hv.bind(null,t)),zC(function(){!(we&6)&&zs()}),n=null;else{switch(X_(r)){case 1:n=um;break;case 4:n=K_;break;case 16:n=_c;break;case 536870912:n=Q_;break;default:n=_c}n=_E(n,fE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fE(t,e){if(Ju=-1,Zu=0,we&6)throw Error(B(327));var n=t.callbackNode;if(uo()&&t.callbackNode!==n)return null;var r=Ec(t,t===ut?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jc(t,r);else{e=r;var s=we;we|=2;var i=mE();(ut!==t||pt!==e)&&(gr=null,Do=He()+500,hi(t,e));do try{fA();break}catch(a){pE(t,a)}while(!0);xm(),Vc.current=i,we=s,Ge!==null?e=0:(ut=null,pt=0,e=tt)}if(e!==0){if(e===2&&(s=Vf(t),s!==0&&(r=s,e=cp(t,s))),e===1)throw n=yl,hi(t,0),ts(t,r),Bt(t,He()),n;if(e===6)ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!dA(s)&&(e=jc(t,r),e===2&&(i=Vf(t),i!==0&&(r=i,e=cp(t,i))),e===1))throw n=yl,hi(t,0),ts(t,r),Bt(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ei(t,Ft,gr);break;case 3:if(ts(t,r),(r&130023424)===r&&(e=Lm+500-He(),10<e)){if(Ec(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hf(ei.bind(null,t,Ft,gr),e);break}ei(t,Ft,gr);break;case 4:if(ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-In(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cA(r/1960))-r,10<r){t.timeoutHandle=Hf(ei.bind(null,t,Ft,gr),r);break}ei(t,Ft,gr);break;case 5:ei(t,Ft,gr);break;default:throw Error(B(329))}}}return Bt(t,He()),t.callbackNode===n?fE.bind(null,t):null}function cp(t,e){var n=Ha;return t.current.memoizedState.isDehydrated&&(hi(t,e).flags|=256),t=jc(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&dp(e)),t}function dp(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function dA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Rn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e){for(e&=~Vm,e&=~Sd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function Hv(t){if(we&6)throw Error(B(327));uo();var e=Ec(t,0);if(!(e&1))return Bt(t,He()),null;var n=jc(t,e);if(t.tag!==0&&n===2){var r=Vf(t);r!==0&&(e=r,n=cp(t,r))}if(n===1)throw n=yl,hi(t,0),ts(t,e),Bt(t,He()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ei(t,Ft,gr),Bt(t,He()),null}function Fm(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Do=He()+500,_d&&zs())}}function Ei(t){hs!==null&&hs.tag===0&&!(we&6)&&uo();var e=we;we|=1;var n=dn.transition,r=Te;try{if(dn.transition=null,Te=1,t)return t()}finally{Te=r,dn.transition=n,we=e,!(we&6)&&zs()}}function jm(){Kt=no.current,ke(no)}function hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$C(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(wm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ic();break;case 3:ko(),ke($t),ke(bt),Am();break;case 5:Cm(r);break;case 4:ko();break;case 13:ke(Me);break;case 19:ke(Me);break;case 10:Tm(r.type._context);break;case 22:case 23:jm()}n=n.return}if(ut=t,Ge=t=xs(t.current,null),pt=Kt=e,tt=0,yl=null,Vm=Sd=_i=0,Ft=Ha=null,ri!==null){for(e=0;e<ri.length;e++)if(n=ri[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ri=null}return t}function pE(t,e){do{var n=Ge;try{if(xm(),Qu.current=Mc,Oc){for(var r=Le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Oc=!1}if(wi=0,lt=Je=Le=null,za=!1,pl=0,Mm.current=null,n===null||n.return===null){tt=1,yl=e,Ge=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=pt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=kv(o);if(p!==null){p.flags&=-257,Nv(p,o,a,i,e),p.mode&1&&Pv(i,c,e),e=p,u=c;var S=e.updateQueue;if(S===null){var _=new Set;_.add(u),e.updateQueue=_}else S.add(u);break e}else{if(!(e&1)){Pv(i,c,e),Um();break e}u=Error(B(426))}}else if(De&&a.mode&1){var x=kv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Nv(x,o,a,i,e),_m(No(u,a));break e}}i=u=No(u,a),tt!==4&&(tt=2),Ha===null?Ha=[i]:Ha.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=X1(i,u,e);Sv(i,y);break e;case 1:a=u;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(_s===null||!_s.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=J1(i,a,e);Sv(i,D);break e}}i=i.return}while(i!==null)}yE(n)}catch(O){e=O,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function mE(){var t=Vc.current;return Vc.current=Mc,t===null?Mc:t}function Um(){(tt===0||tt===3||tt===2)&&(tt=4),ut===null||!(_i&268435455)&&!(Sd&268435455)||ts(ut,pt)}function jc(t,e){var n=we;we|=2;var r=mE();(ut!==t||pt!==e)&&(gr=null,hi(t,e));do try{hA();break}catch(s){pE(t,s)}while(!0);if(xm(),we=n,Vc.current=r,Ge!==null)throw Error(B(261));return ut=null,pt=0,tt}function hA(){for(;Ge!==null;)gE(Ge)}function fA(){for(;Ge!==null&&!FI();)gE(Ge)}function gE(t){var e=wE(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?yE(t):Ge=e,Mm.current=null}function yE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oA(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ge=null;return}}else if(n=iA(n,e,Kt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);tt===0&&(tt=5)}function ei(t,e,n){var r=Te,s=dn.transition;try{dn.transition=null,Te=1,pA(t,e,n,r)}finally{dn.transition=s,Te=r}return null}function pA(t,e,n,r){do uo();while(hs!==null);if(we&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(KI(t,i),t===ut&&(Ge=ut=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ru||(Ru=!0,_E(_c,function(){return uo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dn.transition,dn.transition=null;var o=Te;Te=1;var a=we;we|=4,Mm.current=null,lA(t,n),dE(n,t),OC(zf),xc=!!$f,zf=$f=null,t.current=n,uA(n),jI(),we=a,Te=o,dn.transition=i}else t.current=n;if(Ru&&(Ru=!1,hs=t,Fc=s),i=t.pendingLanes,i===0&&(_s=null),zI(n.stateNode),Bt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lc)throw Lc=!1,t=lp,lp=null,t;return Fc&1&&t.tag!==0&&uo(),i=t.pendingLanes,i&1?t===up?Wa++:(Wa=0,up=t):Wa=0,zs(),null}function uo(){if(hs!==null){var t=X_(Fc),e=dn.transition,n=Te;try{if(dn.transition=null,Te=16>t?16:t,hs===null)var r=!1;else{if(t=hs,hs=null,Fc=0,we&6)throw Error(B(331));var s=we;for(we|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ba(8,d,i)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var m=d.sibling,p=d.return;if(lE(d),d===c){Q=null;break}if(m!==null){m.return=p,Q=m;break}Q=p}}}var S=i.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ba(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Q=y;break e}Q=i.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Td(9,a)}}catch(O){ze(a,a.return,O)}if(a===o){Q=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Q=D;break e}Q=a.return}}if(we=s,zs(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(md,t)}catch{}r=!0}return r}finally{Te=n,dn.transition=e}}return!1}function Wv(t,e,n){e=No(n,e),e=X1(t,e,1),t=ws(t,e,1),e=kt(),t!==null&&(Ll(t,1,e),Bt(t,e))}function ze(t,e,n){if(t.tag===3)Wv(t,t,n);else for(;e!==null;){if(e.tag===3){Wv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_s===null||!_s.has(r))){t=No(n,t),t=J1(e,t,1),e=ws(e,t,1),t=kt(),e!==null&&(Ll(e,1,t),Bt(e,t));break}}e=e.return}}function mA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(pt&n)===n&&(tt===4||tt===3&&(pt&130023424)===pt&&500>He()-Lm?hi(t,0):Vm|=n),Bt(t,e)}function vE(t,e){e===0&&(t.mode&1?(e=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):e=1);var n=kt();t=Ir(t,e),t!==null&&(Ll(t,e,n),Bt(t,n))}function gA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vE(t,n)}function yA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),vE(t,n)}var wE;wE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,sA(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,De&&e.flags&1048576&&T1(e,Rc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xu(t,e),t=e.pendingProps;var s=Ao(e,bt.current);lo(e,n),s=Pm(null,e,r,t,s,n);var i=km();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(i=!0,Cc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bm(e),s.updater=xd,e.stateNode=s,s._reactInternals=e,Xf(e,r,t,n),e=ep(null,e,r,!0,i,n)):(e.tag=0,De&&i&&vm(e),Rt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wA(r),t=wn(r,t),s){case 0:e=Zf(null,e,r,t,n);break e;case 1:e=Mv(null,e,r,t,n);break e;case 11:e=Dv(null,e,r,t,n);break e;case 14:e=Ov(null,e,r,wn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),Zf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),Mv(t,e,r,s,n);case 3:e:{if(nE(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,R1(t,e),Nc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=No(Error(B(423)),e),e=Vv(t,e,r,n,s);break e}else if(r!==s){s=No(Error(B(424)),e),e=Vv(t,e,r,n,s);break e}else for(Yt=vs(e.stateNode.containerInfo.firstChild),Jt=e,De=!0,Sn=null,n=C1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),r===s){e=Cr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return P1(e),t===null&&Kf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bf(r,s)?o=null:i!==null&&Bf(r,i)&&(e.flags|=32),tE(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&Kf(e),null;case 13:return rE(t,e,n);case 4:return Im(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Po(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),Dv(t,e,r,s,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ie(Pc,r._currentValue),r._currentValue=o,i!==null)if(Rn(i.value,o)){if(i.children===s.children&&!$t.current){e=Cr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Tr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Qf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,lo(e,n),s=hn(s),r=r(s),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,s=wn(r,e.pendingProps),s=wn(r.type,s),Ov(t,e,r,s,n);case 15:return Z1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),Xu(t,e),e.tag=1,zt(r)?(t=!0,Cc(e)):t=!1,lo(e,n),Y1(e,r,s),Xf(e,r,s,n),ep(null,e,r,!0,t,n);case 19:return sE(t,e,n);case 22:return eE(t,e,n)}throw Error(B(156,e.tag))};function _E(t,e){return G_(t,e)}function vA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new vA(t,e,n,r)}function $m(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wA(t){if(typeof t=="function")return $m(t)?1:0;if(t!=null){if(t=t.$$typeof,t===om)return 11;if(t===am)return 14}return 2}function xs(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ec(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")$m(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qi:return fi(n.children,s,i,e);case im:o=8,s|=8;break;case Ef:return t=cn(12,n,e,s|2),t.elementType=Ef,t.lanes=i,t;case xf:return t=cn(13,n,e,s),t.elementType=xf,t.lanes=i,t;case Tf:return t=cn(19,n,e,s),t.elementType=Tf,t.lanes=i,t;case P_:return bd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A_:o=10;break e;case R_:o=9;break e;case om:o=11;break e;case am:o=14;break e;case Jr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=cn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function bd(t,e,n,r){return t=cn(22,t,r,e),t.elementType=P_,t.lanes=n,t.stateNode={isHidden:!1},t}function Xh(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Jh(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _A(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nh(0),this.expirationTimes=Nh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zm(t,e,n,r,s,i,o,a,u){return t=new _A(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bm(i),t}function EA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EE(t){if(!t)return Rs;t=t._reactInternals;e:{if(Pi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(zt(n))return E1(t,n,e)}return e}function xE(t,e,n,r,s,i,o,a,u){return t=zm(n,r,!0,t,s,i,o,a,u),t.context=EE(null),n=t.current,r=kt(),s=Es(n),i=Tr(r,s),i.callback=e??null,ws(n,i,s),t.current.lanes=s,Ll(t,s,r),Bt(t,r),t}function Id(t,e,n,r){var s=e.current,i=kt(),o=Es(s);return n=EE(n),e.context===null?e.context=n:e.pendingContext=n,e=Tr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ws(s,e,o),t!==null&&(Cn(t,s,o,i),Ku(t,s,o)),o}function Uc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bm(t,e){qv(t,e),(t=t.alternate)&&qv(t,e)}function xA(){return null}var TE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hm(t){this._internalRoot=t}Cd.prototype.render=Hm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Id(t,e,null,null)};Cd.prototype.unmount=Hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){Id(null,t,null,null)}),e[br]=null}};function Cd(t){this._internalRoot=t}Cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=e1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<es.length&&e!==0&&e<es[n].priority;n++);es.splice(n,0,t),n===0&&n1(t)}};function Wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function TA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Uc(o);i.call(c)}}var o=xE(e,r,t,0,null,!1,!1,"",Gv);return t._reactRootContainer=o,t[br]=o.current,ul(t.nodeType===8?t.parentNode:t),Ei(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Uc(u);a.call(c)}}var u=zm(t,0,!1,null,null,!1,!1,"",Gv);return t._reactRootContainer=u,t[br]=u.current,ul(t.nodeType===8?t.parentNode:t),Ei(function(){Id(e,u,n,r)}),u}function Rd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Uc(o);a.call(u)}}Id(e,o,t,s)}else o=TA(n,e,t,s,r);return Uc(o)}J_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ka(e.pendingLanes);n!==0&&(cm(e,n|1),Bt(e,He()),!(we&6)&&(Do=He()+500,zs()))}break;case 13:Ei(function(){var r=Ir(t,1);if(r!==null){var s=kt();Cn(r,t,1,s)}}),Bm(t,1)}};dm=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=kt();Cn(e,t,134217728,n)}Bm(t,134217728)}};Z_=function(t){if(t.tag===13){var e=Es(t),n=Ir(t,e);if(n!==null){var r=kt();Cn(n,t,e,r)}Bm(t,e)}};e1=function(){return Te};t1=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Df=function(t,e,n){switch(e){case"input":if(If(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wd(r);if(!s)throw Error(B(90));N_(r),If(r,s)}}}break;case"textarea":O_(t,n);break;case"select":e=n.value,e!=null&&so(t,!!n.multiple,e,!1)}};$_=Fm;z_=Ei;var SA={usingClientEntryPoint:!1,Events:[jl,Yi,wd,j_,U_,Fm]},ba={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bA={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W_(t),t===null?null:t.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||xA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{md=Pu.inject(bA),Yn=Pu}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wm(e))throw Error(B(200));return EA(t,e,null,n)};tn.createRoot=function(t,e){if(!Wm(t))throw Error(B(299));var n=!1,r="",s=TE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zm(t,1,!1,null,null,n,!1,r,s),t[br]=e.current,ul(t.nodeType===8?t.parentNode:t),new Hm(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=W_(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return Ei(t)};tn.hydrate=function(t,e,n){if(!Ad(e))throw Error(B(200));return Rd(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!Wm(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=TE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xE(e,null,t,1,n??null,s,!1,i,o),t[br]=e.current,ul(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Cd(e)};tn.render=function(t,e,n){if(!Ad(e))throw Error(B(200));return Rd(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!Ad(t))throw Error(B(40));return t._reactRootContainer?(Ei(function(){Rd(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1};tn.unstable_batchedUpdates=Fm;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ad(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Rd(t,e,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function SE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SE)}catch(t){console.error(t)}}SE(),S_.exports=tn;var $l=S_.exports;const bE=d_($l);var IE,Kv=$l;IE=Kv.createRoot,Kv.hydrateRoot;const IA=1,CA=1e6;let Zh=0;function AA(){return Zh=(Zh+1)%Number.MAX_SAFE_INTEGER,Zh.toString()}const ef=new Map,Qv=t=>{if(ef.has(t))return;const e=setTimeout(()=>{ef.delete(t),qa({type:"REMOVE_TOAST",toastId:t})},CA);ef.set(t,e)},RA=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,IA)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Qv(n):t.toasts.forEach(r=>{Qv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},tc=[];let nc={toasts:[]};function qa(t){nc=RA(nc,t),tc.forEach(e=>{e(nc)})}function PA({...t}){const e=AA(),n=s=>qa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>qa({type:"DISMISS_TOAST",toastId:e});return qa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function kA(){const[t,e]=k.useState(nc);return k.useEffect(()=>(tc.push(e),()=>{const n=tc.indexOf(e);n>-1&&tc.splice(n,1)}),[t]),{...t,toast:PA,dismiss:n=>qa({type:"DISMISS_TOAST",toastId:n})}}function Ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Yv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CE(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Yv(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Yv(t[s],null)}}}}function Pn(...t){return k.useCallback(CE(...t),t)}function Pd(t,e=[]){let n=[];function r(i,o){const a=k.createContext(o),u=n.length;n=[...n,o];const c=f=>{var y;const{scope:m,children:p,...S}=f,_=((y=m==null?void 0:m[t])==null?void 0:y[u])||a,x=k.useMemo(()=>S,Object.values(S));return E.jsx(_.Provider,{value:x,children:p})};c.displayName=i+"Provider";function d(f,m){var _;const p=((_=m==null?void 0:m[t])==null?void 0:_[u])||a,S=k.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>k.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return k.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,NA(s,...e)]}function NA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...a,...f}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $c(t){const e=OA(t),n=k.forwardRef((r,s)=>{const{children:i,...o}=r,a=k.Children.toArray(i),u=a.find(VA);if(u){const c=u.props.children,d=a.map(f=>f===u?k.Children.count(c)>1?k.Children.only(null):k.isValidElement(c)?c.props.children:null:f);return E.jsx(e,{...o,ref:s,children:k.isValidElement(c)?k.cloneElement(c,void 0,d):null})}return E.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var DA=$c("Slot");function OA(t){const e=k.forwardRef((n,r)=>{const{children:s,...i}=n;if(k.isValidElement(s)){const o=FA(s),a=LA(i,s.props);return s.type!==k.Fragment&&(a.ref=r?CE(r,o):o),k.cloneElement(s,a)}return k.Children.count(s)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AE=Symbol("radix.slottable");function MA(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=AE,e}function VA(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AE}function LA(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function FA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jA(t){const e=t+"CollectionProvider",[n,r]=Pd(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:x,children:y}=_,v=W.useRef(null),T=W.useRef(new Map).current;return E.jsx(s,{scope:x,itemMap:T,collectionRef:v,children:y})};o.displayName=e;const a=t+"CollectionSlot",u=$c(a),c=W.forwardRef((_,x)=>{const{scope:y,children:v}=_,T=i(a,y),D=Pn(x,T.collectionRef);return E.jsx(u,{ref:D,children:v})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=$c(d),p=W.forwardRef((_,x)=>{const{scope:y,children:v,...T}=_,D=W.useRef(null),O=Pn(x,D),V=i(d,y);return W.useEffect(()=>(V.itemMap.set(D,{ref:D,...T}),()=>void V.itemMap.delete(D))),E.jsx(m,{[f]:"",ref:O,children:v})});p.displayName=d;function S(_){const x=i(t+"CollectionConsumer",_);return W.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const T=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((V,b)=>T.indexOf(V.ref.current)-T.indexOf(b.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},S,r]}var UA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=UA.reduce((t,e)=>{const n=$c(`Primitive.${e}`),r=k.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function RE(t,e){t&&$l.flushSync(()=>t.dispatchEvent(e))}function Ps(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $A(t,e=globalThis==null?void 0:globalThis.document){const n=Ps(t);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var zA="DismissableLayer",hp="dismissableLayer.update",BA="dismissableLayer.pointerDownOutside",HA="dismissableLayer.focusOutside",Xv,PE=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qm=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=k.useContext(PE),[d,f]=k.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=k.useState({}),S=Pn(e,b=>f(b)),_=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=_.indexOf(x),v=d?_.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,D=v>=y,O=qA(b=>{const w=b.target,C=[...c.branches].some(A=>A.contains(w));!D||C||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},m),V=GA(b=>{const w=b.target;[...c.branches].some(A=>A.contains(w))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},m);return $A(b=>{v===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),k.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Xv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Jv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Xv)}},[d,m,n,c]),k.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Jv())},[d,c]),k.useEffect(()=>{const b=()=>p({});return document.addEventListener(hp,b),()=>document.removeEventListener(hp,b)},[]),E.jsx(Wt.div,{...u,ref:S,style:{pointerEvents:T?D?"auto":"none":void 0,...t.style},onFocusCapture:Ze(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Ze(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ze(t.onPointerDownCapture,O.onPointerDownCapture)})});qm.displayName=zA;var WA="DismissableLayerBranch",kE=k.forwardRef((t,e)=>{const n=k.useContext(PE),r=k.useRef(null),s=Pn(e,r);return k.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),E.jsx(Wt.div,{...t,ref:s})});kE.displayName=WA;function qA(t,e=globalThis==null?void 0:globalThis.document){const n=Ps(t),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){NE(BA,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function GA(t,e=globalThis==null?void 0:globalThis.document){const n=Ps(t),r=k.useRef(!1);return k.useEffect(()=>{const s=i=>{i.target&&!r.current&&NE(HA,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jv(){const t=new CustomEvent(hp);document.dispatchEvent(t)}function NE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?RE(s,i):s.dispatchEvent(i)}var KA=qm,QA=kE,ks=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},YA="Portal",DE=k.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=k.useState(!1);ks(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?bE.createPortal(E.jsx(Wt.div,{...r,ref:e}),o):null});DE.displayName=YA;function XA(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var Gm=t=>{const{present:e,children:n}=t,r=JA(e),s=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),i=Pn(r.ref,ZA(s));return typeof n=="function"||r.isPresent?k.cloneElement(s,{ref:i}):null};Gm.displayName="Presence";function JA(t){const[e,n]=k.useState(),r=k.useRef(null),s=k.useRef(t),i=k.useRef("none"),o=t?"mounted":"unmounted",[a,u]=XA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const c=ku(r.current);i.current=a==="mounted"?c:"none"},[a]),ks(()=>{const c=r.current,d=s.current;if(d!==t){const m=i.current,p=ku(c);t?u("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),ks(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const _=ku(r.current).includes(p.animationName);if(p.target===e&&_&&(u("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=p=>{p.target===e&&(i.current=ku(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:k.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function ku(t){return(t==null?void 0:t.animationName)||"none"}function ZA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eR=x_[" useInsertionEffect ".trim().toString()]||ks;function tR({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=nR({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const d=k.useRef(t!==void 0);k.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=k.useCallback(d=>{var f;if(a){const m=rR(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else i(d)},[a,t,i,o]);return[u,c]}function nR({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),s=k.useRef(n),i=k.useRef(e);return eR(()=>{i.current=e},[e]),k.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function rR(t){return typeof t=="function"}var sR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iR="VisuallyHidden",kd=k.forwardRef((t,e)=>E.jsx(Wt.span,{...t,ref:e,style:{...sR,...t.style}}));kd.displayName=iR;var oR=kd,Km="ToastProvider",[Qm,aR,lR]=jA("Toast"),[OE,F3]=Pd("Toast",[lR]),[uR,Nd]=OE(Km),ME=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=k.useState(null),[c,d]=k.useState(0),f=k.useRef(!1),m=k.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Km}\`. Expected non-empty \`string\`.`),E.jsx(Qm.Provider,{scope:e,children:E.jsx(uR,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:k.useCallback(()=>d(p=>p+1),[]),onToastRemove:k.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};ME.displayName=Km;var VE="ToastViewport",cR=["F8"],fp="toast.viewportPause",pp="toast.viewportResume",LE=k.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=cR,label:s="Notifications ({hotkey})",...i}=t,o=Nd(VE,n),a=aR(n),u=k.useRef(null),c=k.useRef(null),d=k.useRef(null),f=k.useRef(null),m=Pn(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;k.useEffect(()=>{const x=y=>{var T;r.length!==0&&r.every(D=>y[D]||y.code===D)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),k.useEffect(()=>{const x=u.current,y=f.current;if(S&&x&&y){const v=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(fp);y.dispatchEvent(V),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(pp);y.dispatchEvent(V),o.isClosePausedRef.current=!1}},D=V=>{!x.contains(V.relatedTarget)&&T()},O=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",v),x.addEventListener("focusout",D),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",D),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const _=k.useCallback(({tabbingDirection:x})=>{const v=a().map(T=>{const D=T.ref.current,O=[D,...TR(D)];return x==="forwards"?O:O.reverse()});return(x==="forwards"?v.reverse():v).flat()},[a]);return k.useEffect(()=>{const x=f.current;if(x){const y=v=>{var O,V,b;const T=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!T){const w=document.activeElement,C=v.shiftKey;if(v.target===x&&C){(O=c.current)==null||O.focus();return}const N=_({tabbingDirection:C?"backwards":"forwards"}),P=N.findIndex(H=>H===w);tf(N.slice(P+1))?v.preventDefault():C?(V=c.current)==null||V.focus():(b=d.current)==null||b.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,_]),E.jsxs(QA,{ref:u,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&E.jsx(mp,{ref:c,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"forwards"});tf(x)}}),E.jsx(Qm.Slot,{scope:n,children:E.jsx(Wt.ol,{tabIndex:-1,...i,ref:m})}),S&&E.jsx(mp,{ref:d,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"backwards"});tf(x)}})]})});LE.displayName=VE;var FE="ToastFocusProxy",mp=k.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Nd(FE,n);return E.jsx(kd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});mp.displayName=FE;var zl="Toast",dR="toast.swipeStart",hR="toast.swipeMove",fR="toast.swipeCancel",pR="toast.swipeEnd",jE=k.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,u]=tR({prop:r,defaultProp:s??!0,onChange:i,caller:zl});return E.jsx(Gm,{present:n||a,children:E.jsx(yR,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:Ps(t.onPause),onResume:Ps(t.onResume),onSwipeStart:Ze(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ze(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ze(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ze(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});jE.displayName=zl;var[mR,gR]=OE(zl,{onClose(){}}),yR=k.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...S}=t,_=Nd(zl,n),[x,y]=k.useState(null),v=Pn(e,H=>y(H)),T=k.useRef(null),D=k.useRef(null),O=s||_.duration,V=k.useRef(0),b=k.useRef(O),w=k.useRef(0),{onToastAdd:C,onToastRemove:A}=_,R=Ps(()=>{var ie;(x==null?void 0:x.contains(document.activeElement))&&((ie=_.viewport)==null||ie.focus()),o()}),N=k.useCallback(H=>{!H||H===1/0||(window.clearTimeout(w.current),V.current=new Date().getTime(),w.current=window.setTimeout(R,H))},[R]);k.useEffect(()=>{const H=_.viewport;if(H){const ie=()=>{N(b.current),c==null||c()},te=()=>{const oe=new Date().getTime()-V.current;b.current=b.current-oe,window.clearTimeout(w.current),u==null||u()};return H.addEventListener(fp,te),H.addEventListener(pp,ie),()=>{H.removeEventListener(fp,te),H.removeEventListener(pp,ie)}}},[_.viewport,O,u,c,N]),k.useEffect(()=>{i&&!_.isClosePausedRef.current&&N(O)},[i,O,_.isClosePausedRef,N]),k.useEffect(()=>(C(),()=>A()),[C,A]);const P=k.useMemo(()=>x?qE(x):null,[x]);return _.viewport?E.jsxs(E.Fragment,{children:[P&&E.jsx(vR,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),E.jsx(mR,{scope:n,onClose:R,children:$l.createPortal(E.jsx(Qm.ItemSlot,{scope:n,children:E.jsx(KA,{asChild:!0,onEscapeKeyDown:Ze(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||R(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(Wt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...S,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ze(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Ze(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ze(t.onPointerMove,H=>{if(!T.current)return;const ie=H.clientX-T.current.x,te=H.clientY-T.current.y,oe=!!D.current,F=["left","right"].includes(_.swipeDirection),$=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,G=F?$(0,ie):0,re=F?0:$(0,te),X=H.pointerType==="touch"?10:2,de={x:G,y:re},ue={originalEvent:H,delta:de};oe?(D.current=de,Nu(hR,f,ue,{discrete:!1})):Zv(de,_.swipeDirection,X)?(D.current=de,Nu(dR,d,ue,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ie)>X||Math.abs(te)>X)&&(T.current=null)}),onPointerUp:Ze(t.onPointerUp,H=>{const ie=D.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),D.current=null,T.current=null,ie){const oe=H.currentTarget,F={originalEvent:H,delta:ie};Zv(ie,_.swipeDirection,_.swipeThreshold)?Nu(pR,p,F,{discrete:!0}):Nu(fR,m,F,{discrete:!0}),oe.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),vR=t=>{const{__scopeToast:e,children:n,...r}=t,s=Nd(zl,e),[i,o]=k.useState(!1),[a,u]=k.useState(!1);return ER(()=>o(!0)),k.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:E.jsx(DE,{asChild:!0,children:E.jsx(kd,{...r,children:i&&E.jsxs(E.Fragment,{children:[s.label," ",n]})})})},wR="ToastTitle",UE=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(Wt.div,{...r,ref:e})});UE.displayName=wR;var _R="ToastDescription",$E=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(Wt.div,{...r,ref:e})});$E.displayName=_R;var zE="ToastAction",BE=k.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?E.jsx(WE,{altText:n,asChild:!0,children:E.jsx(Ym,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zE}\`. Expected non-empty \`string\`.`),null)});BE.displayName=zE;var HE="ToastClose",Ym=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=gR(HE,n);return E.jsx(WE,{asChild:!0,children:E.jsx(Wt.button,{type:"button",...r,ref:e,onClick:Ze(t.onClick,s.onClose)})})});Ym.displayName=HE;var WE=k.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return E.jsx(Wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function qE(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),xR(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...qE(r))}}),e}function Nu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?RE(s,i):s.dispatchEvent(i)}var Zv=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function ER(t=()=>{}){const e=Ps(t);ks(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function xR(t){return t.nodeType===t.ELEMENT_NODE}function TR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var SR=ME,GE=LE,KE=jE,QE=UE,YE=$E,XE=BE,JE=Ym;function ZE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ZE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ex(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ZE(t))&&(r&&(r+=" "),r+=e);return r}const e0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,t0=ex,tx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return t0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const m=e0(d)||e0(f);return s[c][m]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(S=>{let[_,x]=S;return Array.isArray(x)?x.includes({...i,...a}[_]):{...i,...a}[_]===x})?[...c,f,m]:c},[]);return t0(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>k.createElement("svg",{ref:u,...IR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nx("lucide",s),...a},[...o.map(([c,d])=>k.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const n=k.forwardRef(({className:r,...s},i)=>k.createElement(CR,{ref:i,iconNode:e,className:nx(`lucide-${bR(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=ct("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ct("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=ct("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=ct("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=ct("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=ct("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=ct("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=ct("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=ct("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=ct("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=ct("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xm="-",$R=t=>{const e=BR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Xm);return a[0]===""&&a.length!==1&&a.shift(),ix(a,e)||zR(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},ix=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ix(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Xm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},r0=/^\[(.+)\]$/,zR=t=>{if(r0.test(t)){const e=r0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},BR=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return WR(Object.entries(t.classGroups),n).forEach(([i,o])=>{yp(o,r,i,e)}),r},yp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:s0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(HR(s)){yp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{yp(o,s0(e,i),n,r)})})},s0=(t,e)=>{let n=t;return e.split(Xm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},HR=t=>t.isThemeGetter,WR=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,qR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},ox="!",GR=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,d=0,f;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===s&&(r||a.slice(x,x+i)===e)){u.push(a.slice(d,x)),d=x+i;continue}if(y==="/"){f=x;continue}}y==="["?c++:y==="]"&&c--}const m=u.length===0?a:a.substring(d),p=m.startsWith(ox),S=p?m.substring(1):m,_=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},KR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},QR=t=>({cache:qR(t.cacheSize),parseClassName:GR(t),...$R(t)}),YR=/\s+/,XR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(YR);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(c);let S=!!p,_=r(S?m.substring(0,p):m);if(!_){if(!S){a=c+(a.length>0?" "+a:a);continue}if(_=r(m),!_){a=c+(a.length>0?" "+a:a);continue}S=!1}const x=KR(d).join(":"),y=f?x+ox:x,v=y+_;if(i.includes(v))continue;i.push(v);const T=s(_,S);for(let D=0;D<T.length;++D){const O=T[D];i.push(y+O)}a=c+(a.length>0?" "+a:a)}return a};function JR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ax(e))&&(r&&(r+=" "),r+=n);return r}const ax=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ax(t[r]))&&(n&&(n+=" "),n+=e);return n};function ZR(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,f)=>f(d),t());return n=QR(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=XR(u,n);return s(u,d),d}return function(){return i(JR.apply(null,arguments))}}const Ae=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lx=/^\[(?:([a-z-]+):)?(.+)\]$/i,eP=/^\d+\/\d+$/,tP=new Set(["px","full","screen"]),nP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=t=>co(t)||tP.has(t)||eP.test(t),Kr=t=>Go(t,"length",pP),co=t=>!!t&&!Number.isNaN(Number(t)),nf=t=>Go(t,"number",co),Ia=t=>!!t&&Number.isInteger(Number(t)),aP=t=>t.endsWith("%")&&co(t.slice(0,-1)),ce=t=>lx.test(t),Qr=t=>nP.test(t),lP=new Set(["length","size","percentage"]),uP=t=>Go(t,lP,ux),cP=t=>Go(t,"position",ux),dP=new Set(["image","url"]),hP=t=>Go(t,dP,gP),fP=t=>Go(t,"",mP),Ca=()=>!0,Go=(t,e,n)=>{const r=lx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},pP=t=>rP.test(t)&&!sP.test(t),ux=()=>!1,mP=t=>iP.test(t),gP=t=>oP.test(t),yP=()=>{const t=Ae("colors"),e=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),s=Ae("borderColor"),i=Ae("borderRadius"),o=Ae("borderSpacing"),a=Ae("borderWidth"),u=Ae("contrast"),c=Ae("grayscale"),d=Ae("hueRotate"),f=Ae("invert"),m=Ae("gap"),p=Ae("gradientColorStops"),S=Ae("gradientColorStopPositions"),_=Ae("inset"),x=Ae("margin"),y=Ae("opacity"),v=Ae("padding"),T=Ae("saturate"),D=Ae("scale"),O=Ae("sepia"),V=Ae("skew"),b=Ae("space"),w=Ae("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",ce,e],N=()=>[ce,e],P=()=>["",pr,Kr],H=()=>["auto",co,ce],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ce],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[co,ce];return{cacheSize:500,separator:":",theme:{colors:[Ca],spacing:[pr,Kr],blur:["none","",Qr,ce],brightness:re(),borderColor:[t],borderRadius:["none","","full",Qr,ce],borderSpacing:N(),borderWidth:P(),contrast:re(),grayscale:$(),hueRotate:re(),invert:$(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[aP,Kr],inset:R(),margin:R(),opacity:re(),padding:N(),saturate:re(),scale:re(),sepia:$(),skew:re(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Qr]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),ce]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ia,ce]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ia,ce]}],"grid-cols":[{"grid-cols":[Ca]}],"col-start-end":[{col:["auto",{span:["full",Ia,ce]},ce]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ca]}],"row-start-end":[{row:["auto",{span:[Ia,ce]},ce]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Qr]},Qr]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qr,Kr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nf]}],"font-family":[{font:[Ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",co,nf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Kr]}],"underline-offset":[{"underline-offset":["auto",pr,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),cP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[pr,ce]}],"outline-w":[{outline:[pr,Kr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[pr,Kr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qr,fP]}],"shadow-color":[{shadow:[Ca]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Qr,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Ia,ce]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pr,Kr,nf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vP=ZR(yP);function Vr(...t){return vP(ex(t))}const wP=SR,cx=k.forwardRef(({className:t,...e},n)=>E.jsx(GE,{ref:n,className:Vr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));cx.displayName=GE.displayName;const _P=tx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dx=k.forwardRef(({className:t,variant:e,...n},r)=>E.jsx(KE,{ref:r,className:Vr(_P({variant:e}),t),...n}));dx.displayName=KE.displayName;const EP=k.forwardRef(({className:t,...e},n)=>E.jsx(XE,{ref:n,className:Vr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));EP.displayName=XE.displayName;const hx=k.forwardRef(({className:t,...e},n)=>E.jsx(JE,{ref:n,className:Vr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:E.jsx(UR,{className:"h-4 w-4"})}));hx.displayName=JE.displayName;const fx=k.forwardRef(({className:t,...e},n)=>E.jsx(QE,{ref:n,className:Vr("text-sm font-semibold",t),...e}));fx.displayName=QE.displayName;const px=k.forwardRef(({className:t,...e},n)=>E.jsx(YE,{ref:n,className:Vr("text-sm opacity-90",t),...e}));px.displayName=YE.displayName;function xP(){const{toasts:t}=kA();return E.jsxs(wP,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return E.jsxs(dx,{...i,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(fx,{children:n}),r&&E.jsx(px,{children:r})]}),s,E.jsx(hx,{})]},e)}),E.jsx(cx,{})]})}var i0=["light","dark"],TP="(prefers-color-scheme: dark)",SP=k.createContext(void 0),bP={setTheme:t=>{},themes:[]},IP=()=>{var t;return(t=k.useContext(SP))!=null?t:bP};k.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:u})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?i0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(S,_=!1,x=!0)=>{let y=o?o[S]:S,v=_?S+"|| ''":`'${y}'`,T="";return s&&x&&!_&&i0.includes(S)&&(T+=`d.style.colorScheme = '${S}';`),n==="class"?_||y?T+=`c.add(${v})`:T+="null":y&&(T+=`d[s](n,${v})`),T},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${TP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${c?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return k.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})});var CP=t=>{switch(t){case"success":return PP;case"info":return NP;case"warning":return kP;case"error":return DP;default:return null}},AP=Array(12).fill(0),RP=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},AP.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),PP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),NP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OP=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MP=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},vp=1,VP=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:vp++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async u=>{if(i=["resolve",u],W.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(FP(u)&&!u.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:n,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(u):e.success,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async u=>{if(i=["reject",u],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(u):e.error,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var u;s&&(this.dismiss(n),n=void 0),(u=e.finally)==null||u.call(e)}),a=()=>new Promise((u,c)=>o.then(()=>i[0]==="reject"?c(i[1]):u(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||vp++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vt=new VP,LP=(t,e)=>{let n=(e==null?void 0:e.id)||vp++;return Vt.addToast({title:t,...e,id:n}),n},FP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jP=LP,UP=()=>Vt.toasts,$P=()=>Vt.getActiveToasts(),zP=Object.assign(jP,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:UP,getToasts:$P});function BP(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}BP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Du(t){return t.label!==void 0}var HP=3,WP="32px",qP="16px",o0=4e3,GP=356,KP=14,QP=20,YP=200;function vn(...t){return t.filter(Boolean).join(" ")}function XP(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var JP=t=>{var e,n,r,s,i,o,a,u,c,d,f;let{invert:m,toast:p,unstyled:S,interacting:_,setHeights:x,visibleToasts:y,heights:v,index:T,toasts:D,expanded:O,removeToast:V,defaultRichColors:b,closeButton:w,style:C,cancelButtonStyle:A,actionButtonStyle:R,className:N="",descriptionClassName:P="",duration:H,position:ie,gap:te,loadingIcon:oe,expandByDefault:F,classNames:$,icons:G,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:X}=t,[de,ue]=W.useState(null),[Ne,We]=W.useState(null),[ye,Dn]=W.useState(!1),[pn,cr]=W.useState(!1),[On,dr]=W.useState(!1),[rn,Ws]=W.useState(!1),[ra,Fr]=W.useState(!1),[qs,jr]=W.useState(0),[Oe,st]=W.useState(0),Mn=W.useRef(p.duration||H||o0),eu=W.useRef(null),Vn=W.useRef(null),ch=T===0,Gs=T+1<=y,Ct=p.type,hr=p.dismissible!==!1,sa=p.className||"",dh=p.descriptionClassName||"",Mi=W.useMemo(()=>v.findIndex(Z=>Z.toastId===p.id)||0,[v,p.id]),tu=W.useMemo(()=>{var Z;return(Z=p.closeButton)!=null?Z:w},[p.closeButton,w]),ia=W.useMemo(()=>p.duration||H||o0,[p.duration,H]),fr=W.useRef(0),Ln=W.useRef(0),Vi=W.useRef(0),Ot=W.useRef(null),[nu,Li]=ie.split("-"),oa=W.useMemo(()=>v.reduce((Z,Ee,be)=>be>=Mi?Z:Z+Ee.height,0),[v,Mi]),Ur=MP(),ru=p.invert||m,Ye=Ct==="loading";Ln.current=W.useMemo(()=>Mi*te+oa,[Mi,oa]),W.useEffect(()=>{Mn.current=ia},[ia]),W.useEffect(()=>{Dn(!0)},[]),W.useEffect(()=>{let Z=Vn.current;if(Z){let Ee=Z.getBoundingClientRect().height;return st(Ee),x(be=>[{toastId:p.id,height:Ee,position:p.position},...be]),()=>x(be=>be.filter(it=>it.toastId!==p.id))}},[x,p.id]),W.useLayoutEffect(()=>{if(!ye)return;let Z=Vn.current,Ee=Z.style.height;Z.style.height="auto";let be=Z.getBoundingClientRect().height;Z.style.height=Ee,st(be),x(it=>it.find(qt=>qt.toastId===p.id)?it.map(qt=>qt.toastId===p.id?{...qt,height:be}:qt):[{toastId:p.id,height:be,position:p.position},...it])},[ye,p.title,p.description,x,p.id]);let mn=W.useCallback(()=>{cr(!0),jr(Ln.current),x(Z=>Z.filter(Ee=>Ee.toastId!==p.id)),setTimeout(()=>{V(p)},YP)},[p,V,x,Ln]);W.useEffect(()=>{if(p.promise&&Ct==="loading"||p.duration===1/0||p.type==="loading")return;let Z;return O||_||X&&Ur?(()=>{if(Vi.current<fr.current){let Ee=new Date().getTime()-fr.current;Mn.current=Mn.current-Ee}Vi.current=new Date().getTime()})():Mn.current!==1/0&&(fr.current=new Date().getTime(),Z=setTimeout(()=>{var Ee;(Ee=p.onAutoClose)==null||Ee.call(p,p),mn()},Mn.current)),()=>clearTimeout(Z)},[O,_,p,Ct,X,Ur,mn]),W.useEffect(()=>{p.delete&&mn()},[mn,p.delete]);function Ks(){var Z,Ee,be;return G!=null&&G.loading?W.createElement("div",{className:vn($==null?void 0:$.loader,(Z=p==null?void 0:p.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":Ct==="loading"},G.loading):oe?W.createElement("div",{className:vn($==null?void 0:$.loader,(Ee=p==null?void 0:p.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Ct==="loading"},oe):W.createElement(RP,{className:vn($==null?void 0:$.loader,(be=p==null?void 0:p.classNames)==null?void 0:be.loader),visible:Ct==="loading"})}return W.createElement("li",{tabIndex:0,ref:Vn,className:vn(N,sa,$==null?void 0:$.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[Ct],(n=p==null?void 0:p.classNames)==null?void 0:n[Ct]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:b,"data-styled":!(p.jsx||p.unstyled||S),"data-mounted":ye,"data-promise":!!p.promise,"data-swiped":ra,"data-removed":pn,"data-visible":Gs,"data-y-position":nu,"data-x-position":Li,"data-index":T,"data-front":ch,"data-swiping":On,"data-dismissible":hr,"data-type":Ct,"data-invert":ru,"data-swipe-out":rn,"data-swipe-direction":Ne,"data-expanded":!!(O||F&&ye),style:{"--index":T,"--toasts-before":T,"--z-index":D.length-T,"--offset":`${pn?qs:Ln.current}px`,"--initial-height":F?"auto":`${Oe}px`,...C,...p.style},onDragEnd:()=>{dr(!1),ue(null),Ot.current=null},onPointerDown:Z=>{Ye||!hr||(eu.current=new Date,jr(Ln.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(dr(!0),Ot.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,Ee,be,it;if(rn||!hr)return;Ot.current=null;let qt=Number(((Z=Vn.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fn=Number(((Ee=Vn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),sn=new Date().getTime()-((be=eu.current)==null?void 0:be.getTime()),Mt=de==="x"?qt:Fn,gn=Math.abs(Mt)/sn;if(Math.abs(Mt)>=QP||gn>.11){jr(Ln.current),(it=p.onDismiss)==null||it.call(p,p),We(de==="x"?qt>0?"right":"left":Fn>0?"down":"up"),mn(),Ws(!0),Fr(!1);return}dr(!1),ue(null)},onPointerMove:Z=>{var Ee,be,it,qt;if(!Ot.current||!hr||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Fn=Z.clientY-Ot.current.y,sn=Z.clientX-Ot.current.x,Mt=(be=t.swipeDirections)!=null?be:XP(ie);!de&&(Math.abs(sn)>1||Math.abs(Fn)>1)&&ue(Math.abs(sn)>Math.abs(Fn)?"x":"y");let gn={x:0,y:0};de==="y"?(Mt.includes("top")||Mt.includes("bottom"))&&(Mt.includes("top")&&Fn<0||Mt.includes("bottom")&&Fn>0)&&(gn.y=Fn):de==="x"&&(Mt.includes("left")||Mt.includes("right"))&&(Mt.includes("left")&&sn<0||Mt.includes("right")&&sn>0)&&(gn.x=sn),(Math.abs(gn.x)>0||Math.abs(gn.y)>0)&&Fr(!0),(it=Vn.current)==null||it.style.setProperty("--swipe-amount-x",`${gn.x}px`),(qt=Vn.current)==null||qt.style.setProperty("--swipe-amount-y",`${gn.y}px`)}},tu&&!p.jsx?W.createElement("button",{"aria-label":re,"data-disabled":Ye,"data-close-button":!0,onClick:Ye||!hr?()=>{}:()=>{var Z;mn(),(Z=p.onDismiss)==null||Z.call(p,p)},className:vn($==null?void 0:$.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:OP):null,p.jsx||k.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,Ct||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:vn($==null?void 0:$.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ks():null,p.type!=="loading"?p.icon||(G==null?void 0:G[Ct])||CP(Ct):null):null,W.createElement("div",{"data-content":"",className:vn($==null?void 0:$.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:vn($==null?void 0:$.title,(u=p==null?void 0:p.classNames)==null?void 0:u.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:vn(P,dh,$==null?void 0:$.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),k.isValidElement(p.cancel)?p.cancel:p.cancel&&Du(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:Z=>{var Ee,be;Du(p.cancel)&&hr&&((be=(Ee=p.cancel).onClick)==null||be.call(Ee,Z),mn())},className:vn($==null?void 0:$.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,k.isValidElement(p.action)?p.action:p.action&&Du(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:Z=>{var Ee,be;Du(p.action)&&((be=(Ee=p.action).onClick)==null||be.call(Ee,Z),!Z.defaultPrevented&&mn())},className:vn($==null?void 0:$.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function a0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ZP(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?qP:WP;function u(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(a)}),n}var ek=k.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:u,mobileOffset:c,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:S=HP,toastOptions:_,dir:x=a0(),gap:y=KP,loadingIcon:v,icons:T,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:O}=t,[V,b]=W.useState([]),w=W.useMemo(()=>Array.from(new Set([r].concat(V.filter(X=>X.position).map(X=>X.position)))),[V,r]),[C,A]=W.useState([]),[R,N]=W.useState(!1),[P,H]=W.useState(!1),[ie,te]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=W.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=W.useRef(null),G=W.useRef(!1),re=W.useCallback(X=>{b(de=>{var ue;return(ue=de.find(Ne=>Ne.id===X.id))!=null&&ue.delete||Vt.dismiss(X.id),de.filter(({id:Ne})=>Ne!==X.id)})},[]);return W.useEffect(()=>Vt.subscribe(X=>{if(X.dismiss){b(de=>de.map(ue=>ue.id===X.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{bE.flushSync(()=>{b(de=>{let ue=de.findIndex(Ne=>Ne.id===X.id);return ue!==-1?[...de.slice(0,ue),{...de[ue],...X},...de.slice(ue+1)]:[X,...de]})})})}),[]),W.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:de})=>{te(de?"dark":"light")})}catch{X.addListener(({matches:ue})=>{try{te(ue?"dark":"light")}catch(Ne){console.error(Ne)}})}},[d]),W.useEffect(()=>{V.length<=1&&N(!1)},[V]),W.useEffect(()=>{let X=de=>{var ue,Ne;s.every(We=>de[We]||de.code===We)&&(N(!0),(ue=oe.current)==null||ue.focus()),de.code==="Escape"&&(document.activeElement===oe.current||(Ne=oe.current)!=null&&Ne.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),W.useEffect(()=>{if(oe.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,G.current=!1)}},[oe.current]),W.createElement("section",{ref:e,"aria-label":`${D} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},w.map((X,de)=>{var ue;let[Ne,We]=X.split("-");return V.length?W.createElement("ol",{key:X,dir:x==="auto"?a0():x,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":Ne,"data-lifted":R&&V.length>1&&!i,"data-x-position":We,style:{"--front-toast-height":`${((ue=C[0])==null?void 0:ue.height)||0}px`,"--width":`${GP}px`,"--gap":`${y}px`,...p,...ZP(u,c)},onBlur:ye=>{G.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(G.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||G.current||(G.current=!0,$.current=ye.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{P||N(!1)},onDragEnd:()=>N(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},V.filter(ye=>!ye.position&&de===0||ye.position===X).map((ye,Dn)=>{var pn,cr;return W.createElement(JP,{key:ye.id,icons:T,index:Dn,toast:ye,defaultRichColors:f,duration:(pn=_==null?void 0:_.duration)!=null?pn:m,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:S,closeButton:(cr=_==null?void 0:_.closeButton)!=null?cr:o,interacting:P,position:X,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:re,toasts:V.filter(On=>On.position==ye.position),heights:C.filter(On=>On.position==ye.position),setHeights:A,expandByDefault:i,gap:y,loadingIcon:v,expanded:R,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const tk=({...t})=>{const{theme:e="system"}=IP();return E.jsx(ek,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},nk=["top","right","bottom","left"],Ns=Math.min,Qt=Math.max,zc=Math.round,Ou=Math.floor,Jn=t=>({x:t,y:t}),rk={left:"right",right:"left",bottom:"top",top:"bottom"},sk={start:"end",end:"start"};function wp(t,e,n){return Qt(t,Ns(e,n))}function Ar(t,e){return typeof t=="function"?t(e):t}function Rr(t){return t.split("-")[0]}function Ko(t){return t.split("-")[1]}function Jm(t){return t==="x"?"y":"x"}function Zm(t){return t==="y"?"height":"width"}const ik=new Set(["top","bottom"]);function Qn(t){return ik.has(Rr(t))?"y":"x"}function eg(t){return Jm(Qn(t))}function ok(t,e,n){n===void 0&&(n=!1);const r=Ko(t),s=eg(t),i=Zm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Bc(o)),[o,Bc(o)]}function ak(t){const e=Bc(t);return[_p(t),e,_p(e)]}function _p(t){return t.replace(/start|end/g,e=>sk[e])}const l0=["left","right"],u0=["right","left"],lk=["top","bottom"],uk=["bottom","top"];function ck(t,e,n){switch(t){case"top":case"bottom":return n?e?u0:l0:e?l0:u0;case"left":case"right":return e?lk:uk;default:return[]}}function dk(t,e,n,r){const s=Ko(t);let i=ck(Rr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(_p)))),i}function Bc(t){return t.replace(/left|right|bottom|top/g,e=>rk[e])}function hk(t){return{top:0,right:0,bottom:0,left:0,...t}}function mx(t){return typeof t!="number"?hk(t):{top:t,right:t,bottom:t,left:t}}function Hc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function c0(t,e,n){let{reference:r,floating:s}=t;const i=Qn(e),o=eg(e),a=Zm(o),u=Rr(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(u){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ko(e)){case"start":p[o]-=m*(n&&c?-1:1);break;case"end":p[o]+=m*(n&&c?-1:1);break}return p}const fk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=c0(c,r,u),m=r,p={},S=0;for(let _=0;_<a.length;_++){const{name:x,fn:y}=a[_],{x:v,y:T,data:D,reset:O}=await y({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,f=T??f,p={...p,[x]:{...p[x],...D}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:f}=c0(c,m,u)),_=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function vl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Ar(e,t),S=mx(p),x=a[m?f==="floating"?"reference":"floating":f],y=Hc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),D=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=Hc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:u}):v);return{top:(y.top-O.top+S.top)/D.y,bottom:(O.bottom-y.bottom+S.bottom)/D.y,left:(y.left-O.left+S.left)/D.x,right:(O.right-y.right+S.right)/D.x}}const pk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Ar(t,e)||{};if(c==null)return{};const f=mx(d),m={x:n,y:r},p=eg(s),S=Zm(p),_=await o.getDimensions(c),x=p==="y",y=x?"top":"left",v=x?"bottom":"right",T=x?"clientHeight":"clientWidth",D=i.reference[S]+i.reference[p]-m[p]-i.floating[S],O=m[p]-i.reference[p],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=V?V[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(V)))&&(b=a.floating[T]||i.floating[S]);const w=D/2-O/2,C=b/2-_[S]/2-1,A=Ns(f[y],C),R=Ns(f[v],C),N=A,P=b-_[S]-R,H=b/2-_[S]/2+w,ie=wp(N,H,P),te=!u.arrow&&Ko(s)!=null&&H!==ie&&i.reference[S]/2-(H<N?A:R)-_[S]/2<0,oe=te?H<N?H-N:H-P:0;return{[p]:m[p]+oe,data:{[p]:ie,centerOffset:H-ie-oe,...te&&{alignmentOffset:oe}},reset:te}}}),mk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...x}=Ar(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Rr(s),v=Qn(a),T=Rr(a)===a,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=m||(T||!_?[Bc(a)]:ak(a)),V=S!=="none";!m&&V&&O.push(...dk(a,_,S,D));const b=[a,...O],w=await vl(e,x),C=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(w[y]),f){const H=ok(s,o,D);C.push(w[H[0]],w[H[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(H=>H<=0)){var R,N;const H=(((R=i.flip)==null?void 0:R.index)||0)+1,ie=b[H];if(ie&&(!(f==="alignment"?v!==Qn(ie):!1)||A.every(F=>F.overflows[0]>0&&Qn(F.placement)===v)))return{data:{index:H,overflows:A},reset:{placement:ie}};let te=(N=A.filter(oe=>oe.overflows[0]<=0).sort((oe,F)=>oe.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!te)switch(p){case"bestFit":{var P;const oe=(P=A.filter(F=>{if(V){const $=Qn(F.placement);return $===v||$==="y"}return!0}).map(F=>[F.placement,F.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((F,$)=>F[1]-$[1])[0])==null?void 0:P[0];oe&&(te=oe);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function d0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function h0(t){return nk.some(e=>t[e]>=0)}const gk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ar(t,e);switch(r){case"referenceHidden":{const i=await vl(e,{...s,elementContext:"reference"}),o=d0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:h0(o)}}}case"escaped":{const i=await vl(e,{...s,altBoundary:!0}),o=d0(i,n.floating);return{data:{escapedOffsets:o,escaped:h0(o)}}}default:return{}}}}},gx=new Set(["left","top"]);async function yk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Rr(n),a=Ko(n),u=Qn(n)==="y",c=gx.has(o)?-1:1,d=i&&u?-1:1,f=Ar(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(p=a==="end"?S*-1:S),u?{x:p*d,y:m*c}:{x:m*c,y:p*d}}const vk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await yk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},wk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...u}=Ar(t,e),c={x:n,y:r},d=await vl(e,u),f=Qn(Rr(s)),m=Jm(f);let p=c[m],S=c[f];if(i){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=p+d[x],T=p-d[y];p=wp(v,p,T)}if(o){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=S+d[x],T=S-d[y];S=wp(v,S,T)}const _=a.fn({...e,[m]:p,[f]:S});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:i,[f]:o}}}}}},_k=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Ar(t,e),d={x:n,y:r},f=Qn(s),m=Jm(f);let p=d[m],S=d[f];const _=Ar(a,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const T=m==="y"?"height":"width",D=i.reference[m]-i.floating[T]+x.mainAxis,O=i.reference[m]+i.reference[T]-x.mainAxis;p<D?p=D:p>O&&(p=O)}if(c){var y,v;const T=m==="y"?"width":"height",D=gx.has(Rr(s)),O=i.reference[f]-i.floating[T]+(D&&((y=o.offset)==null?void 0:y[f])||0)+(D?0:x.crossAxis),V=i.reference[f]+i.reference[T]+(D?0:((v=o.offset)==null?void 0:v[f])||0)-(D?x.crossAxis:0);S<O?S=O:S>V&&(S=V)}return{[m]:p,[f]:S}}}},Ek=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=Ar(t,e),d=await vl(e,c),f=Rr(s),m=Ko(s),p=Qn(s)==="y",{width:S,height:_}=i.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,x=m==="end"?"top":"bottom");const v=_-d.top-d.bottom,T=S-d.left-d.right,D=Ns(_-d[x],v),O=Ns(S-d[y],T),V=!e.middlewareData.shift;let b=D,w=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(w=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=v),V&&!m){const A=Qt(d.left,0),R=Qt(d.right,0),N=Qt(d.top,0),P=Qt(d.bottom,0);p?w=S-2*(A!==0||R!==0?A+R:Qt(d.left,d.right)):b=_-2*(N!==0||P!==0?N+P:Qt(d.top,d.bottom))}await u({...e,availableWidth:w,availableHeight:b});const C=await o.getDimensions(a.floating);return S!==C.width||_!==C.height?{reset:{rects:!0}}:{}}}};function Dd(){return typeof window<"u"}function Qo(t){return yx(t)?(t.nodeName||"").toLowerCase():"#document"}function Zt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ur(t){var e;return(e=(yx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yx(t){return Dd()?t instanceof Node||t instanceof Zt(t).Node:!1}function kn(t){return Dd()?t instanceof Element||t instanceof Zt(t).Element:!1}function or(t){return Dd()?t instanceof HTMLElement||t instanceof Zt(t).HTMLElement:!1}function f0(t){return!Dd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zt(t).ShadowRoot}const xk=new Set(["inline","contents"]);function Bl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Nn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!xk.has(s)}const Tk=new Set(["table","td","th"]);function Sk(t){return Tk.has(Qo(t))}const bk=[":popover-open",":modal"];function Od(t){return bk.some(e=>{try{return t.matches(e)}catch{return!1}})}const Ik=["transform","translate","scale","rotate","perspective"],Ck=["transform","translate","scale","rotate","perspective","filter"],Ak=["paint","layout","strict","content"];function tg(t){const e=ng(),n=kn(t)?Nn(t):t;return Ik.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Ck.some(r=>(n.willChange||"").includes(r))||Ak.some(r=>(n.contain||"").includes(r))}function Rk(t){let e=Ds(t);for(;or(e)&&!Oo(e);){if(tg(e))return e;if(Od(e))return null;e=Ds(e)}return null}function ng(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Pk=new Set(["html","body","#document"]);function Oo(t){return Pk.has(Qo(t))}function Nn(t){return Zt(t).getComputedStyle(t)}function Md(t){return kn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ds(t){if(Qo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||f0(t)&&t.host||ur(t);return f0(e)?e.host:e}function vx(t){const e=Ds(t);return Oo(e)?t.ownerDocument?t.ownerDocument.body:t.body:or(e)&&Bl(e)?e:vx(e)}function wl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=vx(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Zt(s);if(i){const a=Ep(o);return e.concat(o,o.visualViewport||[],Bl(s)?s:[],a&&n?wl(a):[])}return e.concat(s,wl(s,[],n))}function Ep(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wx(t){const e=Nn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=or(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=zc(n)!==i||zc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function rg(t){return kn(t)?t:t.contextElement}function ho(t){const e=rg(t);if(!or(e))return Jn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=wx(e);let o=(i?zc(n.width):n.width)/r,a=(i?zc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const kk=Jn(0);function _x(t){const e=Zt(t);return!ng()||!e.visualViewport?kk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Nk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zt(t)?!1:e}function xi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=rg(t);let o=Jn(1);e&&(r?kn(r)&&(o=ho(r)):o=ho(t));const a=Nk(i,n,r)?_x(i):Jn(0);let u=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=Zt(i),p=r&&kn(r)?Zt(r):r;let S=m,_=Ep(S);for(;_&&r&&p!==S;){const x=ho(_),y=_.getBoundingClientRect(),v=Nn(_),T=y.left+(_.clientLeft+parseFloat(v.paddingLeft))*x.x,D=y.top+(_.clientTop+parseFloat(v.paddingTop))*x.y;u*=x.x,c*=x.y,d*=x.x,f*=x.y,u+=T,c+=D,S=Zt(_),_=Ep(S)}}return Hc({width:d,height:f,x:u,y:c})}function sg(t,e){const n=Md(t).scrollLeft;return e?e.left+n:xi(ur(t)).left+n}function Ex(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:sg(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Dk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ur(r),a=e?Od(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Jn(1);const d=Jn(0),f=or(r);if((f||!f&&!i)&&((Qo(r)!=="body"||Bl(o))&&(u=Md(r)),or(r))){const p=xi(r);c=ho(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=o&&!f&&!i?Ex(o,u,!0):Jn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-u.scrollTop*c.y+d.y+m.y}}function Ok(t){return Array.from(t.getClientRects())}function Mk(t){const e=ur(t),n=Md(t),r=t.ownerDocument.body,s=Qt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Qt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+sg(t);const a=-n.scrollTop;return Nn(r).direction==="rtl"&&(o+=Qt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Vk(t,e){const n=Zt(t),r=ur(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const c=ng();(!c||c&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a,y:u}}const Lk=new Set(["absolute","fixed"]);function Fk(t,e){const n=xi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=or(t)?ho(t):Jn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:a,x:u,y:c}}function p0(t,e,n){let r;if(e==="viewport")r=Vk(t,n);else if(e==="document")r=Mk(ur(t));else if(kn(e))r=Fk(e,n);else{const s=_x(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Hc(r)}function xx(t,e){const n=Ds(t);return n===e||!kn(n)||Oo(n)?!1:Nn(n).position==="fixed"||xx(n,e)}function jk(t,e){const n=e.get(t);if(n)return n;let r=wl(t,[],!1).filter(a=>kn(a)&&Qo(a)!=="body"),s=null;const i=Nn(t).position==="fixed";let o=i?Ds(t):t;for(;kn(o)&&!Oo(o);){const a=Nn(o),u=tg(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&Lk.has(s.position)||Bl(o)&&!u&&xx(t,o))?r=r.filter(d=>d!==o):s=a,o=Ds(o)}return e.set(t,r),r}function Uk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Od(e)?[]:jk(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const f=p0(e,d,s);return c.top=Qt(f.top,c.top),c.right=Ns(f.right,c.right),c.bottom=Ns(f.bottom,c.bottom),c.left=Qt(f.left,c.left),c},p0(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function $k(t){const{width:e,height:n}=wx(t);return{width:e,height:n}}function zk(t,e,n){const r=or(e),s=ur(e),i=n==="fixed",o=xi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=Jn(0);function c(){u.x=sg(s)}if(r||!r&&!i)if((Qo(e)!=="body"||Bl(s))&&(a=Md(e)),r){const p=xi(e,!0,i,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Ex(s,a):Jn(0),f=o.left+a.scrollLeft-u.x-d.x,m=o.top+a.scrollTop-u.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function rf(t){return Nn(t).position==="static"}function m0(t,e){if(!or(t)||Nn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ur(t)===n&&(n=n.ownerDocument.body),n}function Tx(t,e){const n=Zt(t);if(Od(t))return n;if(!or(t)){let s=Ds(t);for(;s&&!Oo(s);){if(kn(s)&&!rf(s))return s;s=Ds(s)}return n}let r=m0(t,e);for(;r&&Sk(r)&&rf(r);)r=m0(r,e);return r&&Oo(r)&&rf(r)&&!tg(r)?n:r||Rk(t)||n}const Bk=async function(t){const e=this.getOffsetParent||Tx,n=this.getDimensions,r=await n(t.floating);return{reference:zk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Hk(t){return Nn(t).direction==="rtl"}const Wk={convertOffsetParentRelativeRectToViewportRelativeRect:Dk,getDocumentElement:ur,getClippingRect:Uk,getOffsetParent:Tx,getElementRects:Bk,getClientRects:Ok,getDimensions:$k,getScale:ho,isElement:kn,isRTL:Hk};function Sx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qk(t,e){let n=null,r;const s=ur(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=c;if(a||e(),!m||!p)return;const S=Ou(f),_=Ou(s.clientWidth-(d+m)),x=Ou(s.clientHeight-(f+p)),y=Ou(d),T={rootMargin:-S+"px "+-_+"px "+-x+"px "+-y+"px",threshold:Qt(0,Ns(1,u))||1};let D=!0;function O(V){const b=V[0].intersectionRatio;if(b!==u){if(!D)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!Sx(c,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function Gk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=rg(t),d=s||i?[...c?wl(c):[],...wl(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=c&&a?qk(c,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),c&&!u&&p.observe(c),p.observe(e));let S,_=u?xi(t):null;u&&x();function x(){const y=xi(t);_&&!Sx(_,y)&&n(),_=y,S=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,u&&cancelAnimationFrame(S)}}const Kk=vk,Qk=wk,Yk=mk,Xk=Ek,Jk=gk,g0=pk,Zk=_k,eN=(t,e,n)=>{const r=new Map,s={platform:Wk,...n},i={...s.platform,_c:r};return fk(t,e,{...s,platform:i})};var tN=typeof document<"u",nN=function(){},sc=tN?k.useLayoutEffect:nN;function Wc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Wc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function y0(t,e){const n=bx(t);return Math.round(e*n)/n}function sf(t){const e=k.useRef(t);return sc(()=>{e.current=t}),e}function rN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,f]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=k.useState(r);Wc(m,r)||p(r);const[S,_]=k.useState(null),[x,y]=k.useState(null),v=k.useCallback(F=>{F!==V.current&&(V.current=F,_(F))},[]),T=k.useCallback(F=>{F!==b.current&&(b.current=F,y(F))},[]),D=i||S,O=o||x,V=k.useRef(null),b=k.useRef(null),w=k.useRef(d),C=u!=null,A=sf(u),R=sf(s),N=sf(c),P=k.useCallback(()=>{if(!V.current||!b.current)return;const F={placement:e,strategy:n,middleware:m};R.current&&(F.platform=R.current),eN(V.current,b.current,F).then($=>{const G={...$,isPositioned:N.current!==!1};H.current&&!Wc(w.current,G)&&(w.current=G,$l.flushSync(()=>{f(G)}))})},[m,e,n,R,N]);sc(()=>{c===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const H=k.useRef(!1);sc(()=>(H.current=!0,()=>{H.current=!1}),[]),sc(()=>{if(D&&(V.current=D),O&&(b.current=O),D&&O){if(A.current)return A.current(D,O,P);P()}},[D,O,P,A,C]);const ie=k.useMemo(()=>({reference:V,floating:b,setReference:v,setFloating:T}),[v,T]),te=k.useMemo(()=>({reference:D,floating:O}),[D,O]),oe=k.useMemo(()=>{const F={position:n,left:0,top:0};if(!te.floating)return F;const $=y0(te.floating,d.x),G=y0(te.floating,d.y);return a?{...F,transform:"translate("+$+"px, "+G+"px)",...bx(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:G}},[n,a,te.floating,d.x,d.y]);return k.useMemo(()=>({...d,update:P,refs:ie,elements:te,floatingStyles:oe}),[d,P,ie,te,oe])}const sN=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?g0({element:r.current,padding:s}).fn(n):{}:r?g0({element:r,padding:s}).fn(n):{}}}},iN=(t,e)=>({...Kk(t),options:[t,e]}),oN=(t,e)=>({...Qk(t),options:[t,e]}),aN=(t,e)=>({...Zk(t),options:[t,e]}),lN=(t,e)=>({...Yk(t),options:[t,e]}),uN=(t,e)=>({...Xk(t),options:[t,e]}),cN=(t,e)=>({...Jk(t),options:[t,e]}),dN=(t,e)=>({...sN(t),options:[t,e]});var hN="Arrow",Ix=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return E.jsx(Wt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ix.displayName=hN;var fN=Ix;function pN(t){const[e,n]=k.useState(void 0);return ks(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Cx="Popper",[Ax,Rx]=Pd(Cx),[j3,Px]=Ax(Cx),kx="PopperAnchor",Nx=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Px(kx,n),o=k.useRef(null),a=Pn(e,o);return k.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:E.jsx(Wt.div,{...s,ref:a})});Nx.displayName=kx;var ig="PopperContent",[mN,gN]=Ax(ig),Dx=k.forwardRef((t,e)=>{var ye,Dn,pn,cr,On,dr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:S,..._}=t,x=Px(ig,n),[y,v]=k.useState(null),T=Pn(e,rn=>v(rn)),[D,O]=k.useState(null),V=pN(D),b=(V==null?void 0:V.width)??0,w=(V==null?void 0:V.height)??0,C=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(c)?c:[c],N=R.length>0,P={padding:A,boundary:R.filter(vN),altBoundary:N},{refs:H,floatingStyles:ie,placement:te,isPositioned:oe,middlewareData:F}=rN({strategy:"fixed",placement:C,whileElementsMounted:(...rn)=>Gk(...rn,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[iN({mainAxis:s+w,alignmentAxis:o}),u&&oN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aN():void 0,...P}),u&&lN({...P}),uN({...P,apply:({elements:rn,rects:Ws,availableWidth:ra,availableHeight:Fr})=>{const{width:qs,height:jr}=Ws.reference,Oe=rn.floating.style;Oe.setProperty("--radix-popper-available-width",`${ra}px`),Oe.setProperty("--radix-popper-available-height",`${Fr}px`),Oe.setProperty("--radix-popper-anchor-width",`${qs}px`),Oe.setProperty("--radix-popper-anchor-height",`${jr}px`)}}),D&&dN({element:D,padding:a}),wN({arrowWidth:b,arrowHeight:w}),m&&cN({strategy:"referenceHidden",...P})]}),[$,G]=Vx(te),re=Ps(S);ks(()=>{oe&&(re==null||re())},[oe,re]);const X=(ye=F.arrow)==null?void 0:ye.x,de=(Dn=F.arrow)==null?void 0:Dn.y,ue=((pn=F.arrow)==null?void 0:pn.centerOffset)!==0,[Ne,We]=k.useState();return ks(()=>{y&&We(window.getComputedStyle(y).zIndex)},[y]),E.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:oe?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(cr=F.transformOrigin)==null?void 0:cr.x,(On=F.transformOrigin)==null?void 0:On.y].join(" "),...((dr=F.hide)==null?void 0:dr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(mN,{scope:n,placedSide:$,onArrowChange:O,arrowX:X,arrowY:de,shouldHideArrow:ue,children:E.jsx(Wt.div,{"data-side":$,"data-align":G,..._,ref:T,style:{..._.style,animation:oe?void 0:"none"}})})})});Dx.displayName=ig;var Ox="PopperArrow",yN={top:"bottom",right:"left",bottom:"top",left:"right"},Mx=k.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=gN(Ox,r),o=yN[i.placedSide];return E.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:E.jsx(fN,{...s,ref:n,style:{...s.style,display:"block"}})})});Mx.displayName=Ox;function vN(t){return t!==null}var wN=t=>({name:"transformOrigin",options:t,fn(e){var x,y,v;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=Vx(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+u/2;let S="",_="";return c==="bottom"?(S=o?f:`${m}px`,_=`${-u}px`):c==="top"?(S=o?f:`${m}px`,_=`${r.floating.height+u}px`):c==="right"?(S=`${-u}px`,_=o?f:`${p}px`):c==="left"&&(S=`${r.floating.width+u}px`,_=o?f:`${p}px`),{data:{x:S,y:_}}}});function Vx(t){const[e,n="center"]=t.split("-");return[e,n]}var _N=Nx,EN=Dx,xN=Mx,[Vd,U3]=Pd("Tooltip",[Rx]),og=Rx(),Lx="TooltipProvider",TN=700,v0="tooltip.open",[SN,Fx]=Vd(Lx),jx=t=>{const{__scopeTooltip:e,delayDuration:n=TN,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=k.useRef(!0),a=k.useRef(!1),u=k.useRef(0);return k.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),E.jsx(SN,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:k.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:k.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};jx.displayName=Lx;var Ux="Tooltip",[$3,Ld]=Vd(Ux),xp="TooltipTrigger",bN=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ld(xp,n),i=Fx(xp,n),o=og(n),a=k.useRef(null),u=Pn(e,a,s.onTriggerChange),c=k.useRef(!1),d=k.useRef(!1),f=k.useCallback(()=>c.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),E.jsx(_N,{asChild:!0,...o,children:E.jsx(Wt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Ze(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ze(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ze(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ze(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ze(t.onBlur,s.onClose),onClick:Ze(t.onClick,s.onClose)})})});bN.displayName=xp;var IN="TooltipPortal",[z3,CN]=Vd(IN,{forceMount:void 0}),Mo="TooltipContent",$x=k.forwardRef((t,e)=>{const n=CN(Mo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ld(Mo,t.__scopeTooltip);return E.jsx(Gm,{present:r||o.open,children:o.disableHoverableContent?E.jsx(zx,{side:s,...i,ref:e}):E.jsx(AN,{side:s,...i,ref:e})})}),AN=k.forwardRef((t,e)=>{const n=Ld(Mo,t.__scopeTooltip),r=Fx(Mo,t.__scopeTooltip),s=k.useRef(null),i=Pn(e,s),[o,a]=k.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,m=k.useCallback(()=>{a(null),f(!1)},[f]),p=k.useCallback((S,_)=>{const x=S.currentTarget,y={x:S.clientX,y:S.clientY},v=DN(y,x.getBoundingClientRect()),T=ON(y,v),D=MN(_.getBoundingClientRect()),O=LN([...T,...D]);a(O),f(!0)},[f]);return k.useEffect(()=>()=>m(),[m]),k.useEffect(()=>{if(u&&d){const S=x=>p(x,d),_=x=>p(x,u);return u.addEventListener("pointerleave",S),d.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",_)}}},[u,d,p,m]),k.useEffect(()=>{if(o){const S=_=>{const x=_.target,y={x:_.clientX,y:_.clientY},v=(u==null?void 0:u.contains(x))||(d==null?void 0:d.contains(x)),T=!VN(y,o);v?m():T&&(m(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,d,o,c,m]),E.jsx(zx,{...t,ref:i})}),[RN,PN]=Vd(Ux,{isInside:!1}),kN=MA("TooltipContent"),zx=k.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=Ld(Mo,n),c=og(n),{onClose:d}=u;return k.useEffect(()=>(document.addEventListener(v0,d),()=>document.removeEventListener(v0,d)),[d]),k.useEffect(()=>{if(u.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(u.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,d]),E.jsx(qm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:E.jsxs(EN,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(kN,{children:r}),E.jsx(RN,{scope:n,isInside:!0,children:E.jsx(oR,{id:u.contentId,role:"tooltip",children:s||r})})]})})});$x.displayName=Mo;var Bx="TooltipArrow",NN=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=og(n);return PN(Bx,n).isInside?null:E.jsx(xN,{...s,...r,ref:e})});NN.displayName=Bx;function DN(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ON(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function MN(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function VN(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],u=e[o],c=a.x,d=a.y,f=u.x,m=u.y;d>r!=m>r&&n<(f-c)*(r-d)/(m-d)+c&&(s=!s)}return s}function LN(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),FN(e)}function FN(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jN=jx,Hx=$x;const UN=jN,$N=k.forwardRef(({className:t,sideOffset:e=4,...n},r)=>E.jsx(Hx,{ref:r,sideOffset:e,className:Vr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));$N.displayName=Hx.displayName;var Fd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jd=typeof window>"u"||"Deno"in globalThis;function _n(){}function zN(t,e){return typeof t=="function"?t(e):t}function BN(t){return typeof t=="number"&&t>=0&&t!==1/0}function HN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Tp(t,e){return typeof t=="function"?t(e):t}function WN(t,e){return typeof t=="function"?t(e):t}function w0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ag(o,e.options))return!1}else if(!El(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function _0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(_l(e.options.mutationKey)!==_l(i))return!1}else if(!El(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ag(t,e){return((e==null?void 0:e.queryKeyHashFn)||_l)(t)}function _l(t){return JSON.stringify(t,(e,n)=>Sp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function El(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>El(t[n],e[n])):!1}function Wx(t,e){if(t===e)return t;const n=E0(t)&&E0(e);if(n||Sp(t)&&Sp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&u.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=Wx(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function E0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sp(t){if(!x0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!x0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function x0(t){return Object.prototype.toString.call(t)==="[object Object]"}function qN(t){return new Promise(e=>{setTimeout(e,t)})}function GN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Wx(t,e):e}function KN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function QN(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var lg=Symbol();function qx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var oi,os,wo,r_,YN=(r_=class extends Fd{constructor(){super();_e(this,oi);_e(this,os);_e(this,wo);le(this,wo,e=>{if(!jd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,os)||this.setEventListener(j(this,wo))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,os))==null||e.call(this),le(this,os,void 0))}setEventListener(e){var n;le(this,wo,e),(n=j(this,os))==null||n.call(this),le(this,os,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,oi)!==e&&(le(this,oi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,oi)=="boolean"?j(this,oi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},oi=new WeakMap,os=new WeakMap,wo=new WeakMap,r_),Gx=new YN,_o,as,Eo,s_,XN=(s_=class extends Fd{constructor(){super();_e(this,_o,!0);_e(this,as);_e(this,Eo);le(this,Eo,e=>{if(!jd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,as)||this.setEventListener(j(this,Eo))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,as))==null||e.call(this),le(this,as,void 0))}setEventListener(e){var n;le(this,Eo,e),(n=j(this,as))==null||n.call(this),le(this,as,e(this.setOnline.bind(this)))}setOnline(e){j(this,_o)!==e&&(le(this,_o,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,_o)}},_o=new WeakMap,as=new WeakMap,Eo=new WeakMap,s_),qc=new XN;function JN(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function ZN(t){return Math.min(1e3*2**t,3e4)}function Kx(t){return(t??"online")==="online"?qc.isOnline():!0}var Qx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function of(t){return t instanceof Qx}function Yx(t){let e=!1,n=0,r=!1,s;const i=JN(),o=_=>{var x;r||(m(new Qx(_)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>Gx.isFocused()&&(t.networkMode==="always"||qc.isOnline())&&t.canRun(),d=()=>Kx(t.networkMode)&&t.canRun(),f=_=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,_),s==null||s(),i.resolve(_))},m=_=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,_),s==null||s(),i.reject(_))},p=()=>new Promise(_=>{var x;s=y=>{(r||c())&&_(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),S=()=>{if(r)return;let _;const x=n===0?t.initialPromise:void 0;try{_=x??t.fn()}catch(y){_=Promise.reject(y)}Promise.resolve(_).then(f).catch(y=>{var V;if(r)return;const v=t.retry??(jd?0:3),T=t.retryDelay??ZN,D=typeof T=="function"?T(n,y):T,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(e||!O){m(y);return}n++,(V=t.onFail)==null||V.call(t,n,y),qN(D).then(()=>c()?void 0:p()).then(()=>{e?m(y):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?S():p().then(S),i)}}var e2=t=>setTimeout(t,0);function t2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=e2;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Pt=t2(),ai,i_,Xx=(i_=class{constructor(){_e(this,ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),BN(this.gcTime)&&le(this,ai,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jd?1/0:5*60*1e3))}clearGcTimeout(){j(this,ai)&&(clearTimeout(j(this,ai)),le(this,ai,void 0))}},ai=new WeakMap,i_),xo,li,on,ui,Et,Ol,ci,En,mr,o_,n2=(o_=class extends Xx{constructor(n){super();_e(this,En);_e(this,xo);_e(this,li);_e(this,on);_e(this,ui);_e(this,Et);_e(this,Ol);_e(this,ci);le(this,ci,!1),le(this,Ol,n.defaultOptions),this.setOptions(n.options),this.observers=[],le(this,ui,n.client),le(this,on,j(this,ui).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,le(this,xo,s2(this.options)),this.state=n.state??j(this,xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=j(this,Et))==null?void 0:n.promise}setOptions(n){this.options={...j(this,Ol),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,on).remove(this)}setData(n,r){const s=GN(this.state.data,n,this.options);return yt(this,En,mr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){yt(this,En,mr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=j(this,Et))==null?void 0:s.promise;return(i=j(this,Et))==null||i.cancel(n),r?r.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,xo))}isActive(){return this.observers.some(n=>WN(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Tp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!HN(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,Et))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,Et))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),j(this,on).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(j(this,Et)&&(j(this,ci)?j(this,Et).cancel({revert:!0}):j(this,Et).cancelRetry()),this.scheduleGc()),j(this,on).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,En,mr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,Et))return j(this,Et).continueRetry(),j(this,Et).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(S=>S.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(le(this,ci,!0),s.signal)})},o=()=>{const p=qx(this.options,r),_=(()=>{const x={client:j(this,ui),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return le(this,ci,!1),this.options.persister?this.options.persister(p,_,this):p(_)},u=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:j(this,ui),state:this.state,fetchFn:o};return i(p),p})();(d=this.options.behavior)==null||d.onFetch(u,this),le(this,li,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&yt(this,En,mr).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta});const c=p=>{var S,_,x,y;of(p)&&p.silent||yt(this,En,mr).call(this,{type:"error",error:p}),of(p)||((_=(S=j(this,on).config).onError)==null||_.call(S,p,this),(y=(x=j(this,on).config).onSettled)==null||y.call(x,this.state.data,p,this)),this.scheduleGc()};return le(this,Et,Yx({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var S,_,x,y;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){c(v);return}(_=(S=j(this,on).config).onSuccess)==null||_.call(S,p,this),(y=(x=j(this,on).config).onSettled)==null||y.call(x,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,S)=>{yt(this,En,mr).call(this,{type:"failed",failureCount:p,error:S})},onPause:()=>{yt(this,En,mr).call(this,{type:"pause"})},onContinue:()=>{yt(this,En,mr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),j(this,Et).start()}},xo=new WeakMap,li=new WeakMap,on=new WeakMap,ui=new WeakMap,Et=new WeakMap,Ol=new WeakMap,ci=new WeakMap,En=new WeakSet,mr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...r2(s.data,this.options),fetchMeta:n.meta??null};case"success":return le(this,li,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return of(i)&&i.revert&&j(this,li)?{...j(this,li),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Pt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),j(this,on).notify({query:this,type:"updated",action:n})})},o_);function r2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function s2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hn,a_,i2=(a_=class extends Fd{constructor(e={}){super();_e(this,Hn);this.config=e,le(this,Hn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??ag(s,n);let o=this.get(i);return o||(o=new n2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){j(this,Hn).has(e.queryHash)||(j(this,Hn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,Hn).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,Hn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Hn).get(e)}getAll(){return[...j(this,Hn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>w0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>w0(e,r)):n}notify(e){Pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hn=new WeakMap,a_),Wn,At,di,qn,Xr,l_,o2=(l_=class extends Xx{constructor(n){super();_e(this,qn);_e(this,Wn);_e(this,At);_e(this,di);this.mutationId=n.mutationId,le(this,At,n.mutationCache),le(this,Wn,[]),this.state=n.state||a2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){j(this,Wn).includes(n)||(j(this,Wn).push(n),this.clearGcTimeout(),j(this,At).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){le(this,Wn,j(this,Wn).filter(r=>r!==n)),this.scheduleGc(),j(this,At).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){j(this,Wn).length||(this.state.status==="pending"?this.scheduleGc():j(this,At).remove(this))}continue(){var n;return((n=j(this,di))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,u,c,d,f,m,p,S,_,x,y,v,T,D,O,V,b,w,C;const r=()=>{yt(this,qn,Xr).call(this,{type:"continue"})};le(this,di,Yx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{yt(this,qn,Xr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{yt(this,qn,Xr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,At).canRun(this)}));const s=this.state.status==="pending",i=!j(this,di).canStart();try{if(s)r();else{yt(this,qn,Xr).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=j(this,At).config).onMutate)==null?void 0:a.call(o,n,this));const R=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));R!==this.state.context&&yt(this,qn,Xr).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const A=await j(this,di).start();return await((f=(d=j(this,At).config).onSuccess)==null?void 0:f.call(d,A,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,A,n,this.state.context)),await((_=(S=j(this,At).config).onSettled)==null?void 0:_.call(S,A,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,A,null,n,this.state.context)),yt(this,qn,Xr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((T=(v=j(this,At).config).onError)==null?void 0:T.call(v,A,n,this.state.context,this)),await((O=(D=this.options).onError)==null?void 0:O.call(D,A,n,this.state.context)),await((b=(V=j(this,At).config).onSettled)==null?void 0:b.call(V,void 0,A,this.state.variables,this.state.context,this)),await((C=(w=this.options).onSettled)==null?void 0:C.call(w,void 0,A,n,this.state.context)),A}finally{yt(this,qn,Xr).call(this,{type:"error",error:A})}}finally{j(this,At).runNext(this)}}},Wn=new WeakMap,At=new WeakMap,di=new WeakMap,qn=new WeakSet,Xr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Pt.batch(()=>{j(this,Wn).forEach(s=>{s.onMutationUpdate(n)}),j(this,At).notify({mutation:this,type:"updated",action:n})})},l_);function a2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vr,xn,Ml,u_,l2=(u_=class extends Fd{constructor(e={}){super();_e(this,vr);_e(this,xn);_e(this,Ml);this.config=e,le(this,vr,new Set),le(this,xn,new Map),le(this,Ml,0)}build(e,n,r){const s=new o2({mutationCache:this,mutationId:++fu(this,Ml)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){j(this,vr).add(e);const n=Mu(e);if(typeof n=="string"){const r=j(this,xn).get(n);r?r.push(e):j(this,xn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,vr).delete(e)){const n=Mu(e);if(typeof n=="string"){const r=j(this,xn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&j(this,xn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Mu(e);if(typeof n=="string"){const r=j(this,xn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Mu(e);if(typeof n=="string"){const s=(r=j(this,xn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pt.batch(()=>{j(this,vr).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,vr).clear(),j(this,xn).clear()})}getAll(){return Array.from(j(this,vr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_0(n,r))}findAll(e={}){return this.getAll().filter(n=>_0(e,n))}notify(e){Pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Pt.batch(()=>Promise.all(e.map(n=>n.continue().catch(_n))))}},vr=new WeakMap,xn=new WeakMap,Ml=new WeakMap,u_);function Mu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function T0(t){return{onFetch:(e,n)=>{var d,f,m,p,S;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let _=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},y=qx(e.options,e.fetchOptions),v=async(T,D,O)=>{if(_)return Promise.reject();if(D==null&&T.pages.length)return Promise.resolve(T);const b=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:D,direction:O?"backward":"forward",meta:e.options.meta};return x(R),R})(),w=await y(b),{maxPages:C}=e.options,A=O?QN:KN;return{pages:A(T.pages,w,C),pageParams:A(T.pageParams,D,C)}};if(s&&i.length){const T=s==="backward",D=T?u2:S0,O={pages:i,pageParams:o},V=D(r,O);a=await v(O,V,T)}else{const T=t??i.length;do{const D=u===0?o[0]??r.initialPageParam:S0(r,a);if(u>0&&D==null)break;a=await v(a,D),u++}while(u<T)}return a};e.options.persister?e.fetchFn=()=>{var _,x;return(x=(_=e.options).persister)==null?void 0:x.call(_,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function S0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function u2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var $e,ls,us,To,So,cs,bo,Io,c_,c2=(c_=class{constructor(t={}){_e(this,$e);_e(this,ls);_e(this,us);_e(this,To);_e(this,So);_e(this,cs);_e(this,bo);_e(this,Io);le(this,$e,t.queryCache||new i2),le(this,ls,t.mutationCache||new l2),le(this,us,t.defaultOptions||{}),le(this,To,new Map),le(this,So,new Map),le(this,cs,0)}mount(){fu(this,cs)._++,j(this,cs)===1&&(le(this,bo,Gx.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,$e).onFocus())})),le(this,Io,qc.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,$e).onOnline())})))}unmount(){var t,e;fu(this,cs)._--,j(this,cs)===0&&((t=j(this,bo))==null||t.call(this),le(this,bo,void 0),(e=j(this,Io))==null||e.call(this),le(this,Io,void 0))}isFetching(t){return j(this,$e).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,ls).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,$e).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=j(this,$e).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Tp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return j(this,$e).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=j(this,$e).get(r.queryHash),i=s==null?void 0:s.state.data,o=zN(e,i);if(o!==void 0)return j(this,$e).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Pt.batch(()=>j(this,$e).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,$e).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,$e);Pt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,$e);return Pt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Pt.batch(()=>j(this,$e).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(_n).catch(_n)}invalidateQueries(t,e={}){return Pt.batch(()=>(j(this,$e).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Pt.batch(()=>j(this,$e).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_n)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_n)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,$e).build(this,e);return n.isStaleByTime(Tp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_n).catch(_n)}fetchInfiniteQuery(t){return t.behavior=T0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_n).catch(_n)}ensureInfiniteQueryData(t){return t.behavior=T0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qc.isOnline()?j(this,ls).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,$e)}getMutationCache(){return j(this,ls)}getDefaultOptions(){return j(this,us)}setDefaultOptions(t){le(this,us,t)}setQueryDefaults(t,e){j(this,To).set(_l(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,To).values()],n={};return e.forEach(r=>{El(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){j(this,So).set(_l(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,So).values()],n={};return e.forEach(r=>{El(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ag(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===lg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,$e).clear(),j(this,ls).clear()}},$e=new WeakMap,ls=new WeakMap,us=new WeakMap,To=new WeakMap,So=new WeakMap,cs=new WeakMap,bo=new WeakMap,Io=new WeakMap,c_),d2=k.createContext(void 0),h2=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(d2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}var fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fs||(fs={}));const b0="popstate";function f2(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:u=""}=ki(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),bp("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof i=="string"?i:Jx(i))}function r(s,i){ug(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return m2(e,n,r,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ug(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p2(){return Math.random().toString(36).substr(2,8)}function I0(t,e){return{usr:t.state,key:t.key,idx:e}}function bp(t,e,n,r){return n===void 0&&(n=null),xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ki(e):e,{state:n,key:e&&e.key||r||p2()})}function Jx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function m2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=fs.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(xl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=fs.Pop;let x=d(),y=x==null?null:x-c;c=x,u&&u({action:a,location:_.location,delta:y})}function m(x,y){a=fs.Push;let v=bp(_.location,x,y);n&&n(v,x),c=d()+1;let T=I0(v,c),D=_.createHref(v);try{o.pushState(T,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(D)}i&&u&&u({action:a,location:_.location,delta:1})}function p(x,y){a=fs.Replace;let v=bp(_.location,x,y);n&&n(v,x),c=d();let T=I0(v,c),D=_.createHref(v);o.replaceState(T,"",D),i&&u&&u({action:a,location:_.location,delta:0})}function S(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:Jx(x);return v=v.replace(/ $/,"%20"),nt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let _={get action(){return a},get location(){return t(s,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(b0,f),u=x,()=>{s.removeEventListener(b0,f),u=null}},createHref(x){return e(s,x)},createURL:S,encodeLocation(x){let y=S(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(x){return o.go(x)}};return _}var C0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C0||(C0={}));function g2(t,e,n){return n===void 0&&(n="/"),y2(t,e,n,!1)}function y2(t,e,n,r){let s=typeof e=="string"?ki(e):e,i=tT(s.pathname||"/",n);if(i==null)return null;let o=Zx(t);v2(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=R2(i);a=C2(o[u],c,r)}return a}function Zx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(nt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=pi([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Zx(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:b2(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of eT(i.path))s(i,o,u)}),e}function eT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=eT(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function v2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w2=/^:[\w-]+$/,_2=3,E2=2,x2=1,T2=10,S2=-2,A0=t=>t==="*";function b2(t,e){let n=t.split("/"),r=n.length;return n.some(A0)&&(r+=S2),e&&(r+=E2),n.filter(s=>!A0(s)).reduce((s,i)=>s+(w2.test(i)?_2:i===""?x2:T2),r)}function I2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function C2(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=R0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=R0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:pi([i,f.pathname]),pathnameBase:M2(pi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=pi([i,f.pathnameBase]))}return o}function R0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=A2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const S=a[f];return p&&!S?c[m]=void 0:c[m]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function A2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ug(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function R2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ug(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function P2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ki(t):t;return{pathname:n?n.startsWith("/")?n:k2(n,e):e,search:V2(r),hash:L2(s)}}function k2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function af(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D2(t,e){let n=N2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function O2(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ki(t):(s=xl({},t),nt(!s.pathname||!s.pathname.includes("?"),af("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),af("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),af("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=P2(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const pi=t=>t.join("/").replace(/\/\/+/g,"/"),M2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nT=["post","put","patch","delete"];new Set(nT);const j2=["get",...nT];new Set(j2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}const cg=k.createContext(null),U2=k.createContext(null),Ud=k.createContext(null),$d=k.createContext(null),Ni=k.createContext({outlet:null,matches:[],isDataRoute:!1}),rT=k.createContext(null);function zd(){return k.useContext($d)!=null}function dg(){return zd()||nt(!1),k.useContext($d).location}function sT(t){k.useContext(Ud).static||k.useLayoutEffect(t)}function hg(){let{isDataRoute:t}=k.useContext(Ni);return t?eD():$2()}function $2(){zd()||nt(!1);let t=k.useContext(cg),{basename:e,future:n,navigator:r}=k.useContext(Ud),{matches:s}=k.useContext(Ni),{pathname:i}=dg(),o=JSON.stringify(D2(s,n.v7_relativeSplatPath)),a=k.useRef(!1);return sT(()=>{a.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=O2(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:pi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function z2(){let{matches:t}=k.useContext(Ni),e=t[t.length-1];return e?e.params:{}}function B2(t,e){return H2(t,e)}function H2(t,e,n,r){zd()||nt(!1);let{navigator:s}=k.useContext(Ud),{matches:i}=k.useContext(Ni),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=dg(),d;if(e){var f;let x=typeof e=="string"?ki(e):e;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||nt(!1),d=x}else d=c;let m=d.pathname||"/",p=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let S=g2(t,{pathname:p}),_=Q2(S&&S.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:pi([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:pi([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&_?k.createElement($d.Provider,{value:{location:Tl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fs.Pop}},_):_}function W2(){let t=Z2(),e=F2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,null)}const q2=k.createElement(W2,null);class G2 extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Ni.Provider,{value:this.props.routeContext},k.createElement(rT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K2(t){let{routeContext:e,match:n,children:r}=t,s=k.useContext(cg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ni.Provider,{value:e},r)}function Q2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||nt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=n,S=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||S){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,S=!1,_=null,x=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||q2,u&&(c<0&&m===0?(S=!0,x=null):c===m&&(S=!0,x=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,m+1)),v=()=>{let T;return p?T=_:S?T=x:f.route.Component?T=k.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,k.createElement(K2,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?k.createElement(G2,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var iT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iT||{}),Gc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gc||{});function Y2(t){let e=k.useContext(cg);return e||nt(!1),e}function X2(t){let e=k.useContext(U2);return e||nt(!1),e}function J2(t){let e=k.useContext(Ni);return e||nt(!1),e}function oT(t){let e=J2(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function Z2(){var t;let e=k.useContext(rT),n=X2(Gc.UseRouteError),r=oT(Gc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function eD(){let{router:t}=Y2(iT.UseNavigateStable),e=oT(Gc.UseNavigateStable),n=k.useRef(!1);return sT(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Tl({fromRouteId:e},i)))},[t,e])}function tD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ic(t){nt(!1)}function nD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fs.Pop,navigator:i,static:o=!1,future:a}=t;zd()&&nt(!1);let u=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:u,navigator:i,static:o,future:Tl({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=ki(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:S="default"}=r,_=k.useMemo(()=>{let x=tT(d,u);return x==null?null:{location:{pathname:x,search:f,hash:m,state:p,key:S},navigationType:s}},[u,d,f,m,p,S,s]);return _==null?null:k.createElement(Ud.Provider,{value:c},k.createElement($d.Provider,{children:n,value:_}))}function rD(t){let{children:e,location:n}=t;return B2(Ip(e),n)}new Promise(()=>{});function Ip(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,Ip(r.props.children,i));return}r.type!==ic&&nt(!1),!r.props.index||!r.props.children||nt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ip(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const sD="6";try{window.__reactRouterVersion=sD}catch{}const iD="startTransition",P0=x_[iD];function oD(t){let{basename:e,children:n,future:r,window:s}=t,i=k.useRef();i.current==null&&(i.current=f2({window:s,v5Compat:!0}));let o=i.current,[a,u]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=k.useCallback(f=>{c&&P0?P0(()=>u(f)):u(f)},[u,c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>tD(r),[r]),k.createElement(nD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var k0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k0||(k0={}));var N0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(N0||(N0={}));const aT=k.createContext({theme:"light",toggleTheme:()=>{}}),aD=({children:t})=>{const[e,n]=k.useState(()=>localStorage.getItem("theme")||"dark");k.useEffect(()=>{const s=document.documentElement;e==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>n(s=>s==="dark"?"light":"dark");return E.jsx(aT.Provider,{value:{theme:e,toggleTheme:r},children:t})},lD=()=>k.useContext(aT),Ga=k.forwardRef(({className:t,type:e,...n},r)=>E.jsx("input",{type:e,className:Vr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ga.displayName="Input";const uD=[{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"hard"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"medium"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"medium"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"hard"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"medium"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"dialect",difficulty:"medium"},{word:"",category:"dialect",difficulty:"easy"},{word:"",category:"dialect",difficulty:"easy"},{word:"",category:"dialect",difficulty:"easy"},{word:"",category:"dialect",difficulty:"easy"},{word:"",category:"dialect",difficulty:"medium"},{word:"",category:"dialect",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"medium"},{word:"",category:"landmarks",difficulty:"easy"},{word:" ",category:"landmarks",difficulty:"medium"},{word:"",category:"landmarks",difficulty:"medium"},{word:" ",category:"landmarks",difficulty:"easy"},{word:"",category:"landmarks",difficulty:"easy"},{word:"",category:"animals",difficulty:"easy"},{word:"",category:"animals",difficulty:"easy"},{word:"",category:"animals",difficulty:"medium"},{word:"",category:"animals",difficulty:"hard"},{word:"",category:"animals",difficulty:"medium"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"medium"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"}];function cD(t=25){const n=[...uD.filter(i=>i.word.trim().split(/\s+/).length<=2)].sort(()=>Math.random()-.5),r=[],s={};for(const i of n){if(r.length>=t)break;const o=i.category;s[o]=s[o]||0,s[o]<4&&(r.push(i),s[o]++)}return r}function dD(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function hD(t){const e=[],n=t==="red"?9:8,r=t==="blue"?9:8;for(let s=0;s<n;s++)e.push("red");for(let s=0;s<r;s++)e.push("blue");for(let s=0;s<7;s++)e.push("neutral");return e.push("assassin"),e.sort(()=>Math.random()-.5)}function lT(t){const e=cD(25),n=Math.random()<.5?"red":"blue",r=hD(n),s=e.map((o,a)=>({word:o,type:r[a],revealed:!1,highlighted:!1})),i=crypto.randomUUID();return{roomCode:dD(),phase:"lobby",turnPhase:"hint",cards:s,currentTeam:n,scores:{red:0,blue:0},targetScores:{red:n==="red"?9:8,blue:n==="blue"?9:8},timer:90,maxTime:90,players:[{id:i,name:t,team:n,isSpymaster:!1,isHost:!0}],winner:null,hostId:i,currentHint:null,guessesRemaining:0}}function fD(t,e){const n={...t},r={...n.cards[e]};return r.revealed?t:(r.revealed=!0,n.cards=[...t.cards],n.cards[e]=r,r.type==="assassin"?(n.phase="finished",n.winner=t.currentTeam==="red"?"blue":"red",n):(r.type==="red"?n.scores={...t.scores,red:t.scores.red+1}:r.type==="blue"&&(n.scores={...t.scores,blue:t.scores.blue+1}),n.scores.red>=n.targetScores.red?(n.phase="finished",n.winner="red",n):n.scores.blue>=n.targetScores.blue?(n.phase="finished",n.winner="blue",n):r.type!==t.currentTeam?(n.currentTeam=t.currentTeam==="red"?"blue":"red",n.timer=n.maxTime,n.turnPhase="hint",n.currentHint=null,n.guessesRemaining=0,n):(n.guessesRemaining=Math.max(0,t.guessesRemaining-1),n.guessesRemaining===0&&(n.currentTeam=t.currentTeam==="red"?"blue":"red",n.timer=n.maxTime,n.turnPhase="hint",n.currentHint=null),n)))}function pD(t,e){const n={...t};return n.cards=[...t.cards],n.cards[e]={...t.cards[e],highlighted:!t.cards[e].highlighted},n}const uT="/kalimat-al-sir/assets/pattern-bg-AroNNcph.png",mD=()=>{};var D0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},gD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;u||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new yD;const m=i<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const S=c<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vD=function(t){const e=cT(t);return dT.encodeByteArray(e,!0)},Kc=function(t){return vD(t).replace(/\./g,"")},hT=function(t){try{return dT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=()=>wD().__FIREBASE_DEFAULTS__,ED=()=>{if(typeof process>"u"||typeof D0>"u")return;const t=D0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hT(t[1]);return e&&JSON.parse(e)},Bd=()=>{try{return mD()||_D()||ED()||xD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fT=t=>{var e,n;return(n=(e=Bd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},TD=t=>{const e=fT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pT=()=>{var t;return(t=Bd())==null?void 0:t.config},mT=t=>{var e;return(e=Bd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kc(JSON.stringify(n)),Kc(JSON.stringify(o)),""].join(".")}const Ka={};function ID(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ka))Ka[e]?t.emulator.push(e):t.prod.push(e);return t}function CD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let O0=!1;function yT(t,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||Ka[t]===e||Ka[t]||O0)return;Ka[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=ID().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{O0=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=CD(r),p=n("text"),S=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),x=document.getElementById(_)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),d(x,_);const D=c();u(v,y),T.append(v,S,x,D),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function RD(){var e;const t=(e=Bd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ND(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DD(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OD(){return!RD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MD(){try{return typeof indexedDB=="object"}catch{return!1}}function VD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LD,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?FD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Lr(s,a,r)}}function FD(t,e){return t.replace(jD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const jD=/\{\$([^}]+)}/g;function UD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ti(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(M0(i)&&M0(o)){if(!Ti(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function M0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $D(t,e){const n=new zD(t,e);return n.subscribe.bind(n)}class zD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lf),s.error===void 0&&(s.error=lf),s.complete===void 0&&(s.complete=lf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class Si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qD(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WD(t){return t===ti?void 0:t}function qD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const KD={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},QD=pe.INFO,YD={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},XD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fg{constructor(e){this.name=e,this._logLevel=QD,this._logHandler=XD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const JD=(t,e)=>e.some(n=>t instanceof n);let V0,L0;function ZD(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eO(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vT=new WeakMap,Cp=new WeakMap,wT=new WeakMap,uf=new WeakMap,pg=new WeakMap;function tO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ts(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vT.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function nO(t){if(Cp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Cp.set(t,e)}let Ap={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rO(t){Ap=t(Ap)}function sO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cf(this),e,...n);return wT.set(r,e.sort?e.sort():[e]),Ts(r)}:eO().includes(t)?function(...e){return t.apply(cf(this),e),Ts(vT.get(this))}:function(...e){return Ts(t.apply(cf(this),e))}}function iO(t){return typeof t=="function"?sO(t):(t instanceof IDBTransaction&&nO(t),JD(t,ZD())?new Proxy(t,Ap):t)}function Ts(t){if(t instanceof IDBRequest)return tO(t);if(uf.has(t))return uf.get(t);const e=iO(t);return e!==t&&(uf.set(t,e),pg.set(e,t)),e}const cf=t=>pg.get(t);function oO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ts(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ts(o.result),u.oldVersion,u.newVersion,Ts(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const aO=["get","getKey","getAll","getAllKeys","count"],lO=["put","add","delete","clear"],df=new Map;function F0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||aO.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return df.set(e,i),i}rO(t=>({...t,get:(e,n,r)=>F0(e,n)||t.get(e,n,r),has:(e,n)=>!!F0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",j0="0.14.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new fg("@firebase/app"),dO="@firebase/app-compat",hO="@firebase/analytics-compat",fO="@firebase/analytics",pO="@firebase/app-check-compat",mO="@firebase/app-check",gO="@firebase/auth",yO="@firebase/auth-compat",vO="@firebase/database",wO="@firebase/data-connect",_O="@firebase/database-compat",EO="@firebase/functions",xO="@firebase/functions-compat",TO="@firebase/installations",SO="@firebase/installations-compat",bO="@firebase/messaging",IO="@firebase/messaging-compat",CO="@firebase/performance",AO="@firebase/performance-compat",RO="@firebase/remote-config",PO="@firebase/remote-config-compat",kO="@firebase/storage",NO="@firebase/storage-compat",DO="@firebase/firestore",OO="@firebase/ai",MO="@firebase/firestore-compat",VO="firebase",LO="12.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",FO={[Rp]:"fire-core",[dO]:"fire-core-compat",[fO]:"fire-analytics",[hO]:"fire-analytics-compat",[mO]:"fire-app-check",[pO]:"fire-app-check-compat",[gO]:"fire-auth",[yO]:"fire-auth-compat",[vO]:"fire-rtdb",[wO]:"fire-data-connect",[_O]:"fire-rtdb-compat",[EO]:"fire-fn",[xO]:"fire-fn-compat",[TO]:"fire-iid",[SO]:"fire-iid-compat",[bO]:"fire-fcm",[IO]:"fire-fcm-compat",[CO]:"fire-perf",[AO]:"fire-perf-compat",[RO]:"fire-rc",[PO]:"fire-rc-compat",[kO]:"fire-gcs",[NO]:"fire-gcs-compat",[DO]:"fire-fst",[MO]:"fire-fst-compat",[OO]:"fire-vertex","fire-js":"fire-js",[VO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,jO=new Map,kp=new Map;function U0(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(kp.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,t);for(const n of Qc.values())U0(n,t);for(const n of jO.values())U0(n,t);return!0}function mg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new Hl("app","Firebase",UO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=LO;function _T(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Pp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ss.create("bad-app-name",{appName:String(s)});if(n||(n=pT()),!n)throw Ss.create("no-options");const i=Qc.get(s);if(i){if(Ti(n,i.options)&&Ti(r,i.config))return i;throw Ss.create("duplicate-app",{appName:s})}const o=new GD(s);for(const u of kp.values())o.addComponent(u);const a=new $O(n,r,o);return Qc.set(s,a),a}function ET(t=Pp){const e=Qc.get(t);if(!e&&t===Pp&&pT())return _T();if(!e)throw Ss.create("no-app",{appName:t});return e}function bs(t,e,n){let r=FO[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(o.join(" "));return}Vo(new Si(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="firebase-heartbeat-database",BO=1,Sl="firebase-heartbeat-store";let hf=null;function xT(){return hf||(hf=oO(zO,BO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),hf}async function HO(t){try{const n=(await xT()).transaction(Sl),r=await n.objectStore(Sl).get(TT(t));return await n.done,r}catch(e){if(e instanceof Lr)Pr.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function $0(t,e){try{const r=(await xT()).transaction(Sl,"readwrite");await r.objectStore(Sl).put(e,TT(t)),await r.done}catch(n){if(n instanceof Lr)Pr.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(r.message)}}}function TT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=1024,qO=30;class GO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=z0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>qO){const o=YO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z0(),{heartbeatsToSend:r,unsentEntries:s}=KO(this._heartbeatsCache.heartbeats),i=Kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Pr.warn(n),""}}}function z0(){return new Date().toISOString().substring(0,10)}function KO(t,e=WO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),B0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),B0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MD()?VD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function B0(t){return Kc(JSON.stringify({version:2,heartbeats:t})).length}function YO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){Vo(new Si("platform-logger",e=>new uO(e),"PRIVATE")),Vo(new Si("heartbeat",e=>new GO(e),"PRIVATE")),bs(Rp,j0,t),bs(Rp,j0,"esm2020"),bs("fire-js","")}XO("");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,ST;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,w){function C(){}C.prototype=w.prototype,b.F=w.prototype,b.prototype=new C,b.prototype.constructor=b,b.D=function(A,R,N){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return w.prototype[R].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,w,C){C||(C=0);const A=Array(16);if(typeof w=="string")for(var R=0;R<16;++R)A[R]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(R=0;R<16;++R)A[R]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=b.g[0],C=b.g[1],R=b.g[2];let N=b.g[3],P;P=w+(N^C&(R^N))+A[0]+3614090360&4294967295,w=C+(P<<7&4294967295|P>>>25),P=N+(R^w&(C^R))+A[1]+3905402710&4294967295,N=w+(P<<12&4294967295|P>>>20),P=R+(C^N&(w^C))+A[2]+606105819&4294967295,R=N+(P<<17&4294967295|P>>>15),P=C+(w^R&(N^w))+A[3]+3250441966&4294967295,C=R+(P<<22&4294967295|P>>>10),P=w+(N^C&(R^N))+A[4]+4118548399&4294967295,w=C+(P<<7&4294967295|P>>>25),P=N+(R^w&(C^R))+A[5]+1200080426&4294967295,N=w+(P<<12&4294967295|P>>>20),P=R+(C^N&(w^C))+A[6]+2821735955&4294967295,R=N+(P<<17&4294967295|P>>>15),P=C+(w^R&(N^w))+A[7]+4249261313&4294967295,C=R+(P<<22&4294967295|P>>>10),P=w+(N^C&(R^N))+A[8]+1770035416&4294967295,w=C+(P<<7&4294967295|P>>>25),P=N+(R^w&(C^R))+A[9]+2336552879&4294967295,N=w+(P<<12&4294967295|P>>>20),P=R+(C^N&(w^C))+A[10]+4294925233&4294967295,R=N+(P<<17&4294967295|P>>>15),P=C+(w^R&(N^w))+A[11]+2304563134&4294967295,C=R+(P<<22&4294967295|P>>>10),P=w+(N^C&(R^N))+A[12]+1804603682&4294967295,w=C+(P<<7&4294967295|P>>>25),P=N+(R^w&(C^R))+A[13]+4254626195&4294967295,N=w+(P<<12&4294967295|P>>>20),P=R+(C^N&(w^C))+A[14]+2792965006&4294967295,R=N+(P<<17&4294967295|P>>>15),P=C+(w^R&(N^w))+A[15]+1236535329&4294967295,C=R+(P<<22&4294967295|P>>>10),P=w+(R^N&(C^R))+A[1]+4129170786&4294967295,w=C+(P<<5&4294967295|P>>>27),P=N+(C^R&(w^C))+A[6]+3225465664&4294967295,N=w+(P<<9&4294967295|P>>>23),P=R+(w^C&(N^w))+A[11]+643717713&4294967295,R=N+(P<<14&4294967295|P>>>18),P=C+(N^w&(R^N))+A[0]+3921069994&4294967295,C=R+(P<<20&4294967295|P>>>12),P=w+(R^N&(C^R))+A[5]+3593408605&4294967295,w=C+(P<<5&4294967295|P>>>27),P=N+(C^R&(w^C))+A[10]+38016083&4294967295,N=w+(P<<9&4294967295|P>>>23),P=R+(w^C&(N^w))+A[15]+3634488961&4294967295,R=N+(P<<14&4294967295|P>>>18),P=C+(N^w&(R^N))+A[4]+3889429448&4294967295,C=R+(P<<20&4294967295|P>>>12),P=w+(R^N&(C^R))+A[9]+568446438&4294967295,w=C+(P<<5&4294967295|P>>>27),P=N+(C^R&(w^C))+A[14]+3275163606&4294967295,N=w+(P<<9&4294967295|P>>>23),P=R+(w^C&(N^w))+A[3]+4107603335&4294967295,R=N+(P<<14&4294967295|P>>>18),P=C+(N^w&(R^N))+A[8]+1163531501&4294967295,C=R+(P<<20&4294967295|P>>>12),P=w+(R^N&(C^R))+A[13]+2850285829&4294967295,w=C+(P<<5&4294967295|P>>>27),P=N+(C^R&(w^C))+A[2]+4243563512&4294967295,N=w+(P<<9&4294967295|P>>>23),P=R+(w^C&(N^w))+A[7]+1735328473&4294967295,R=N+(P<<14&4294967295|P>>>18),P=C+(N^w&(R^N))+A[12]+2368359562&4294967295,C=R+(P<<20&4294967295|P>>>12),P=w+(C^R^N)+A[5]+4294588738&4294967295,w=C+(P<<4&4294967295|P>>>28),P=N+(w^C^R)+A[8]+2272392833&4294967295,N=w+(P<<11&4294967295|P>>>21),P=R+(N^w^C)+A[11]+1839030562&4294967295,R=N+(P<<16&4294967295|P>>>16),P=C+(R^N^w)+A[14]+4259657740&4294967295,C=R+(P<<23&4294967295|P>>>9),P=w+(C^R^N)+A[1]+2763975236&4294967295,w=C+(P<<4&4294967295|P>>>28),P=N+(w^C^R)+A[4]+1272893353&4294967295,N=w+(P<<11&4294967295|P>>>21),P=R+(N^w^C)+A[7]+4139469664&4294967295,R=N+(P<<16&4294967295|P>>>16),P=C+(R^N^w)+A[10]+3200236656&4294967295,C=R+(P<<23&4294967295|P>>>9),P=w+(C^R^N)+A[13]+681279174&4294967295,w=C+(P<<4&4294967295|P>>>28),P=N+(w^C^R)+A[0]+3936430074&4294967295,N=w+(P<<11&4294967295|P>>>21),P=R+(N^w^C)+A[3]+3572445317&4294967295,R=N+(P<<16&4294967295|P>>>16),P=C+(R^N^w)+A[6]+76029189&4294967295,C=R+(P<<23&4294967295|P>>>9),P=w+(C^R^N)+A[9]+3654602809&4294967295,w=C+(P<<4&4294967295|P>>>28),P=N+(w^C^R)+A[12]+3873151461&4294967295,N=w+(P<<11&4294967295|P>>>21),P=R+(N^w^C)+A[15]+530742520&4294967295,R=N+(P<<16&4294967295|P>>>16),P=C+(R^N^w)+A[2]+3299628645&4294967295,C=R+(P<<23&4294967295|P>>>9),P=w+(R^(C|~N))+A[0]+4096336452&4294967295,w=C+(P<<6&4294967295|P>>>26),P=N+(C^(w|~R))+A[7]+1126891415&4294967295,N=w+(P<<10&4294967295|P>>>22),P=R+(w^(N|~C))+A[14]+2878612391&4294967295,R=N+(P<<15&4294967295|P>>>17),P=C+(N^(R|~w))+A[5]+4237533241&4294967295,C=R+(P<<21&4294967295|P>>>11),P=w+(R^(C|~N))+A[12]+1700485571&4294967295,w=C+(P<<6&4294967295|P>>>26),P=N+(C^(w|~R))+A[3]+2399980690&4294967295,N=w+(P<<10&4294967295|P>>>22),P=R+(w^(N|~C))+A[10]+4293915773&4294967295,R=N+(P<<15&4294967295|P>>>17),P=C+(N^(R|~w))+A[1]+2240044497&4294967295,C=R+(P<<21&4294967295|P>>>11),P=w+(R^(C|~N))+A[8]+1873313359&4294967295,w=C+(P<<6&4294967295|P>>>26),P=N+(C^(w|~R))+A[15]+4264355552&4294967295,N=w+(P<<10&4294967295|P>>>22),P=R+(w^(N|~C))+A[6]+2734768916&4294967295,R=N+(P<<15&4294967295|P>>>17),P=C+(N^(R|~w))+A[13]+1309151649&4294967295,C=R+(P<<21&4294967295|P>>>11),P=w+(R^(C|~N))+A[4]+4149444226&4294967295,w=C+(P<<6&4294967295|P>>>26),P=N+(C^(w|~R))+A[11]+3174756917&4294967295,N=w+(P<<10&4294967295|P>>>22),P=R+(w^(N|~C))+A[2]+718787259&4294967295,R=N+(P<<15&4294967295|P>>>17),P=C+(N^(R|~w))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+N&4294967295}r.prototype.v=function(b,w){w===void 0&&(w=b.length);const C=w-this.blockSize,A=this.C;let R=this.h,N=0;for(;N<w;){if(R==0)for(;N<=C;)s(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<w;)if(A[R++]=b.charCodeAt(N++),R==this.blockSize){s(this,A),R=0;break}}else for(;N<w;)if(A[R++]=b[N++],R==this.blockSize){s(this,A),R=0;break}}this.h=R,this.o+=w},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;w=this.o*8;for(var C=b.length-8;C<b.length;++C)b[C]=w&255,w/=256;for(this.v(b),b=Array(16),w=0,C=0;C<4;++C)for(let A=0;A<32;A+=8)b[w++]=this.g[C]>>>A&255;return b};function i(b,w){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=w(b)}function o(b,w){this.h=w;const C=[];let A=!0;for(let R=b.length-1;R>=0;R--){const N=b[R]|0;A&&N==w||(C[R]=N,A=!1)}this.g=C}var a={};function u(b){return-128<=b&&b<128?i(b,function(w){return new o([w|0],w<0?-1:0)}):new o([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return x(c(-b));const w=[];let C=1;for(let A=0;b>=C;A++)w[A]=b/C|0,C*=4294967296;return new o(w,0)}function d(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return x(d(b.substring(1),w));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(w,8));let A=f;for(let N=0;N<b.length;N+=8){var R=Math.min(8,b.length-N);const P=parseInt(b.substring(N,N+R),w);R<8?(R=c(Math.pow(w,R)),A=A.j(R).add(c(P))):(A=A.j(C),A=A.add(c(P)))}return A}var f=u(0),m=u(1),p=u(16777216);t=o.prototype,t.m=function(){if(_(this))return-x(this).m();let b=0,w=1;for(let C=0;C<this.g.length;C++){const A=this.i(C);b+=(A>=0?A:4294967296+A)*w,w*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(_(this))return"-"+x(this).toString(b);const w=c(Math.pow(b,6));var C=this;let A="";for(;;){const R=D(C,w).g;C=y(C,R.j(w));let N=((C.g.length>0?C.g[0]:C.h)>>>0).toString(b);if(C=R,S(C))return N+A;for(;N.length<6;)N="0"+N;A=N+A}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(let w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function _(b){return b.h==-1}t.l=function(b){return b=y(this,b),_(b)?-1:S(b)?0:1};function x(b){const w=b.g.length,C=[];for(let A=0;A<w;A++)C[A]=~b.g[A];return new o(C,~b.h).add(m)}t.abs=function(){return _(this)?x(this):this},t.add=function(b){const w=Math.max(this.g.length,b.g.length),C=[];let A=0;for(let R=0;R<=w;R++){let N=A+(this.i(R)&65535)+(b.i(R)&65535),P=(N>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);A=P>>>16,N&=65535,P&=65535,C[R]=P<<16|N}return new o(C,C[C.length-1]&-2147483648?-1:0)};function y(b,w){return b.add(x(w))}t.j=function(b){if(S(this)||S(b))return f;if(_(this))return _(b)?x(this).j(x(b)):x(x(this).j(b));if(_(b))return x(this.j(x(b)));if(this.l(p)<0&&b.l(p)<0)return c(this.m()*b.m());const w=this.g.length+b.g.length,C=[];for(var A=0;A<2*w;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(let R=0;R<b.g.length;R++){const N=this.i(A)>>>16,P=this.i(A)&65535,H=b.i(R)>>>16,ie=b.i(R)&65535;C[2*A+2*R]+=P*ie,v(C,2*A+2*R),C[2*A+2*R+1]+=N*ie,v(C,2*A+2*R+1),C[2*A+2*R+1]+=P*H,v(C,2*A+2*R+1),C[2*A+2*R+2]+=N*H,v(C,2*A+2*R+2)}for(b=0;b<w;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=w;b<2*w;b++)C[b]=0;return new o(C,0)};function v(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function T(b,w){this.g=b,this.h=w}function D(b,w){if(S(w))throw Error("division by zero");if(S(b))return new T(f,f);if(_(b))return w=D(x(b),w),new T(x(w.g),x(w.h));if(_(w))return w=D(b,x(w)),new T(x(w.g),w.h);if(b.g.length>30){if(_(b)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var C=m,A=w;A.l(b)<=0;)C=O(C),A=O(A);var R=V(C,1),N=V(A,1);for(A=V(A,2),C=V(C,2);!S(A);){var P=N.add(A);P.l(b)<=0&&(R=R.add(C),N=P),A=V(A,1),C=V(C,1)}return w=y(b,R.j(w)),new T(R,w)}for(R=f;b.l(w)>=0;){for(C=Math.max(1,Math.floor(b.m()/w.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),N=c(C),P=N.j(w);_(P)||P.l(b)>0;)C-=A,N=c(C),P=N.j(w);S(N)&&(N=m),R=R.add(N),b=y(b,P)}return new T(R,b)}t.B=function(b){return D(this,b).h},t.and=function(b){const w=Math.max(this.g.length,b.g.length),C=[];for(let A=0;A<w;A++)C[A]=this.i(A)&b.i(A);return new o(C,this.h&b.h)},t.or=function(b){const w=Math.max(this.g.length,b.g.length),C=[];for(let A=0;A<w;A++)C[A]=this.i(A)|b.i(A);return new o(C,this.h|b.h)},t.xor=function(b){const w=Math.max(this.g.length,b.g.length),C=[];for(let A=0;A<w;A++)C[A]=this.i(A)^b.i(A);return new o(C,this.h^b.h)};function O(b){const w=b.g.length+1,C=[];for(let A=0;A<w;A++)C[A]=b.i(A)<<1|b.i(A-1)>>>31;return new o(C,b.h)}function V(b,w){const C=w>>5;w%=32;const A=b.g.length-C,R=[];for(let N=0;N<A;N++)R[N]=w>0?b.i(N+C)>>>w|b.i(N+C+1)<<32-w:b.i(N+C);return new o(R,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ST=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Is=o}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bT,Da,IT,oc,Np,CT,AT,RT;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var g=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var M=l[I];if(!(M in g))break e;g=g[M]}l=l[l.length-1],I=g[l],h=h(I),h!=I&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var g=[],I;for(I in h)Object.prototype.hasOwnProperty.call(h,I)&&g.push([I,h[I]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,g){return l.call.apply(l.bind,arguments)}function c(l,h,g){return c=u,c.apply(null,arguments)}function d(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function f(l,h){function g(){}g.prototype=h.prototype,l.Z=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(I,M,L){for(var q=Array(arguments.length-2),he=2;he<arguments.length;he++)q[he-2]=arguments[he];return h.prototype[M].apply(I,q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function p(l){const h=l.length;if(h>0){const g=Array(h);for(let I=0;I<h;I++)g[I]=l[I];return g}return[]}function S(l,h){for(let I=1;I<arguments.length;I++){const M=arguments[I];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=l.length||0;const L=M.length||0;l.length=g+L;for(let q=0;q<L;q++)l[g+q]=M[q]}else l.push(M)}}class _{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function x(l){o.setTimeout(()=>{throw l},0)}function y(){var l=b;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,g){const I=T.get();I.set(h,g),this.h?this.h.next=I:this.g=I,this.h=I}}var T=new _(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let O,V=!1,b=new v,w=()=>{const l=Promise.resolve(void 0);O=()=>{l.then(C)}};function C(){for(var l;l=y();){try{l.h.call(l.g)}catch(g){x(g)}var h=T;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}V=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,h),o.removeEventListener("test",g,h)}catch{}return l}();function P(l){return/^[\s\xa0]*$/.test(l)}function H(l,h){R.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}f(H,R),H.prototype.init=function(l,h){const g=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),te=0;function oe(l,h,g,I,M){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!I,this.ha=M,this.key=++te,this.da=this.fa=!1}function F(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $(l,h,g){for(const I in l)h.call(g,l[I],I,l)}function G(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function re(l){const h={};for(const g in l)h[g]=l[g];return h}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(l,h){let g,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(g in I)l[g]=I[g];for(let L=0;L<X.length;L++)g=X[L],Object.prototype.hasOwnProperty.call(I,g)&&(l[g]=I[g])}}function ue(l){this.src=l,this.g={},this.h=0}ue.prototype.add=function(l,h,g,I,M){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const q=We(l,h,I,M);return q>-1?(h=l[q],g||(h.fa=!1)):(h=new oe(h,this.src,L,!!I,M),h.fa=g,l.push(h)),h};function Ne(l,h){const g=h.type;if(g in l.g){var I=l.g[g],M=Array.prototype.indexOf.call(I,h,void 0),L;(L=M>=0)&&Array.prototype.splice.call(I,M,1),L&&(F(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function We(l,h,g,I){for(let M=0;M<l.length;++M){const L=l[M];if(!L.da&&L.listener==h&&L.capture==!!g&&L.ha==I)return M}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Dn={};function pn(l,h,g,I,M){if(Array.isArray(h)){for(let L=0;L<h.length;L++)pn(l,h[L],g,I,M);return null}return g=jr(g),l&&l[ie]?l.J(h,g,a(I)?!!I.capture:!!I,M):cr(l,h,g,!1,I,M)}function cr(l,h,g,I,M,L){if(!h)throw Error("Invalid event type");const q=a(M)?!!M.capture:!!M;let he=Fr(l);if(he||(l[ye]=he=new ue(l)),g=he.add(h,g,I,q,L),g.proxy)return g;if(I=On(),g.proxy=I,I.src=l,I.listener=g,l.addEventListener)N||(M=q),M===void 0&&(M=!1),l.addEventListener(h.toString(),I,M);else if(l.attachEvent)l.attachEvent(Ws(h.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function On(){function l(g){return h.call(l.src,l.listener,g)}const h=ra;return l}function dr(l,h,g,I,M){if(Array.isArray(h))for(var L=0;L<h.length;L++)dr(l,h[L],g,I,M);else I=a(I)?!!I.capture:!!I,g=jr(g),l&&l[ie]?(l=l.i,L=String(h).toString(),L in l.g&&(h=l.g[L],g=We(h,g,I,M),g>-1&&(F(h[g]),Array.prototype.splice.call(h,g,1),h.length==0&&(delete l.g[L],l.h--)))):l&&(l=Fr(l))&&(h=l.g[h.toString()],l=-1,h&&(l=We(h,g,I,M)),(g=l>-1?h[l]:null)&&rn(g))}function rn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ie])Ne(h.i,l);else{var g=l.type,I=l.proxy;h.removeEventListener?h.removeEventListener(g,I,l.capture):h.detachEvent?h.detachEvent(Ws(g),I):h.addListener&&h.removeListener&&h.removeListener(I),(g=Fr(h))?(Ne(g,l),g.h==0&&(g.src=null,h[ye]=null)):F(l)}}}function Ws(l){return l in Dn?Dn[l]:Dn[l]="on"+l}function ra(l,h){if(l.da)l=!0;else{h=new H(h,this);const g=l.listener,I=l.ha||l.src;l.fa&&rn(l),l=g.call(I,h)}return l}function Fr(l){return l=l[ye],l instanceof ue?l:null}var qs="__closure_events_fn_"+(Math.random()*1e9>>>0);function jr(l){return typeof l=="function"?l:(l[qs]||(l[qs]=function(h){return l.handleEvent(h)}),l[qs])}function Oe(){A.call(this),this.i=new ue(this),this.M=this,this.G=null}f(Oe,A),Oe.prototype[ie]=!0,Oe.prototype.removeEventListener=function(l,h,g,I){dr(this,l,h,g,I)};function st(l,h){var g,I=l.G;if(I)for(g=[];I;I=I.G)g.push(I);if(l=l.M,I=h.type||h,typeof h=="string")h=new R(h,l);else if(h instanceof R)h.target=h.target||l;else{var M=h;h=new R(I,l),de(h,M)}M=!0;let L,q;if(g)for(q=g.length-1;q>=0;q--)L=h.g=g[q],M=Mn(L,I,!0,h)&&M;if(L=h.g=l,M=Mn(L,I,!0,h)&&M,M=Mn(L,I,!1,h)&&M,g)for(q=0;q<g.length;q++)L=h.g=g[q],M=Mn(L,I,!1,h)&&M}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const g=l.g[h];for(let I=0;I<g.length;I++)F(g[I]);delete l.g[h],l.h--}}this.G=null},Oe.prototype.J=function(l,h,g,I){return this.i.add(String(l),h,!1,g,I)},Oe.prototype.K=function(l,h,g,I){return this.i.add(String(l),h,!0,g,I)};function Mn(l,h,g,I){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let M=!0;for(let L=0;L<h.length;++L){const q=h[L];if(q&&!q.da&&q.capture==g){const he=q.listener,Xe=q.ha||q.src;q.fa&&Ne(l.i,q),M=he.call(Xe,I)!==!1&&M}}return M&&!I.defaultPrevented}function eu(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(l,h||0)}function Vn(l){l.g=eu(()=>{l.g=null,l.i&&(l.i=!1,Vn(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class ch extends A{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(l){A.call(this),this.h=l,this.g={}}f(Gs,A);var Ct=[];function hr(l){$(l.g,function(h,g){this.g.hasOwnProperty(g)&&rn(h)},l),l.g={}}Gs.prototype.N=function(){Gs.Z.N.call(this),hr(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sa=o.JSON.stringify,dh=o.JSON.parse,Mi=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function tu(){}function ia(){}var fr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ln(){R.call(this,"d")}f(Ln,R);function Vi(){R.call(this,"c")}f(Vi,R);var Ot={},nu=null;function Li(){return nu=nu||new Oe}Ot.Ia="serverreachability";function oa(l){R.call(this,Ot.Ia,l)}f(oa,R);function Ur(l){const h=Li();st(h,new oa(h))}Ot.STAT_EVENT="statevent";function ru(l,h){R.call(this,Ot.STAT_EVENT,l),this.stat=h}f(ru,R);function Ye(l){const h=Li();st(h,new ru(h,l))}Ot.Ja="timingevent";function mn(l,h){R.call(this,Ot.Ja,l),this.size=h}f(mn,R);function Ks(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function Z(){this.g=!0}Z.prototype.ua=function(){this.g=!1};function Ee(l,h,g,I,M,L){l.info(function(){if(l.g)if(L){var q="",he=L.split("&");for(let Se=0;Se<he.length;Se++){var Xe=he[Se].split("=");if(Xe.length>1){const ot=Xe[0];Xe=Xe[1];const Un=ot.split("_");q=Un.length>=2&&Un[1]=="type"?q+(ot+"="+Xe+"&"):q+(ot+"=redacted&")}}}else q=null;else q=L;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+h+`
`+g+`
`+q})}function be(l,h,g,I,M,L,q){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+h+`
`+g+`
`+L+" "+q})}function it(l,h,g,I){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Fn(l,g)+(I?" "+I:"")})}function qt(l,h){l.info(function(){return"TIMEOUT: "+h})}Z.prototype.info=function(){};function Fn(l,h){if(!l.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var g=L[l];if(!(g.length<2)){var I=g[1];if(Array.isArray(I)&&!(I.length<1)){var M=I[0];if(M!="noop"&&M!="stop"&&M!="close")for(let q=1;q<I.length;q++)I[q]=""}}}}return sa(L)}catch{return h}}var sn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gn;function hh(){}f(hh,tu),hh.prototype.g=function(){return new XMLHttpRequest},gn=new hh;function aa(l){return encodeURIComponent(String(l))}function Vb(l){var h=1;l=l.split(":");const g=[];for(;h>0&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function $r(l,h,g,I){this.j=l,this.i=h,this.l=g,this.S=I||1,this.V=new Gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ny}function ny(){this.i=null,this.g="",this.h=!1}var ry={},fh={};function ph(l,h,g){l.M=1,l.A=iu(jn(h)),l.u=g,l.R=!0,sy(l,null)}function sy(l,h){l.F=Date.now(),su(l),l.B=jn(l.A);var g=l.B,I=l.S;Array.isArray(I)||(I=[String(I)]),yy(g.i,"t",I),l.C=0,g=l.j.L,l.h=new ny,l.g=My(l.j,g?h:null,!l.u),l.P>0&&(l.O=new ch(c(l.Y,l,l.g),l.P)),h=l.V,g=l.g,I=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(Ct[0]=M.toString()),M=Ct);for(let L=0;L<M.length;L++){const q=pn(g,M[L],I||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.J?re(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Ur(),Ee(l.i,l.v,l.B,l.l,l.S,l.u)}$r.prototype.ba=function(l){l=l.target;const h=this.O;h&&Hr(l)==3?h.j():this.Y(l)},$r.prototype.Y=function(l){try{if(l==this.g)e:{const he=Hr(this.g),Xe=this.g.ya(),Se=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||Sy(this.g)))){this.K||he!=4||Xe==7||(Xe==8||Se<=0?Ur(3):Ur(2)),mh(this);var h=this.g.ca();this.X=h;var g=Lb(this);if(this.o=h==200,be(this.i,this.v,this.B,this.l,this.S,he,h),this.o){if(this.U&&!this.L){t:{if(this.g){var I,M=this.g;if((I=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var L=I;break t}}L=null}if(l=L)it(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gh(this,l);else{this.o=!1,this.m=3,Ye(12),Qs(this),la(this);break e}}if(this.R){l=!0;let ot;for(;!this.K&&this.C<g.length;)if(ot=Fb(this,g),ot==fh){he==4&&(this.m=4,Ye(14),l=!1),it(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==ry){this.m=4,Ye(15),it(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else it(this.i,this.l,ot,null),gh(this,ot);if(iy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||g.length!=0||this.h.h||(this.m=1,Ye(16),l=!1),this.o=this.o&&l,!l)it(this.i,this.l,g,"[Invalid Chunked Response]"),Qs(this),la(this);else if(g.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Sh(q),q.P=!0,Ye(11))}}else it(this.i,this.l,g,null),gh(this,g);he==4&&Qs(this),this.o&&!this.K&&(he==4?ky(this.j,this):(this.o=!1,su(this)))}else Jb(this.g),h==400&&g.indexOf("Unknown SID")>0?(this.m=3,Ye(12)):(this.m=0,Ye(13)),Qs(this),la(this)}}}catch{}finally{}};function Lb(l){if(!iy(l))return l.g.la();const h=Sy(l.g);if(h==="")return"";let g="";const I=h.length,M=Hr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Qs(l),la(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<I;L++)l.h.h=!0,g+=l.h.i.decode(h[L],{stream:!(M&&L==I-1)});return h.length=0,l.h.g+=g,l.C=0,l.h.g}function iy(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Fb(l,h){var g=l.C,I=h.indexOf(`
`,g);return I==-1?fh:(g=Number(h.substring(g,I)),isNaN(g)?ry:(I+=1,I+g>h.length?fh:(h=h.slice(I,I+g),l.C=I+g,h)))}$r.prototype.cancel=function(){this.K=!0,Qs(this)};function su(l){l.T=Date.now()+l.H,oy(l,l.H)}function oy(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Ks(c(l.aa,l),h)}function mh(l){l.D&&(o.clearTimeout(l.D),l.D=null)}$r.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(qt(this.i,this.B),this.M!=2&&(Ur(),Ye(17)),Qs(this),this.m=2,la(this)):oy(this,this.T-l)};function la(l){l.j.I==0||l.K||ky(l.j,l)}function Qs(l){mh(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,hr(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function gh(l,h){try{var g=l.j;if(g.I!=0&&(g.g==l||yh(g.h,l))){if(!l.L&&yh(g.h,l)&&g.I==3){try{var I=g.Ba.g.parse(h)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)cu(g),lu(g);else break e;Th(g),Ye(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Ks(c(g.Va,g),6e3));uy(g.h)<=1&&g.ta&&(g.ta=void 0)}else Xs(g,11)}else if((l.L||g.g==l)&&cu(g),!P(h))for(M=g.Ba.g.parse(h),h=0;h<M.length;h++){let Se=M[h];const ot=Se[0];if(!(ot<=g.K))if(g.K=ot,Se=Se[1],g.I==2)if(Se[0]=="c"){g.M=Se[1],g.ba=Se[2];const Un=Se[3];Un!=null&&(g.ka=Un,g.j.info("VER="+g.ka));const Js=Se[4];Js!=null&&(g.za=Js,g.j.info("SVER="+g.za));const Wr=Se[5];Wr!=null&&typeof Wr=="number"&&Wr>0&&(I=1.5*Wr,g.O=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const qr=l.g;if(qr){const hu=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var L=I.h;L.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(vh(L,L.h),L.h=null))}if(I.G){const bh=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(I.wa=bh,Ce(I.J,I.G,bh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),I=g;var q=l;if(I.na=Oy(I,I.L?I.ba:null,I.W),q.L){cy(I.h,q);var he=q,Xe=I.O;Xe&&(he.H=Xe),he.D&&(mh(he),su(he)),I.g=q}else Ry(I);g.i.length>0&&uu(g)}else Se[0]!="stop"&&Se[0]!="close"||Xs(g,7);else g.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Xs(g,7):xh(g):Se[0]!="noop"&&g.l&&g.l.qa(Se),g.A=0)}}Ur(4)}catch{}}var jb=class{constructor(l,h){this.g=l,this.map=h}};function ay(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ly(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function uy(l){return l.h?1:l.g?l.g.size:0}function yh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function vh(l,h){l.g?l.g.add(h):l.h=h}function cy(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}ay.prototype.cancel=function(){if(this.i=dy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function dy(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.G);return h}return p(l.i)}var hy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ub(l,h){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const I=l[g].indexOf("=");let M,L=null;I>=0?(M=l[g].substring(0,I),L=l[g].substring(I+1)):M=l[g],h(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function zr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof zr?(this.l=l.l,ua(this,l.j),this.o=l.o,this.g=l.g,ca(this,l.u),this.h=l.h,wh(this,vy(l.i)),this.m=l.m):l&&(h=String(l).match(hy))?(this.l=!1,ua(this,h[1]||"",!0),this.o=da(h[2]||""),this.g=da(h[3]||"",!0),ca(this,h[4]),this.h=da(h[5]||"",!0),wh(this,h[6]||"",!0),this.m=da(h[7]||"")):(this.l=!1,this.i=new fa(null,this.l))}zr.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(ha(h,fy,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(ha(h,fy,!0),"@"),l.push(aa(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ha(g,g.charAt(0)=="/"?Bb:zb,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ha(g,Wb)),l.join("")},zr.prototype.resolve=function(l){const h=jn(this);let g=!!l.j;g?ua(h,l.j):g=!!l.o,g?h.o=l.o:g=!!l.g,g?h.g=l.g:g=l.u!=null;var I=l.h;if(g)ca(h,l.u);else if(g=!!l.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var M=h.h.lastIndexOf("/");M!=-1&&(I=h.h.slice(0,M+1)+I)}if(M=I,M==".."||M==".")I="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){I=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let q=0;q<M.length;){const he=M[q++];he=="."?I&&q==M.length&&L.push(""):he==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),I&&q==M.length&&L.push("")):(L.push(he),I=!0)}I=L.join("/")}else I=M}return g?h.h=I:g=l.i.toString()!=="",g?wh(h,vy(l.i)):g=!!l.m,g&&(h.m=l.m),h};function jn(l){return new zr(l)}function ua(l,h,g){l.j=g?da(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function ca(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function wh(l,h,g){h instanceof fa?(l.i=h,qb(l.i,l.l)):(g||(h=ha(h,Hb)),l.i=new fa(h,l.l))}function Ce(l,h,g){l.i.set(h,g)}function iu(l){return Ce(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function da(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ha(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,$b),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function $b(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var fy=/[#\/\?@]/g,zb=/[#\?:]/g,Bb=/[#\?]/g,Hb=/[#\?@]/g,Wb=/#/g;function fa(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Ys(l){l.g||(l.g=new Map,l.h=0,l.i&&Ub(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=fa.prototype,t.add=function(l,h){Ys(this),this.i=null,l=Fi(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function py(l,h){Ys(l),h=Fi(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function my(l,h){return Ys(l),h=Fi(l,h),l.g.has(h)}t.forEach=function(l,h){Ys(this),this.g.forEach(function(g,I){g.forEach(function(M){l.call(h,M,I,this)},this)},this)};function gy(l,h){Ys(l);let g=[];if(typeof h=="string")my(l,h)&&(g=g.concat(l.g.get(Fi(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)g=g.concat(l[h]);return g}t.set=function(l,h){return Ys(this),this.i=null,l=Fi(this,l),my(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=gy(this,l),l.length>0?String(l[0]):h):h};function yy(l,h,g){py(l,h),g.length>0&&(l.i=null,l.g.set(Fi(l,h),p(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let I=0;I<h.length;I++){var g=h[I];const M=aa(g);g=gy(this,g);for(let L=0;L<g.length;L++){let q=M;g[L]!==""&&(q+="="+aa(g[L])),l.push(q)}}return this.i=l.join("&")};function vy(l){const h=new fa;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Fi(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function qb(l,h){h&&!l.j&&(Ys(l),l.i=null,l.g.forEach(function(g,I){const M=I.toLowerCase();I!=M&&(py(this,I),yy(this,M,g))},l)),l.j=h}function Gb(l,h){const g=new Z;if(o.Image){const I=new Image;I.onload=d(Br,g,"TestLoadImage: loaded",!0,h,I),I.onerror=d(Br,g,"TestLoadImage: error",!1,h,I),I.onabort=d(Br,g,"TestLoadImage: abort",!1,h,I),I.ontimeout=d(Br,g,"TestLoadImage: timeout",!1,h,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else h(!1)}function Kb(l,h){const g=new Z,I=new AbortController,M=setTimeout(()=>{I.abort(),Br(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:I.signal}).then(L=>{clearTimeout(M),L.ok?Br(g,"TestPingServer: ok",!0,h):Br(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Br(g,"TestPingServer: error",!1,h)})}function Br(l,h,g,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(g)}catch{}}function Qb(){this.g=new Mi}function _h(l){this.i=l.Sb||null,this.h=l.ab||!1}f(_h,tu),_h.prototype.g=function(){return new ou(this.i,this.h)};function ou(l,h){Oe.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ou,Oe),t=ou.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,ma(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wy(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function wy(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?pa(this):ma(this),this.readyState==3&&wy(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,pa(this))},t.Na=function(l){this.g&&(this.response=l,pa(this))},t.ga=function(){this.g&&pa(this)};function pa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,ma(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function ma(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function _y(l){let h="";return $(l,function(g,I){h+=I,h+=":",h+=g,h+=`\r
`}),h}function Eh(l,h,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=_y(g),typeof l=="string"?g!=null&&aa(g):Ce(l,h,g))}function Ue(l){Oe.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ue,Oe);var Yb=/^https?$/i,Xb=["POST","PUT"];t=Ue.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gn.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){Ey(this,L);return}if(l=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)g.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())g.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),M=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(Xb,h,void 0)>=0)||I||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,q]of g)this.g.setRequestHeader(L,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){Ey(this,L)}};function Ey(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,xy(l),au(l)}function xy(l){l.A||(l.A=!0,st(l,"complete"),st(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,st(this,"complete"),st(this,"abort"),au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ty(this):this.Xa())},t.Xa=function(){Ty(this)};function Ty(l){if(l.h&&typeof i<"u"){if(l.v&&Hr(l)==4)setTimeout(l.Ca.bind(l),0);else if(st(l,"readystatechange"),Hr(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var I;if(I=L===0){let q=String(l.D).match(hy)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),I=!Yb.test(q?q.toLowerCase():"")}g=I}if(g)st(l,"complete"),st(l,"success");else{l.o=6;try{var M=Hr(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",xy(l)}}finally{au(l)}}}}function au(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,h||st(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Hr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Hr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),dh(h)}};function Sy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Jb(l){const h={};l=(l.g&&Hr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(P(l[I]))continue;var g=Vb(l[I]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=h[M]||[];h[M]=L,L.push(g)}G(h,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function by(l){this.za=0,this.i=[],this.j=new Z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ga("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ga("baseRetryDelayMs",5e3,l),this.Za=ga("retryDelaySeedMs",1e4,l),this.Ta=ga("forwardChannelMaxRetries",2,l),this.va=ga("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new ay(l&&l.concurrentRequestLimit),this.Ba=new Qb,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=by.prototype,t.ka=8,t.I=1,t.connect=function(l,h,g,I){Ye(0),this.W=l,this.H=h||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.J=Oy(this,null,this.W),uu(this)};function xh(l){if(Iy(l),l.I==3){var h=l.V++,g=jn(l.J);if(Ce(g,"SID",l.M),Ce(g,"RID",h),Ce(g,"TYPE","terminate"),ya(l,g),h=new $r(l,l.j,h),h.M=2,h.A=iu(jn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=h.A,g=!0),g||(h.g=My(h.j,null),h.g.ea(h.A)),h.F=Date.now(),su(h)}Dy(l)}function lu(l){l.g&&(Sh(l),l.g.cancel(),l.g=null)}function Iy(l){lu(l),l.v&&(o.clearTimeout(l.v),l.v=null),cu(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function uu(l){if(!ly(l.h)&&!l.m){l.m=!0;var h=l.Ea;O||w(),V||(O(),V=!0),b.add(h,l),l.D=0}}function Zb(l,h){return uy(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Ks(c(l.Ea,l,h),Ny(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new $r(this,this.j,l);let L=this.o;if(this.U&&(L?(L=re(L),de(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(h+=I,h>4096){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=Ay(this,M,h),g=jn(this.J),Ce(g,"RID",l),Ce(g,"CVER",22),this.G&&Ce(g,"X-HTTP-Session-Id",this.G),ya(this,g),L&&(this.R?h="headers="+aa(_y(L))+"&"+h:this.u&&Eh(g,this.u,L)),vh(this.h,M),this.Ra&&Ce(g,"TYPE","init"),this.S?(Ce(g,"$req",h),Ce(g,"SID","null"),M.U=!0,ph(M,g,null)):ph(M,g,h),this.I=2}}else this.I==3&&(l?Cy(this,l):this.i.length==0||ly(this.h)||Cy(this))};function Cy(l,h){var g;h?g=h.l:g=l.V++;const I=jn(l.J);Ce(I,"SID",l.M),Ce(I,"RID",g),Ce(I,"AID",l.K),ya(l,I),l.u&&l.o&&Eh(I,l.u,l.o),g=new $r(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),h&&(l.i=h.G.concat(l.i)),h=Ay(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),vh(l.h,g),ph(g,I,h)}function ya(l,h){l.H&&$(l.H,function(g,I){Ce(h,I,g)}),l.l&&$({},function(g,I){Ce(h,I,g)})}function Ay(l,h,g){g=Math.min(l.i.length,g);const I=l.l?c(l.l.Ka,l.l,l):null;e:{var M=l.i;let he=-1;for(;;){const Xe=["count="+g];he==-1?g>0?(he=M[0].g,Xe.push("ofs="+he)):he=0:Xe.push("ofs="+he);let Se=!0;for(let ot=0;ot<g;ot++){var L=M[ot].g;const Un=M[ot].map;if(L-=he,L<0)he=Math.max(0,M[ot].g-100),Se=!1;else try{L="req"+L+"_"||"";try{var q=Un instanceof Map?Un:Object.entries(Un);for(const[Js,Wr]of q){let qr=Wr;a(Wr)&&(qr=sa(Wr)),Xe.push(L+Js+"="+encodeURIComponent(qr))}}catch(Js){throw Xe.push(L+"type="+encodeURIComponent("_badmap")),Js}}catch{I&&I(Un)}}if(Se){q=Xe.join("&");break e}}q=void 0}return l=l.i.splice(0,g),h.G=l,q}function Ry(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;O||w(),V||(O(),V=!0),b.add(h,l),l.A=0}}function Th(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Ks(c(l.Da,l),Ny(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Py(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Ks(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ye(10),lu(this),Py(this))};function Sh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Py(l){l.g=new $r(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=jn(l.na);Ce(h,"RID","rpc"),Ce(h,"SID",l.M),Ce(h,"AID",l.K),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ce(h,"TO",l.ia),Ce(h,"TYPE","xmlhttp"),ya(l,h),l.u&&l.o&&Eh(h,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=iu(jn(h)),g.u=null,g.R=!0,sy(g,l)}t.Va=function(){this.C!=null&&(this.C=null,lu(this),Th(this),Ye(19))};function cu(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function ky(l,h){var g=null;if(l.g==h){cu(l),Sh(l),l.g=null;var I=2}else if(yh(l.h,h))g=h.G,cy(l.h,h),I=1;else return;if(l.I!=0){if(h.o)if(I==1){g=h.u?h.u.length:0,h=Date.now()-h.F;var M=l.D;I=Li(),st(I,new mn(I,g)),uu(l)}else Ry(l);else if(M=h.m,M==3||M==0&&h.X>0||!(I==1&&Zb(l,h)||I==2&&Th(l)))switch(g&&g.length>0&&(h=l.h,h.i=h.i.concat(g)),M){case 1:Xs(l,5);break;case 4:Xs(l,10);break;case 3:Xs(l,6);break;default:Xs(l,2)}}}function Ny(l,h){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*h}function Xs(l,h){if(l.j.info("Error code "+h),h==2){var g=c(l.bb,l),I=l.Ua;const M=!I;I=new zr(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ua(I,"https"),iu(I),M?Gb(I.toString(),g):Kb(I.toString(),g)}else Ye(2);l.I=0,l.l&&l.l.pa(h),Dy(l),Iy(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function Dy(l){if(l.I=0,l.ja=[],l.l){const h=dy(l.h);(h.length!=0||l.i.length!=0)&&(S(l.ja,h),S(l.ja,l.i),l.h.i.length=0,p(l.i),l.i.length=0),l.l.oa()}}function Oy(l,h,g){var I=g instanceof zr?jn(g):new zr(g);if(I.g!="")h&&(I.g=h+"."+I.g),ca(I,I.u);else{var M=o.location;I=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;const L=new zr(null);I&&ua(L,I),h&&(L.g=h),M&&ca(L,M),g&&(L.h=g),I=L}return g=l.G,h=l.wa,g&&h&&Ce(I,g,h),Ce(I,"VER",l.ka),ya(l,I),I}function My(l,h,g){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Ue(new _h({ab:g})):new Ue(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vy(){}t=Vy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function du(){}du.prototype.g=function(l,h){return new Gt(l,h)};function Gt(l,h){Oe.call(this),this.g=new by(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!P(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!P(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ji(this)}f(Gt,Oe),Gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){xh(this.g)},Gt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=sa(l),l=g);h.i.push(new jb(h.Ya++,l)),h.I==3&&uu(h)},Gt.prototype.N=function(){this.g.l=null,delete this.j,xh(this.g),delete this.g,Gt.Z.N.call(this)};function Ly(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}f(Ly,Ln);function Fy(){Vi.call(this),this.status=1}f(Fy,Vi);function ji(l){this.g=l}f(ji,Vy),ji.prototype.ra=function(){st(this.g,"a")},ji.prototype.qa=function(l){st(this.g,new Ly(l))},ji.prototype.pa=function(l){st(this.g,new Fy)},ji.prototype.oa=function(){st(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,RT=function(){return new du},AT=function(){return Li()},CT=Ot,Np={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sn.NO_ERROR=0,sn.TIMEOUT=8,sn.HTTP_ERROR=6,oc=sn,Mt.COMPLETE="complete",IT=Mt,ia.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Oe.prototype.listen=Oe.prototype.J,Da=ia,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,bT=Ue}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="12.10.0";function JO(t){Jo=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new fg("@firebase/firestore");function $i(){return bi.logLevel}function K(t,...e){if(bi.logLevel<=pe.DEBUG){const n=e.map(gg);bi.debug(`Firestore (${Jo}): ${t}`,...n)}}function kr(t,...e){if(bi.logLevel<=pe.ERROR){const n=e.map(gg);bi.error(`Firestore (${Jo}): ${t}`,...n)}}function Ii(t,...e){if(bi.logLevel<=pe.WARN){const n=e.map(gg);bi.warn(`Firestore (${Jo}): ${t}`,...n)}}function gg(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PT(t,r,n)}function PT(t,e,n){let r=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kr(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||PT(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class eM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tM{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new kT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new xt(e)}}class nM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=iM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Dp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return ff(s)===ff(i)?me(s,i):ff(s)?1:-1}return me(t.length,e.length)}const oM=55296,aM=57343;function ff(t){const e=t.charCodeAt(0);return e>=oM&&e<=aM}function Lo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="__name__";class Bn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Bn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Bn.isNumericId(e),s=Bn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Bn.extractNumericId(e).compare(Bn.extractNumericId(n)):Dp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class Ve extends Bn{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const lM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Bn{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return lM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q0}static keyField(){return new ft([q0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ve.fromString(e))}static fromName(e){return new J(Ve.fromString(e).popFirst(5))}static empty(){return new J(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cM(t,e,n,r){if(e===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G0(t){if(!J.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vg(t);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e){const n={typeString:t};return e&&(n.value=e),n}function ql(t,e){if(!NT(t))throw new Y(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-62135596800,Q0=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Q0);return new Pe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K0)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ql(e,Pe._jsonSchema))return new Pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:Ke("string",Pe._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Pe(0,0))}static max(){return new se(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function dM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=se.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new Os(s,J.empty(),e)}function hM(t){return new Os(t.readTime,t.key,bl)}class Os{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Os(se.min(),J.empty(),bl)}static max(){return new Os(se.max(),J.empty(),bl)}}function fM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==pM)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function gM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function Wd(t){return t==null}function Yc(t){return t===0&&1/t==-1/0}function yM(t){return typeof t=="number"&&Number.isInteger(t)&&!Yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="";function vM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Y0(e)),e=wM(t.get(n),e);return Y0(e)}function wM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case DT:n+="";break;default:n+=i}}return n}function Y0(t){return t+DT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new rt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MT("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const _M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=_M.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="server_timestamp",LT="__type__",FT="__previous_value__",jT="__local_write_time__";function _g(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LT])==null?void 0:r.stringValue)===VT}function qd(t){const e=t.mapValue.fields[FT];return _g(e)?qd(e):e}function Il(t){const e=Ms(t.mapValue.fields[jT].timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r,s,i,o,a,u,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=f}}const Xc="(default)";class Cl{constructor(e,n){this.projectId=e,this.database=n||Xc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}function xM(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="__type__",$T="__max__",Fu={mapValue:{fields:{__type__:{stringValue:$T}}}},zT="__vector__",Jc="value";function Ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_g(t)?4:SM(t)?9007199254740991:TM(t)?10:11:ee(28295,{value:t})}function ar(t,e){if(t===e)return!0;const n=Ls(t);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ms(s.timestampValue),a=Ms(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Vs(s.bytesValue).isEqual(Vs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Be(s.doubleValue),a=Be(i.doubleValue);return o===a?Yc(o)===Yc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(X0(o)!==X0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!ar(o[u],a[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Al(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=Ls(t),r=Ls(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Be(i.integerValue||i.doubleValue),u=Be(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Z0(t.timestampValue,e.timestampValue);case 4:return Z0(Il(t),Il(e));case 5:return Dp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Vs(i),u=Vs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=me(a[c],u[c]);if(d!==0)return d}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(Be(i.latitude),Be(o.latitude));return a!==0?a:me(Be(i.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ew(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,S,_;const a=i.fields||{},u=o.fields||{},c=(m=a[Jc])==null?void 0:m.arrayValue,d=(p=u[Jc])==null?void 0:p.arrayValue,f=me(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return f!==0?f:ew(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Fu.mapValue&&o===Fu.mapValue)return 0;if(i===Fu.mapValue)return 1;if(o===Fu.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=Dp(u[f],d[f]);if(m!==0)return m;const p=Fo(a[u[f]],c[d[f]]);if(p!==0)return p}return me(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function Z0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Ms(t),r=Ms(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function ew(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Fo(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function jo(t){return Op(t)}function Op(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ms(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Op(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Op(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function ac(t){switch(Ls(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qd(t);return e?16+ac(e):16;case 5:return 2*t.stringValue.length;case 6:return Vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ac(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Bs(r.fields,(i,o)=>{s+=i.length+ac(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function Mp(t){return!!t&&"integerValue"in t}function Eg(t){return!!t&&"arrayValue"in t}function tw(t){return!!t&&"nullValue"in t}function nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lc(t){return!!t&&"mapValue"in t}function TM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[UT])==null?void 0:r.stringValue)===zT}function Qa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qa(t.arrayValue.values[n]);return e}return{...t}}function SM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jt(Qa(this.value))}}function BT(t){const e=[];return Bs(t.fields,(n,r)=>{const s=new ft([n]);if(lc(r)){const i=BT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,se.min(),se.min(),se.min(),jt.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,se.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,se.min(),se.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,se.min(),se.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.position=e,this.inclusive=n}}function rw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function sw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n="asc"){this.field=e,this.dir=n}}function bM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{}class et extends HT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CM(e,n,r):n==="array-contains"?new PM(e,r):n==="in"?new kM(e,r):n==="not-in"?new NM(e,r):n==="array-contains-any"?new DM(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AM(e,r):new RM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends HT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lr(e,n)}matches(e){return WT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WT(t){return t.op==="and"}function qT(t){return IM(t)&&WT(t)}function IM(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function Vp(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(qT(t))return t.filters.map(e=>Vp(e)).join(",");{const e=t.filters.map(n=>Vp(n)).join(",");return`${t.op}(${e})`}}function GT(t,e){return t instanceof et?function(r,s){return s instanceof et&&r.op===s.op&&r.field.isEqual(s.field)&&ar(r.value,s.value)}(t,e):t instanceof lr?function(r,s){return s instanceof lr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&GT(o,s.filters[a]),!0):!1}(t,e):void ee(19439)}function KT(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"}(t):"Filter"}class CM extends et{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class AM extends et{constructor(e,n){super(e,"in",n),this.keys=QT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RM extends et{constructor(e,n){super(e,"not-in",n),this.keys=QT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class PM extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Eg(n)&&Al(n.arrayValue,this.value)}}class kM extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Al(this.value.arrayValue,n)}}class NM extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Al(this.value.arrayValue,n)}}class DM extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function iw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new OM(t,e,n,r,s,i,o)}function xg(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.Te=n}return e.Te}function Tg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sw(t.startAt,e.startAt)&&sw(t.endAt,e.endAt)}function Lp(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function MM(t,e,n,r,s,i,o,a){return new Gd(t,e,n,r,s,i,o,a)}function Kd(t){return new Gd(t)}function ow(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VM(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function LM(t){return t.collectionGroup!==null}function Ya(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rt(ft.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ed(i,r))}),n.has(ft.keyField().canonicalString())||e.Ie.push(new ed(ft.keyField(),r))}return e.Ie}function er(t){const e=ae(t);return e.Ee||(e.Ee=FM(e,Ya(t))),e.Ee}function FM(t,e){if(t.limitType==="F")return iw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ed(s.field,i)});const n=t.endAt?new Zc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zc(t.startAt.position,t.startAt.inclusive):null;return iw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fp(t,e,n){return new Gd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qd(t,e){return Tg(er(t),er(e))&&t.limitType===e.limitType}function YT(t){return`${xg(er(t))}|lt:${t.limitType}`}function zi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>KT(s)).join(", ")}]`),Wd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>jo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>jo(s)).join(",")),`Target(${r})`}(er(t))}; limitType=${t.limitType})`}function Yd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ya(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=rw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Ya(r),s)||r.endAt&&!function(o,a,u){const c=rw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Ya(r),s))}(t,e)}function jM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XT(t){return(e,n)=>{let r=!1;for(const s of Ya(t)){const i=UM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function UM(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Fo(u,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new je(J.comparator);function Nr(){return $M}const JT=new je(J.comparator);function Oa(...t){let e=JT;for(const n of t)e=e.insert(n.key,n);return e}function ZT(t){let e=JT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ii(){return Xa()}function eS(){return Xa()}function Xa(){return new Di(t=>t.toString(),(t,e)=>t.isEqual(e))}const zM=new je(J.comparator),BM=new rt(J.comparator);function ge(...t){let e=BM;for(const n of t)e=e.add(n);return e}const HM=new rt(me);function WM(){return HM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function tS(t){return{integerValue:""+t}}function qM(t,e){return yM(e)?tS(e):Sg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function GM(t,e,n){return t instanceof td?function(s,i){const o={fields:{[LT]:{stringValue:VT},[jT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_g(i)&&(i=qd(i)),i&&(o.fields[FT]=i),{mapValue:o}}(n,e):t instanceof Rl?rS(t,e):t instanceof Pl?sS(t,e):function(s,i){const o=nS(s,i),a=aw(o)+aw(s.Ae);return Mp(o)&&Mp(s.Ae)?tS(a):Sg(s.serializer,a)}(t,e)}function KM(t,e,n){return t instanceof Rl?rS(t,e):t instanceof Pl?sS(t,e):n}function nS(t,e){return t instanceof nd?function(r){return Mp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class td extends Xd{}class Rl extends Xd{constructor(e){super(),this.elements=e}}function rS(t,e){const n=iS(e);for(const r of t.elements)n.some(s=>ar(s,r))||n.push(r);return{arrayValue:{values:n}}}class Pl extends Xd{constructor(e){super(),this.elements=e}}function sS(t,e){let n=iS(e);for(const r of t.elements)n=n.filter(s=>!ar(s,r));return{arrayValue:{values:n}}}class nd extends Xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aw(t){return Be(t.integerValue||t.doubleValue)}function iS(t){return Eg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Rl&&s instanceof Rl||r instanceof Pl&&s instanceof Pl?Lo(r.elements,s.elements,ar):r instanceof nd&&s instanceof nd?ar(r.Ae,s.Ae):r instanceof td&&s instanceof td}(t.transform,e.transform)}class YM{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jd{}function oS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lS(t.key,tr.none()):new Gl(t.key,t.data,tr.none());{const n=t.data,r=jt.empty();let s=new rt(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Hs(t.key,r,new Xt(s.toArray()),tr.none())}}function XM(t,e,n){t instanceof Gl?function(s,i,o){const a=s.value.clone(),u=uw(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Hs?function(s,i,o){if(!uc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=uw(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(aS(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ja(t,e,n,r){return t instanceof Gl?function(i,o,a,u){if(!uc(i.precondition,o))return a;const c=i.value.clone(),d=cw(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hs?function(i,o,a,u){if(!uc(i.precondition,o))return a;const c=cw(i.fieldTransforms,u,o),d=o.data;return d.setAll(aS(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return uc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=nS(r.transform,s||null);i!=null&&(n===null&&(n=jt.empty()),n.set(r.field,i))}return n||null}function lw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Lo(r,s,(i,o)=>QM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gl extends Jd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Hs extends Jd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function aS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uw(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,KM(o,a,n[s]))}return r}function cw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,GM(i,o,e))}return r}class lS extends Jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZM extends Jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&XM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=oS(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>lw(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>lw(n,r))}}class bg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return zM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new bg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,ve;function rV(t){switch(t){case z.OK:return ee(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function uS(t){if(t===void 0)return kr("GRPC error has no .code"),z.UNKNOWN;switch(t){case qe.OK:return z.OK;case qe.CANCELLED:return z.CANCELLED;case qe.UNKNOWN:return z.UNKNOWN;case qe.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case qe.INTERNAL:return z.INTERNAL;case qe.UNAVAILABLE:return z.UNAVAILABLE;case qe.UNAUTHENTICATED:return z.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case qe.NOT_FOUND:return z.NOT_FOUND;case qe.ALREADY_EXISTS:return z.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return z.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case qe.ABORTED:return z.ABORTED;case qe.OUT_OF_RANGE:return z.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return z.UNIMPLEMENTED;case qe.DATA_LOSS:return z.DATA_LOSS;default:return ee(39323,{code:t})}}(ve=qe||(qe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new Is([4294967295,4294967295],0);function dw(t){const e=sV().encode(t),n=new ST;return n.update(e),new Uint8Array(n.digest())}function hw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Is([n,r],0),new Is([s,i],0)]}class Ig{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ma(`Invalid padding: ${n}`);if(r<0)throw new Ma(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ma(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ma(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Is.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Is.fromNumber(r)));return s.compare(iV)===1&&(s=new Is([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=dw(e),[r,s]=hw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ig(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=dw(e),[r,s]=hw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zd(se.min(),s,new je(me),Nr(),ge())}}class Kl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kl(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class cS{constructor(e,n){this.targetId=e,this.Ce=n}}class dS{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fw{constructor(){this.ve=0,this.Fe=pw(),this.Me=gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new Kl(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=pw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class oV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.He=ju(),this.Je=ju(),this.Ze=new je(me)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Lp(i))if(r===0){const o=new J(i.path);this.et(n,o,St.newNoDocument(o,se.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Vs(r).toUint8Array()}catch(u){if(u instanceof MT)return Ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Ig(o,s,i)}catch(u){return Ii(u instanceof Ma?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Lp(a.target)){const u=new J(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,St.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=ge();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Zd(e,n,this.Ze,this.je,r);return this.je=Nr(),this.He=ju(),this.Je=ju(),this.Ze=new je(me),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new fw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new rt(me),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new rt(me),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ju(){return new je(J.comparator)}function pw(){return new je(J.comparator)}const aV={asc:"ASCENDING",desc:"DESCENDING"},lV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uV={and:"AND",or:"OR"};class cV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jp(t,e){return t.useProto3Json||Wd(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dV(t,e){return rd(t,e.toTimestamp())}function nr(t){return xe(!!t,49232),se.fromTimestamp(function(n){const r=Ms(n);return new Pe(r.seconds,r.nanos)}(t))}function Cg(t,e){return Up(t,e).canonicalString()}function Up(t,e){const n=function(s){return new Ve(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fS(t){const e=Ve.fromString(t);return xe(vS(e),10190,{key:e.toString()}),e}function $p(t,e){return Cg(t.databaseId,e.path)}function pf(t,e){const n=fS(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(mS(n))}function pS(t,e){return Cg(t.databaseId,e)}function hV(t){const e=fS(t);return e.length===4?Ve.emptyPath():mS(e)}function zp(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mS(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mw(t,e,n){return{name:$p(t,e),fields:n.value.mapValue.fields}}function fV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(xe(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?z.UNKNOWN:uS(c.code);return new Y(d,c.message||"")}(o);n=new dS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=pf(t,r.document.name),i=nr(r.document.updateTime),o=r.document.createTime?nr(r.document.createTime):se.min(),a=new jt({mapValue:{fields:r.document.fields}}),u=St.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new cc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=pf(t,r.document),i=r.readTime?nr(r.readTime):se.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new cc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=pf(t,r.document),i=r.removedTargetIds||[];n=new cc([],i,s,null)}else{if(!("filter"in e))return ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new nV(s,i),a=r.targetId;n=new cS(a,o)}}return n}function pV(t,e){let n;if(e instanceof Gl)n={update:mw(t,e.key,e.value)};else if(e instanceof lS)n={delete:$p(t,e.key)};else if(e instanceof Hs)n={update:mw(t,e.key,e.data),updateMask:TV(e.fieldMask)};else{if(!(e instanceof ZM))return ee(16599,{dt:e.type});n={verify:$p(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof td)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:dV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function mV(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?nr(s.updateTime):nr(i);return o.isEqual(se.min())&&(o=nr(i)),new YM(o,s.transformResults||[])}(n,e))):[]}function gV(t,e){return{documents:[pS(t,e.path)]}}function yV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pS(t,s);const i=function(c){if(c.length!==0)return yS(lr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Bi(m.field),direction:_V(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function vV(t){let e=hV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=gS(f);return m instanceof lr&&qT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(S){return new ed(Hi(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Wd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,p=f.values||[];return new Zc(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,p=f.values||[];return new Zc(p,m)}(n.endAt)),MM(e,s,o,i,a,"F",u,c)}function wV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hi(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Hi(n.unaryFilter.field);return et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hi(n.unaryFilter.field);return et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hi(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(Hi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(r=>gS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function _V(t){return aV[t]}function EV(t){return lV[t]}function xV(t){return uV[t]}function Bi(t){return{fieldPath:t.canonicalString()}}function Hi(t){return ft.fromServerFormat(t.fieldPath)}function yS(t){return t instanceof et?function(n){if(n.op==="=="){if(nw(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NAN"}};if(tw(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nw(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NOT_NAN"}};if(tw(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bi(n.field),op:EV(n.op),value:n.value}}}(t):t instanceof lr?function(n){const r=n.getFilters().map(s=>yS(s));return r.length===1?r[0]:{compositeFilter:{op:xV(n.op),filters:r}}}(t):ee(54877,{filter:t})}function TV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function wS(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,s,i=se.min(),o=se.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.yt=e}}function bV(t){const e=vV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.Sn=new CV}addToCollectionParentIndex(e,n){return this.Sn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Os.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class CV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new rt(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_S=41943040;class Lt{static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(_S,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Uo(0)}static ar(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LruGarbageCollector",AV=1048576;function vw([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class RV{constructor(e){this.Pr=e,this.buffer=new rt(vw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){K(yw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?K(yw,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Ar(3e5)})}}class kV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Hd.ce);const r=new RV(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(gw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gw):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),$i()<=pe.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function NV(t,e){return new kV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.changes=new Di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ja(r.mutation,s,Xt.empty(),Pe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=ii();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Oa();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Nr();const o=Xa(),a=function(){return Xa()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Hs)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ja(d.mutation,c,d.mutation.getFieldMask(),Pe.now())):o.set(c.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new OV(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Xa();let s=new je((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Xt.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(s.get(a.batchId)||ge()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=eS();d.forEach(m=>{if(!i.has(m)){const p=oS(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return VM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(ii());let a=bl,u=i;return o.next(c=>U.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ge())).next(d=>({batchId:a,changes:ZT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=Oa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Oa();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,u=>{const c=function(f,m){return new Gd(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,St.newInvalidDocument(d)))});let a=Oa();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Ja(d.mutation,c,Xt.empty(),Pe.now()),Yd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return U.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:bV(s.bundledQuery),readTime:nr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.overlays=new je(J.comparator),this.Lr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ii();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=ii(),i=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=ii(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ii(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return U.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tV(n,r));let i=this.Lr.get(n);i===void 0&&(i=ge(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.kr=new rt(at.Kr),this.qr=new rt(at.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new at(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new at(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new J(new Ve([])),r=new at(n,e),s=new at(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new J(new Ve([])),r=new at(n,e),s=new at(n,e+1);let i=ge();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new at(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return J.comparator(e.key,n.key)||me(e.Hr,n.Hr)}static Ur(e,n){return me(e.Hr,n.Hr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new rt(at.Kr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new at(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?wg:this.Yn-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),s=new at(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(me);return n.forEach(s=>{const i=new at(s,0),o=new at(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),U.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new at(new J(i),0);let a=new rt(me);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Hr)),!0)},o),U.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return U.forEach(n.mutations,s=>{const i=new at(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new at(n,0),s=this.Jr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.ti=e,this.docs=function(){return new je(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Nr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Nr();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fM(hM(d),r)<=0||(s.has(d.key)||Yd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ni(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $V(this)}getSize(e){return U.resolve(this.size)}}class $V extends DV{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.persistence=e,this.ri=new Di(n=>xg(n),Tg),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.ii=0,this.si=new Ag,this.targetCount=0,this.oi=Uo._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),U.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.lr(n),U.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this._i={},this.overlays={},this.ai=new Hd(0),this.ui=!1,this.ui=!0,this.ci=new FV,this.referenceDelegate=e(this),this.li=new zV(this),this.indexManager=new IV,this.remoteDocumentCache=function(s){return new UV(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new SV(n),this.Pi=new VV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new jV(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new BV(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return U.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class BV extends mM{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new Ag,this.Ai=null}static Vi(e){return new Rg(e)}get di(){if(this.Ai)return this.Ai;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,r=>{const s=J.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,se.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class sd{constructor(e,n){this.persistence=e,this.fi=new Di(r=>vM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=NV(this,n)}static Vi(e,n){return new sd(e,n)}Ti(){}Ii(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return U.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),U.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ac(e.data.value)),n}wr(e,n,r){return U.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Pg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return OD()?8:gM(It())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new HV;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?($i()<=pe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",zi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):($i()<=pe.DEBUG&&K("QueryEngine","Query:",zi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?($i()<=pe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",zi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):U.resolve())}gs(e,n){if(ow(n))return U.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Fp(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,a);return this.Ss(n,c,o,u.readTime)?this.gs(e,Fp(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,r,s){return ow(n)||s.isEqual(se.min())?U.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?U.resolve(null):($i()<=pe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zi(n)),this.Ds(e,o,n,dM(s,bl)).next(a=>a))})}bs(e,n){let r=new rt(XT(e));return n.forEach((s,i)=>{Yd(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return $i()<=pe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",zi(n)),this.fs.getDocumentsMatchingQuery(e,n,Os.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LocalStore",qV=3e8;class GV{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new je(me),this.Fs=new Di(i=>xg(i),Tg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function KV(t,e,n,r){return new GV(t,e,n,r)}async function xS(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=ge();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function QV(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,m=f.keys();let p=U.resolve();return m.forEach(S=>{p=p.next(()=>d.getEntry(u,S)).next(_=>{const x=c.docVersions.get(S);xe(x!==null,48541),_.version.compareTo(x)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function TS(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function YV(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.li.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(gt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(_,x,y){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=qV?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,p,d)&&a.push(n.li.updateTargetData(i,p))});let u=Nr(),c=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(XV(i,o,e.documentUpdates).next(d=>{u=d.Bs,c=d.Ls})),!r.isEqual(se.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.vs=s,i))}function XV(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Nr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):K(kg,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Bs:o,Ls:s}})}function JV(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZV(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Bp(t,e,n){const r=ae(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ea(o))throw o;K(kg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function ww(t,e,n){const r=ae(t);let s=se.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=ae(u),m=f.Fs.get(d);return m!==void 0?U.resolve(f.vs.get(m)):f.li.getTargetData(c,d)}(r,o,er(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:se.min(),n?i:ge())).next(a=>(eL(r,jM(e),a),{documents:a,ks:i})))}function eL(t,e,n){let r=t.Ms.get(e)||se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class _w{constructor(){this.activeTargetIds=WM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tL{constructor(){this.vo=new _w,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="ConnectivityMonitor";class xw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){K(Ew,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){K(Ew,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function Hp(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="RestConnection",rL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class sL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Xc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Hp(),a=this.Qo(e,n.toUriEncodedString());K(mf,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,i);const{host:c}=new URL(a),d=Yo(c);return this.zo(e,a,u,r,d).then(f=>(K(mf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ii(mf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=rL[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection",Aa=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class fo extends sL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!fo.c_){const e=AT();Aa(e,CT.STAT_EVENT,n=>{n.stat===Np.PROXY?K(_t,"STAT_EVENT: detected buffering proxy"):n.stat===Np.NOPROXY&&K(_t,"STAT_EVENT: detected no buffering proxy")}),fo.c_=!0}}zo(e,n,r,s,i){const o=Hp();return new Promise((a,u)=>{const c=new bT;c.setWithCredentials(!0),c.listenOnce(IT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case oc.NO_ERROR:const f=c.getResponseJson();K(_t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case oc.TIMEOUT:K(_t,`RPC '${e}' ${o} timed out`),u(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const m=c.getStatus();if(K(_t,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const S=p==null?void 0:p.error;if(S&&S.status&&S.message){const _=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(v)>=0?v:z.UNKNOWN}(S.status);u(new Y(_,S.message))}else u(new Y(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y(z.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{K(_t,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);K(_t,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Hp(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");K(_t,`Creating RPC '${e}' stream ${s}: ${c}`,a);const d=o.createWebChannel(c,a);this.I_(d);let f=!1,m=!1;const p=new iL({Ho:S=>{m?K(_t,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(f||(K(_t,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),K(_t,`RPC '${e}' stream ${s} sending:`,S),d.send(S))},Jo:()=>d.close()});return Aa(d,Da.EventType.OPEN,()=>{m||(K(_t,`RPC '${e}' stream ${s} transport opened.`),p.i_())}),Aa(d,Da.EventType.CLOSE,()=>{m||(m=!0,K(_t,`RPC '${e}' stream ${s} transport closed`),p.o_(),this.E_(d))}),Aa(d,Da.EventType.ERROR,S=>{m||(m=!0,Ii(_t,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),p.o_(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),Aa(d,Da.EventType.MESSAGE,S=>{var _;if(!m){const x=S.data[0];xe(!!x,16349);const y=x,v=(y==null?void 0:y.error)||((_=y[0])==null?void 0:_.error);if(v){K(_t,`RPC '${e}' stream ${s} received error:`,v);const T=v.status;let D=function(b){const w=qe[b];if(w!==void 0)return uS(w)}(T),O=v.message;T==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&Ii(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=z.INTERNAL,O="Unknown error status: "+T+" with message "+v.message),m=!0,p.o_(new Y(D,O)),d.close()}else K(_t,`RPC '${e}' stream ${s} received:`,x),p.__(x)}}),fo.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return RT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){return new fo(t)}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return new cV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo.c_=!1;class SS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="PersistentStream";class bS{constructor(e,n,r,s,i,o,a,u){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(Tw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(K(Tw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aL extends bS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fV(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?nr(o.readTime):se.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=zp(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Lp(u)?{documents:gV(i,u)}:{query:yV(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hS(i,o.resumeToken);const c=jp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=rd(i,o.snapshotVersion.toTimestamp());const c=jp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=wV(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=zp(this.serializer),n.removeTarget=e,this.K_(n)}}class lL extends bS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mV(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pV(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{}class cL extends uL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Up(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(z.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Up(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function dL(t,e,n,r){return new cL(t,e,n,r)}class hL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="RemoteStore";class fL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Oi(this)&&(K(Ci,"Restarting streams for network reachability change."),await async function(u){const c=ae(u);c.Ea.add(4),await Ql(c),c.Va.set("Unknown"),c.Ea.delete(4),await th(c)}(this))})}),this.Va=new hL(r,s)}}async function th(t){if(Oi(t))for(const e of t.Ra)await e(!0)}async function Ql(t){for(const e of t.Ra)await e(!1)}function IS(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mg(n)?Og(n):ta(n).O_()&&Dg(n,e))}function Ng(t,e){const n=ae(t),r=ta(n);n.Ia.delete(e),r.O_()&&CS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Oi(n)&&n.Va.set("Unknown"))}function Dg(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).Z_(e)}function CS(t,e){t.da.$e(e),ta(t).X_(e)}function Og(t){t.da=new oV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.Va.ua()}function Mg(t){return Oi(t)&&!ta(t).x_()&&t.Ia.size>0}function Oi(t){return ae(t).Ea.size===0}function AS(t){t.da=void 0}async function pL(t){t.Va.set("Online")}async function mL(t){t.Ia.forEach((e,n)=>{Dg(t,e)})}async function gL(t,e){AS(t),Mg(t)?(t.Va.ha(e),Og(t)):t.Va.set("Unknown")}async function yL(t,e,n){if(t.Va.set("Online"),e instanceof dS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){K(Ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await id(t,r)}else if(e instanceof cc?t.da.Xe(e):e instanceof cS?t.da.st(e):t.da.tt(e),!n.isEqual(se.min()))try{const r=await TS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),CS(i,u);const f=new ps(d.target,u,c,d.sequenceNumber);Dg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(Ci,"Failed to raise snapshot:",r),await id(t,r)}}async function id(t,e,n){if(!ea(e))throw e;t.Ea.add(1),await Ql(t),t.Va.set("Offline"),n||(n=()=>TS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(Ci,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await th(t)})}function RS(t,e){return e().catch(n=>id(t,n,e))}async function nh(t){const e=ae(t),n=Fs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wg;for(;vL(e);)try{const s=await JV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,wL(e,s)}catch(s){await id(e,s)}PS(e)&&kS(e)}function vL(t){return Oi(t)&&t.Ta.length<10}function wL(t,e){t.Ta.push(e);const n=Fs(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function PS(t){return Oi(t)&&!Fs(t).x_()&&t.Ta.length>0}function kS(t){Fs(t).start()}async function _L(t){Fs(t).ra()}async function EL(t){const e=Fs(t);for(const n of t.Ta)e.ea(n.mutations)}async function xL(t,e,n){const r=t.Ta.shift(),s=bg.from(r,e,n);await RS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await nh(t)}async function TL(t,e){e&&Fs(t).Y_&&await async function(r,s){if(function(o){return rV(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();Fs(r).B_(),await RS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await nh(r)}}(t,e),PS(t)&&kS(t)}async function Sw(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),K(Ci,"RemoteStore received new credentials");const r=Oi(n);n.Ea.add(3),await Ql(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await th(n)}async function SL(t,e){const n=ae(t);e?(n.Ea.delete(2),await th(n)):e||(n.Ea.add(2),await Ql(n),n.Va.set("Unknown"))}function ta(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.sa(),new aL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:pL.bind(null,t),Yo:mL.bind(null,t),t_:gL.bind(null,t),J_:yL.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Mg(t)?Og(t):t.Va.set("Unknown")):(await t.ma.stop(),AS(t))})),t.ma}function Fs(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new lL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_L.bind(null,t),t_:TL.bind(null,t),ta:EL.bind(null,t),na:xL.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await nh(t)):(await t.fa.stop(),t.Ta.length>0&&(K(Ci,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Vg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(t,e){if(kr("AsyncQueue",`${e}: ${t}`),ea(t))return new Y(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.ga=new je(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class $o{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $o(e,n,po.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class IL{constructor(){this.queries=Iw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=Iw(),i.forEach((o,a)=>{for(const u of a.ba)u.onError(r)})})(this,new Y(z.ABORTED,"Firestore shutting down"))}}function Iw(){return new Di(t=>YT(t),Qd)}async function NS(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new bL,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Lg(o,`Initialization of query '${zi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Fg(n)}async function DS(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CL(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&Fg(n)}function AL(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Fg(t){t.Ca.forEach(e=>{e.next()})}var Wp,Cw;(Cw=Wp||(Wp={})).Ma="default",Cw.Cache="cache";class OS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.key=e}}class VS{constructor(e){this.key=e}}class RL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ge(),this.mutatedKeys=ge(),this.eu=XT(e),this.tu=new po(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new bw,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=Yd(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;m&&p?m.data.isEqual(p.data)?S!==_&&(r.track({type:3,doc:p}),x=!0):this.su(m,p)||(r.track({type:2,doc:p}),x=!0,(u&&this.eu(p,u)>0||c&&this.eu(p,c)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),x=!0):m&&!p&&(r.track({type:1,doc:m}),x=!0,(u||c)&&(a=!0)),x&&(p?(o=o.add(p),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(p,S){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Vt:x})}};return _(p)-_(S)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,o.length!==0||c?{snapshot:new $o(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new VS(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new MS(r))}),n}cu(e){this.Za=e.ks,this.Ya=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jg="SyncEngine";class PL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kL{constructor(e){this.key=e,this.hu=!1}}class NL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Di(a=>YT(a),Qd),this.Iu=new Map,this.Eu=new Set,this.Ru=new je(J.comparator),this.Au=new Map,this.Vu=new Ag,this.du={},this.mu=new Map,this.fu=Uo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DL(t,e,n=!0){const r=zS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await LS(r,e,n,!0),s}async function OL(t,e){const n=zS(t);await LS(n,e,!0,!1)}async function LS(t,e,n,r){const s=await ZV(t.localStore,er(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await ML(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&IS(t.remoteStore,s),a}async function ML(t,e,n,r,s){t.pu=(f,m,p)=>async function(_,x,y,v){let T=x.view.ru(y);T.Ss&&(T=await ww(_.localStore,x.query,!1).then(({documents:b})=>x.view.ru(b,T)));const D=v&&v.targetChanges.get(x.targetId),O=v&&v.targetMismatches.get(x.targetId)!=null,V=x.view.applyChanges(T,_.isPrimaryClient,D,O);return Rw(_,x.targetId,V.au),V.snapshot}(t,f,m,p);const i=await ww(t.localStore,e,!0),o=new RL(e,i.ks),a=o.ru(i.documents),u=Kl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);Rw(t,n,c.au);const d=new PL(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function VL(t,e,n){const r=ae(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Qd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Bp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ng(r.remoteStore,s.targetId),qp(r,s.targetId)}).catch(Zo)):(qp(r,s.targetId),await Bp(r.localStore,s.targetId,!0))}async function LL(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ng(n.remoteStore,r.targetId))}async function FL(t,e,n){const r=WL(t);try{const s=await function(o,a){const u=ae(o),c=Pe.now(),d=a.reduce((p,S)=>p.add(S.key),ge());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=Nr(),_=ge();return u.xs.getEntries(p,d).next(x=>{S=x,S.forEach((y,v)=>{v.isValidDocument()||(_=_.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,S)).next(x=>{f=x;const y=[];for(const v of a){const T=JM(v,f.get(v.key).overlayedDocument);T!=null&&y.push(new Hs(v.key,T,BT(T.value.mapValue),tr.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,y,a)}).next(x=>{m=x;const y=x.applyToLocalDocumentSet(f,_);return u.documentOverlayCache.saveOverlays(p,x.batchId,y)})}).then(()=>({batchId:m.batchId,changes:ZT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.du[o.currentUser.toKey()];c||(c=new je(me)),c=c.insert(a,u),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await Yl(r,s.changes),await nh(r.remoteStore)}catch(s){const i=Lg(s,"Failed to persist write");n.reject(i)}}async function FS(t,e){const n=ae(t);try{const r=await YV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await Yl(n,r,e)}catch(r){await Zo(r)}}function Aw(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=ae(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.ba)m.va(a)&&(c=!0)}),c&&Fg(u)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jL(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new je(J.comparator);o=o.insert(i,St.newNoDocument(i,se.min()));const a=ge().add(i),u=new Zd(se.min(),new Map,new je(me),o,a);await FS(r,u),r.Ru=r.Ru.remove(i),r.Au.delete(e),Ug(r)}else await Bp(r.localStore,e,!1).then(()=>qp(r,e,n)).catch(Zo)}async function UL(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await QV(n.localStore,e);US(n,r,null),jS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(n,s)}catch(s){await Zo(s)}}async function $L(t,e,n){const r=ae(t);try{const s=await function(o,a){const u=ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(xe(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);US(r,e,n),jS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yl(r,s)}catch(s){await Zo(s)}}function jS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function US(t,e,n){const r=ae(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function qp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||$S(t,r)})}function $S(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Ng(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Ug(t))}function Rw(t,e,n){for(const r of n)r instanceof MS?(t.Vu.addReference(r.key,e),zL(t,r)):r instanceof VS?(K(jg,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||$S(t,r.key)):ee(19791,{wu:r})}function zL(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(K(jg,"New document in limbo: "+n),t.Eu.add(r),Ug(t))}function Ug(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new kL(n)),t.Ru=t.Ru.insert(n,r),IS(t.remoteStore,new ps(er(Kd(n.path)),r,"TargetPurposeLimboResolution",Hd.ce))}}async function Yl(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Pg.Es(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(u,c){const d=ae(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,m=>U.forEach(m.Ts,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>U.forEach(m.Is,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!ea(f))throw f;K(kg,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const p=d.vs.get(m),S=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(S);d.vs=d.vs.insert(m,_)}}}(r.localStore,i))}async function BL(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){K(jg,"User change. New user:",e.toKey());const r=await xS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new Y(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yl(n,r.Ns)}}function HL(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let s=ge();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function zS(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jL.bind(null,e),e.Pu.J_=CL.bind(null,e.eventManager),e.Pu.yu=AL.bind(null,e.eventManager),e}function WL(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$L.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KV(this.persistence,new WV,e.initialUser,this.serializer)}Cu(e){return new ES(Rg.Vi,this.serializer)}Du(e){return new tL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class qL extends od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof sd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new ES(r=>sd.Vi(r,n),this.serializer)}}class Gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Aw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BL.bind(null,this.syncEngine),await SL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IL}()}createDatastore(e){const n=eh(e.databaseInfo.databaseId),r=oL(e.databaseInfo);return dL(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new fL(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Aw(this.syncEngine,n,0),function(){return xw.v()?new xw:new nL}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const f=new NL(s,i,o,a,u,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);K(Ci,"RemoteStore shutting down."),i.Ea.add(5),await Ql(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="FirestoreClient";class GL{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=xt.UNAUTHENTICATED,this.clientId=yg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K(js,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(js,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yf(t,e){t.asyncQueue.verifyOperationInProgress(),K(js,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await xS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Pw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KL(t);K(js,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Sw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Sw(e.remoteStore,s)),t._onlineComponents=e}async function KL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(js,"Using user provided OfflineComponentProvider");try{await yf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ii("Error using user provided cache. Falling back to memory cache: "+n),await yf(t,new od)}}else K(js,"Using default OfflineComponentProvider"),await yf(t,new qL(void 0));return t._offlineComponents}async function HS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(js,"Using user provided OnlineComponentProvider"),await Pw(t,t._uninitializedComponentsProvider._online)):(K(js,"Using default OnlineComponentProvider"),await Pw(t,new Gp))),t._onlineComponents}function QL(t){return HS(t).then(e=>e.syncEngine)}async function Kp(t){const e=await HS(t),n=e.eventManager;return n.onListen=DL.bind(null,e.syncEngine),n.onUnlisten=VL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LL.bind(null,e.syncEngine),n}function YL(t,e,n,r){const s=new BS(r),i=new OS(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>NS(await Kp(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>DS(await Kp(t),i))}}function XL(t,e,n={}){const r=new Cs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new BS({next:m=>{d.Nu(),o.enqueueAndForget(()=>DS(i,f));const p=m.docs.has(a);!p&&m.fromCache?c.reject(new Y(z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&u&&u.source==="server"?c.reject(new Y(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new OS(Kd(a.path),d,{includeMetadataChanges:!0,Ka:!0});return NS(i,f)}(await Kp(t),t.asyncQueue,e,n,r)),r.promise}function JL(t,e){const n=new Cs;return t.asyncQueue.enqueueAndForget(async()=>FL(await QL(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="ComponentProvider",kw=new Map;function e4(t,e,n,r,s){return new EM(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,WS(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",Nw=!0;class Dw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=Nw}else this.host=e.host,this.ssl=e.ssl??Nw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AV)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $g{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZO;switch(r.type){case"firstParty":return new rM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kw.get(n);r&&(K(ZL,"Removing Datastore"),kw.delete(n),r.terminate())}(this),Promise.resolve()}}function t4(t,e,n,r={}){var c;t=Zn(t,$g);const s=Yo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(gT(`https://${a}`),yT("Firestore",!0)),i.host!==qS&&i.host!==a&&Ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!Ti(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=xt.MOCK_USER;else{d=bD(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xt(m)}t._authCredentials=new eM(new kT(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rh(this.firestore,e,this._query)}}class Qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qe(this.firestore,e,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ql(n,Qe._jsonSchema))return new Qe(e,r||null,new J(Ve.fromString(n.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:Ke("string",Qe._jsonSchemaVersion),referencePath:Ke("string")};class kl extends rh{constructor(e,n,r){super(e,n,Kd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new J(e))}withConverter(e){return new kl(this.firestore,e,this._path)}}function sh(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=yg.newId()),uM("doc","path",e),t instanceof $g){const r=Ve.fromString(e,...n);return G0(r),new Qe(t,null,new J(r))}{if(!(t instanceof Qe||t instanceof kl))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return G0(r),new Qe(t.firestore,t instanceof kl?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="AsyncQueue";class Mw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SS(this,"async_queue_retry"),this._c=()=>{const r=gf();r&&K(Ow,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Cs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ea(e))throw e;K(Ow,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",Vw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Vg.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ee(47125,{Pc:Vw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Vw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zo extends $g{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Mw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mw(e),this._firestoreClient=void 0,await e}}}function n4(t,e){const n=typeof t=="object"?t:ET(),r=typeof t=="string"?t:Xc,s=mg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=TD("firestore");i&&t4(s,...i)}return s}function zg(t){if(t._terminated)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r4(t),t._firestoreClient}function r4(t){var r,s,i,o;const e=t._freezeSettings(),n=e4(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new un(gt.fromBase64String(e))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new un(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ql(e,un._jsonSchema))return un.fromBase64String(e.bytes)}}un._jsonSchemaVersion="firestore/bytes/1.0",un._jsonSchema={type:Ke("string",un._jsonSchemaVersion),bytes:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(ql(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:Ke("string",rr._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:An._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ql(e,An._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new An(e.vectorValues);throw new Y(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}An._jsonSchemaVersion="firestore/vectorValue/1.0",An._jsonSchema={type:Ke("string",An._jsonSchemaVersion),vectorValues:Ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=/^__.*__$/;class i4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}class GS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{dataSource:t})}}class Wg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ad(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(KS(this.dataSource)&&s4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class o4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||eh(e)}createContext(e,n,r,s=!1){return new Wg({dataSource:e,methodName:n,targetDoc:r,path:ft.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QS(t){const e=t._freezeSettings(),n=eh(t._databaseId);return new o4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a4(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);qg("Data must be an object, but it was:",o,r);const a=YS(r,o);let u,c;if(i.merge)u=new Xt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=Nl(e,f,n);if(!o.contains(m))throw new Y(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZS(d,m)||d.push(m)}u=new Xt(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new i4(new jt(a),u,c)}class ih extends Hg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ih}}function l4(t,e,n,r){const s=t.createContext(1,e,n);qg("Data must be an object, but it was:",s,r);const i=[],o=jt.empty();Bs(r,(u,c)=>{const d=JS(e,u,n);c=Ht(c);const f=s.childContextForFieldPath(d);if(c instanceof ih)i.push(d);else{const m=oh(c,f);m!=null&&(i.push(d),o.set(d,m))}});const a=new Xt(i);return new GS(o,a,s.fieldTransforms)}function u4(t,e,n,r,s,i){const o=t.createContext(1,e,n),a=[Nl(e,r,n)],u=[s];if(i.length%2!=0)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Nl(e,i[m])),u.push(i[m+1]);const c=[],d=jt.empty();for(let m=a.length-1;m>=0;--m)if(!ZS(c,a[m])){const p=a[m];let S=u[m];S=Ht(S);const _=o.childContextForFieldPath(p);if(S instanceof ih)c.push(p);else{const x=oh(S,_);x!=null&&(c.push(p),d.set(p,x))}}const f=new Xt(c);return new GS(d,f,o.fieldTransforms)}function oh(t,e){if(XS(t=Ht(t)))return qg("Unsupported field value:",e,t),YS(t,e);if(t instanceof Hg)return function(r,s){if(!KS(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=oh(a,s.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pe.fromDate(r);return{timestampValue:rd(s.serializer,i)}}if(r instanceof Pe){const i=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rd(s.serializer,i)}}if(r instanceof rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof un)return{bytesValue:hS(s.serializer,r._byteString)};if(r instanceof Qe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof An)return function(o,a){const u=o instanceof An?o.toArray():o;return{mapValue:{fields:{[UT]:{stringValue:zT},[Jc]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return Sg(a.serializer,d)})}}}}}}(r,s);if(wS(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${vg(r)}`)}(t,e)}function YS(t,e){const n={};return OT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,s)=>{const i=oh(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function XS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof rr||t instanceof un||t instanceof Qe||t instanceof Hg||t instanceof An||wS(t))}function qg(t,e,n){if(!XS(n)||!NT(n)){const r=vg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Nl(t,e,n){if((e=Ht(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return JS(t,e);throw ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const c4=new RegExp("[~\\*/\\[\\]]");function JS(t,e,n){if(e.search(c4)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bg(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ad(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Y(z.INVALID_ARGUMENT,a+t+u)}function ZS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{convertValue(e,n="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Jc].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Be(o.doubleValue));return new An(n)}convertGeoPoint(e){return new rr(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);xe(vS(r),9688,{name:e});const s=new Cl(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||kr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends d4{constructor(e){super(),this.firestore=e}convertBytes(e){return new un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}const Lw="@firebase/firestore",Fw="4.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Nl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h4 extends tb{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function p4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mi extends tb{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Nl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=mi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",mi._jsonSchema={type:Ke("string",mi._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class dc extends mi{data(e={}){return super.data(e)}}class mo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Va(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dc(this._firestore,this._userDataWriter,r.key,r,new Va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new dc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Va(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new dc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Va(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:m4(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function m4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Ke("string",mo._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){t=Zn(t,Qe);const e=Zn(t.firestore,zo),n=zg(e);return XL(n,t._key).then(r=>rb(e,t,r))}function y4(t,e,n){t=Zn(t,Qe);const r=Zn(t.firestore,zo),s=p4(t.converter,e),i=QS(r);return nb(r,[a4(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,tr.none())])}function v4(t,e,n,...r){t=Zn(t,Qe);const s=Zn(t.firestore,zo),i=QS(s);let o;return o=typeof(e=Ht(e))=="string"||e instanceof Bg?u4(i,"updateDoc",t._key,e,n,r):l4(i,"updateDoc",t._key,e),nb(s,[o.toMutation(t._key,tr.exists(!0))])}function w4(t,...e){var c,d,f;t=Ht(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||jw(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jw(e[r])){const m=e[r];e[r]=(c=m.next)==null?void 0:c.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(f=m.complete)==null?void 0:f.bind(m)}let i,o,a;if(t instanceof Qe)o=Zn(t.firestore,zo),a=Kd(t._key.path),i={next:m=>{e[r]&&e[r](rb(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Zn(t,rh);o=Zn(m.firestore,zo),a=m._query;const p=new eb(o);i={next:S=>{e[r]&&e[r](new mo(o,p,m,S))},error:e[r+1],complete:e[r+2]},f4(t._query)}const u=zg(o);return YL(u,a,s,i)}function nb(t,e){const n=zg(t);return JL(n,e)}function rb(t,e,n){const r=n.docs.get(e._key),s=new eb(t);return new mi(t,s,e._key,r,new Va(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){JO(Xo),Vo(new Si("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new zo(new tM(r.getProvider("auth-internal")),new sM(o,r.getProvider("app-check-internal")),xM(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),bs(Lw,Fw,e),bs(Lw,Fw,"esm2020")})();var _4="firebase",E4="12.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(_4,E4,"app");const x4={apiKey:"AIzaSyDT3dBdcw9FERAJBASNDvSiH5DGH-carL0",authDomain:"saudia-connect-play.firebaseapp.com",projectId:"saudia-connect-play",storageBucket:"saudia-connect-play.firebasestorage.app",messagingSenderId:"872875755443",appId:"1:872875755443:web:4186cbbe1b677ce91eedc6",measurementId:"G-897NVF66RD"};function sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T4=sb,ib=new Hl("auth","Firebase",sb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new fg("@firebase/auth");function S4(t,...e){ld.logLevel<=pe.WARN&&ld.warn(`Auth (${Xo}): ${t}`,...e)}function hc(t,...e){ld.logLevel<=pe.ERROR&&ld.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw Gg(t,...e)}function sr(t,...e){return Gg(t,...e)}function ob(t,e,n){const r={...T4(),[e]:n};return new Hl("auth","Firebase",r).create(e,{appName:t.name})}function gi(t){return ob(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ib.create(t,...e)}function ne(t,e,...n){if(!t)throw Gg(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hc(e),new Error(e)}function Or(t,e){t||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function b4(){return Uw()==="http:"||Uw()==="https:"}function Uw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b4()||kD()||"connection"in navigator)?navigator.onLine:!0}function C4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=AD()||ND()}get(){return I4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P4=new Xl(3e4,6e4);function Qg(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function na(t,e,n,r,s={}){return lb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Wl({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...i};return PD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Yo(t.emulatorConfig.host)&&(c.credentials="include"),ab.fetch()(await ub(t,t.config.apiHost,n,a),c)})}async function lb(t,e,n){t._canInitEmulator=!1;const r={...A4,...e};try{const s=new N4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $u(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw $u(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw $u(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ob(t,d,c);Dr(t,d)}}catch(s){if(s instanceof Lr)throw s;Dr(t,"network-request-failed",{message:String(s)})}}async function k4(t,e,n,r,s={}){const i=await na(t,e,n,r,s);return"mfaPendingCredential"in i&&Dr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function ub(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Kg(t.config,s):`${t.config.apiScheme}://${s}`;return R4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class N4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),P4.get())})}}function $u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=sr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e){return na(t,"POST","/v1/accounts:delete",e)}async function ud(t,e){return na(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O4(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),s=Yg(r);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Za(vf(s.auth_time)),issuedAtTime:Za(vf(s.iat)),expirationTime:Za(vf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function Yg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hc("JWT malformed, contained fewer than 3 sections"),null;try{const s=hT(n);return s?JSON.parse(s):(hc("Failed to decode base64 JWT payload"),null)}catch(s){return hc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $w(t){const e=Yg(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&M4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Dl(t,ud(e,{idToken:n}));ne(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?cb(s.providerUserInfo):[],o=F4(t.providerData,i),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Yp(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function L4(t){const e=Ht(t);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function cb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e){const n=await lb(t,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await ub(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Yo(t.emulatorConfig.host)&&(u.credentials="include"),ab.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function U4(t,e){return na(t,"POST","/v2/accounts:revokeToken",Qg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$w(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=$w(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await j4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new go;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ne(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new V4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O4(this,e)}reload(){return L4(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Dl(this,D4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:S,stsTokenManager:_}=n;ne(f&&_,e,"internal-error");const x=go.fromJSON(this.name,_);ne(typeof f=="string",e,"internal-error"),Yr(r,e.name),Yr(s,e.name),ne(typeof m=="boolean",e,"internal-error"),ne(typeof p=="boolean",e,"internal-error"),Yr(i,e.name),Yr(o,e.name),Yr(a,e.name),Yr(u,e.name),Yr(c,e.name),Yr(d,e.name);const y=new bn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:d});return S&&Array.isArray(S)&&(y.providerData=S.map(v=>({...v}))),u&&(y._redirectEventId=u),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new go;s.updateFromServerResponse(n);const i=new bn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?cb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new go;a.updateFromIdToken(r);const u=new bn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Yp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;function xr(t){Or(t instanceof Function,"Expected a class definition");let e=zw.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}db.type="NONE";const Bw=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t,e,n){return`firebase:${t}:${e}:${n}`}class yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=fc(this.userKey,s.apiKey,i),this.fullPersistenceKey=fc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ud(this.auth,{idToken:e}).catch(()=>{});return n?bn._fromGetAccountInfoResponse(this.auth,n,e):null}return bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yo(xr(Bw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||xr(Bw);const o=fc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const m=await ud(e,{idToken:d}).catch(()=>{});if(!m)break;f=await bn._fromGetAccountInfoResponse(e,m,d)}else f=bn._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new yo(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new yo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(vb(e))return"Webos";if(fb(e))return"Safari";if((e.includes("chrome/")||pb(e))&&!e.includes("edge/"))return"Chrome";if(gb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hb(t=It()){return/firefox\//i.test(t)}function fb(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pb(t=It()){return/crios\//i.test(t)}function mb(t=It()){return/iemobile/i.test(t)}function gb(t=It()){return/android/i.test(t)}function yb(t=It()){return/blackberry/i.test(t)}function vb(t=It()){return/webos/i.test(t)}function Xg(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $4(t=It()){var e;return Xg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function z4(){return DD()&&document.documentMode===10}function wb(t=It()){return Xg(t)||gb(t)||vb(t)||yb(t)||/windows phone/i.test(t)||mb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e=[]){let n;switch(t){case"Browser":n=Hw(It());break;case"Worker":n=`${Hw(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e={}){return na(t,"GET","/v2/passwordPolicy",Qg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=6;class q4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??W4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ww(this),this.idTokenSubscription=new Ww(this),this.beforeStateQueue=new B4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ud(this,{idToken:e}),r=await bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(gi(this));const n=e?Ht(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H4(this),n=new q4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await U4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&S4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Jg(t){return Ht(t)}class Ww{constructor(e){this.auth=e,this.observer=null,this.addObserver=$D(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K4(t){Zg=t}function Q4(t){return Zg.loadJS(t)}function Y4(){return Zg.gapiScript}function X4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t,e){const n=mg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ti(i,e??{}))return s;Dr(s,"already-initialized")}return n.initialize({options:e})}function Z4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function e5(t,e,n){const r=Jg(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Eb(e),{host:o,port:a}=t5(e),u=a===null?"":`:${a}`,c={url:`${i}//${o}${u}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(Ti(c,r.config.emulator)&&Ti(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Yo(o)?(gT(`${i}//${o}${u}`),yT("Auth",!0)):n5()}function Eb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t5(t){const e=Eb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:qw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:qw(o)}}}function qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(t,e){return k4(t,"POST","/v1/accounts:signInWithIdp",Qg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="http://localhost";class Ai extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ai(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:r5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Tb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Jl{constructor(){super("facebook.com")}static credential(e){return Ai._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ai._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Jl{constructor(){super("github.com")}static credential(e){return Ai._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Jl{constructor(){super("twitter.com")}static credential(e,n){return Ai._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await bn._fromIdTokenResponse(e,r,s),o=Gw(r);return new Bo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Gw(r);return new Bo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends Lr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new dd(e,n,r,s)}}function Sb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,i,e,r):i})}async function s5(t,e,n=!1){const r=await Dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(gi(r));const s="reauthenticate";try{const i=await Dl(t,Sb(r,s,e,t),n);ne(i.idToken,r,"internal-error");const o=Yg(i.idToken);ne(o,r,"internal-error");const{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),Bo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Dr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e,n=!1){if(Kn(t.app))return Promise.reject(gi(t));const r="signIn",s=await Sb(t,r,e),i=await Bo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function a5(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function l5(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}const hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=1e3,c5=10;class Ib extends bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);z4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,c5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ib.type="LOCAL";const d5=Ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Cb.type="SESSION";const Ab=Cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await h5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=ey("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function p5(t){ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function m5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function y5(){return Rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebaseLocalStorageDb",v5=1,fd="firebaseLocalStorage",kb="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lh(t,e){return t.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function w5(){const t=indexedDB.deleteDatabase(Pb);return new Zl(t).toPromise()}function Xp(){const t=indexedDB.open(Pb,v5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fd,{keyPath:kb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fd)?e(r):(r.close(),await w5(),e(await Xp()))})})}async function Kw(t,e,n){const r=lh(t,!0).put({[kb]:e,value:n});return new Zl(r).toPromise()}async function _5(t,e){const n=lh(t,!1).get(e),r=await new Zl(n).toPromise();return r===void 0?null:r.value}function Qw(t,e){const n=lh(t,!0).delete(e);return new Zl(n).toPromise()}const E5=800,x5=3;class Nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(y5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await m5(),!this.activeServiceWorker)return;this.sender=new f5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await Kw(e,hd,"1"),await Qw(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=lh(s,!1).getAll();return new Zl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nb.type="LOCAL";const T5=Nb;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e){return e?xr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function b5(t){return o5(t.auth,new ty(t),t.bypassAuthState)}function I5(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),i5(n,new ty(t),t.bypassAuthState)}async function C5(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),s5(n,new ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b5;case"linkViaPopup":case"linkViaRedirect":return C5;case"reauthViaPopup":case"reauthViaRedirect":return I5;default:Dr(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=new Xl(2e3,1e4);class ro extends Db{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A5.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="pendingRedirect",pc=new Map;class P5 extends Db{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pc.get(this.auth._key());if(!e){try{const r=await k5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pc.set(this.auth._key(),e)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k5(t,e){const n=O5(e),r=D5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function N5(t,e){pc.set(t._key(),e)}function D5(t){return xr(t._redirectPersistence)}function O5(t){return fc(R5,t.config.apiKey,t.name)}async function M5(t,e,n=!1){if(Kn(t.app))return Promise.reject(gi(t));const r=Jg(t),s=S5(r,e),o=await new P5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=10*60*1e3;class L5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ob(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yw(e))}saveEventToCache(e){this.cachedEventUids.add(Yw(e)),this.lastProcessedEventTime=Date.now()}}function Yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ob({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t,e={}){return na(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$5=/^https?/;async function z5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j5(t);for(const n of e)try{if(B5(n))return}catch{}Dr(t,"unauthorized-domain")}function B5(t){const e=Qp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$5.test(n))return!1;if(U5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new Xl(3e4,6e4);function Xw(){const t=ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W5(t){return new Promise((e,n)=>{var s,i,o;function r(){Xw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xw(),n(sr(t,"network-request-failed"))},timeout:H5.get()})}if((i=(s=ir().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ir().gapi)!=null&&o.load)r();else{const a=X4("iframefcb");return ir()[a]=()=>{gapi.load?r():n(sr(t,"network-request-failed"))},Q4(`${Y4()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw mc=null,e})}let mc=null;function q5(t){return mc=mc||W5(t),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new Xl(5e3,15e3),K5="__/auth/iframe",Q5="emulator/auth/iframe",Y5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J5(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kg(e,Q5):`https://${t.config.authDomain}/${K5}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},s=X5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Wl(r).slice(1)}`}async function Z5(t){const e=await q5(t),n=ir().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:J5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=sr(t,"network-request-failed"),a=ir().setTimeout(()=>{i(o)},G5.get());function u(){ir().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t3=500,n3=600,r3="_blank",s3="http://localhost";class Jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i3(t,e,n,r=t3,s=n3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...e3,width:r.toString(),height:s.toString(),top:i,left:o},c=It().toLowerCase();n&&(a=pb(c)?r3:n),hb(c)&&(e=e||s3,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[p,S])=>`${m}${p}=${S},`,"");if($4(c)&&a!=="_self")return o3(e||"",a),new Jw(null);const f=window.open(e||"",a,d);ne(f,t,"popup-blocked");try{f.focus()}catch{}return new Jw(f)}function o3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="__/auth/handler",l3="emulator/auth/handler",u3=encodeURIComponent("fac");async function Zw(t,e,n,r,s,i){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:s};if(e instanceof Tb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",UD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Jl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${u3}=${encodeURIComponent(u)}`:"";return`${c3(t)}?${Wl(a).slice(1)}${c}`}function c3({config:t}){return t.emulator?Kg(t,l3):`https://${t.authDomain}/${a3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="webStorageSupport";class d3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ab,this._completeRedirectFn=M5,this._overrideRedirectResult=N5}async _openPopup(e,n,r,s){var o;Or((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Zw(e,n,r,Qp(),s);return i3(e,i,ey())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Zw(e,n,r,Qp(),s);return p5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Or(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Z5(e),r=new L5(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wf,{type:wf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[wf];i!==void 0&&n(!!i),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wb()||fb()||Xg()}}const h3=d3;var e_="@firebase/auth",t_="1.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m3(t){Vo(new Si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_b(t)},c=new G4(r,s,i,u);return Z4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new Si("auth-internal",e=>{const n=Jg(e.getProvider("auth").getImmediate());return(r=>new f3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(e_,t_,p3(t)),bs(e_,t_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=5*60,y3=mT("authIdTokenMaxAge")||g3;let n_=null;const v3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y3)return;const s=n==null?void 0:n.token;n_!==s&&(n_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function w3(t=ET()){const e=mg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=J4(t,{popupRedirectResolver:h3,persistence:[T5,d5,Ab]}),r=mT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=v3(i.toString());l5(n,o,()=>o(n.currentUser)),a5(n,a=>o(a))}}const s=fT("auth");return s&&e5(n,`http://${s}`),n}function _3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}K4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m3("Browser");const Mb=_T(x4),uh=n4(Mb);w3(Mb);async function E3(t){const e=sh(uh,"games",t.roomCode);await y4(e,{...t,createdAt:new Date})}async function x3(t){const e=sh(uh,"games",t),n=await g4(e);return n.exists()?n.data():null}async function gc(t,e){const n=sh(uh,"games",t);await v4(n,e)}function T3(t,e){const n=sh(uh,"games",t);return w4(n,r=>{r.exists()&&e(r.data())})}const S3=()=>{const t=hg(),[e,n]=k.useState(""),[r,s]=k.useState(""),[i,o]=k.useState("home"),[a,u]=k.useState(!1),[c,d]=k.useState(!1),f=async()=>{if(e.trim()){u(!0);try{const p=lT(e.trim());await E3(p),sessionStorage.setItem("playerId",p.hostId),t(`/game/${p.roomCode}`)}finally{u(!1)}}},m=async()=>{if(!(!e.trim()||!r.trim())){d(!0);try{const p=r.trim().toUpperCase(),S=await x3(p);if(!S)return;const _=crypto.randomUUID();S.players.push({id:_,name:e.trim(),team:"red",isSpymaster:!1,isHost:!1}),await gc(p,{players:S.players}),sessionStorage.setItem("playerId",_),t(`/game/${p}`)}finally{d(!1)}}};return E.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 opacity-[0.06] pointer-events-none",style:{backgroundImage:`url(${uT})`,backgroundSize:"300px"}}),E.jsx("div",{className:"absolute top-[-15%] right-[-10%] w-80 h-80 rounded-full bg-team-red/10 blur-3xl pointer-events-none"}),E.jsx("div",{className:"absolute bottom-[-15%] left-[-10%] w-80 h-80 rounded-full bg-team-blue/10 blur-3xl pointer-events-none"}),E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-primary/5 blur-3xl pointer-events-none"}),E.jsxs("div",{className:"relative z-10 w-full max-w-sm mx-auto animate-fade-in",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-primary shadow-[0_8px_32px_hsl(var(--primary)/0.35)] mb-5",children:E.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:""})}),E.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2 tracking-tight",children:" "}),E.jsx("p",{className:"text-muted-foreground text-base",children:"  "})]}),i==="home"&&E.jsxs("div",{className:"space-y-3 animate-fade-in",children:[E.jsxs("button",{onClick:()=>o("create"),className:"w-full h-14 rounded-2xl bg-primary text-primary-foreground font-bold text-base flex items-center justify-center gap-2.5 shadow-[0_4px_24px_hsl(var(--primary)/0.35)] hover:shadow-[0_6px_32px_hsl(var(--primary)/0.45)] hover:scale-[1.01] active:scale-[0.99] transition-all duration-200",children:[E.jsx(rx,{className:"w-5 h-5"}),"  "]}),E.jsxs("button",{onClick:()=>o("join"),className:"w-full h-14 rounded-2xl bg-card border border-border/60 text-foreground font-bold text-base flex items-center justify-center gap-2.5 hover:border-primary/40 hover:bg-secondary/60 transition-all duration-200",children:[E.jsx(NR,{className:"w-5 h-5"})," "]}),E.jsxs("div",{className:"flex items-center justify-center gap-1.5 pt-3 text-xs text-muted-foreground",children:[E.jsx(sx,{className:"w-3.5 h-3.5"}),E.jsx("span",{children:"    "})]})]}),i==="create"&&E.jsxs("div",{className:"space-y-3 animate-fade-in",children:[E.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-5 shadow-sm space-y-4",children:[E.jsx("h2",{className:"text-lg font-bold text-center",children:" "}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block font-medium",children:""}),E.jsx(Ga,{placeholder:" ...",value:e,onChange:p=>n(p.target.value),onKeyDown:p=>p.key==="Enter"&&f(),className:"h-12 text-center text-base",dir:"rtl",autoFocus:!0})]}),E.jsx("button",{onClick:f,disabled:!e.trim()||a,className:`w-full h-12 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200
                  ${e.trim()&&!a?"bg-primary text-primary-foreground shadow-[0_4px_20px_hsl(var(--primary)/0.3)] hover:scale-[1.01] active:scale-[0.99]":"bg-muted text-muted-foreground cursor-not-allowed"}`,children:a?E.jsx("span",{className:"animate-pulse",children:" ..."}):E.jsxs(E.Fragment,{children:["  ",E.jsx(gp,{className:"w-4 h-4"})]})})]}),E.jsx("button",{onClick:()=>o("home"),className:"w-full py-2.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:""})]}),i==="join"&&E.jsxs("div",{className:"space-y-3 animate-fade-in",children:[E.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-5 shadow-sm space-y-4",children:[E.jsx("h2",{className:"text-lg font-bold text-center",children:" "}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block font-medium",children:""}),E.jsx(Ga,{placeholder:" ...",value:e,onChange:p=>n(p.target.value),className:"h-12 text-center text-base",dir:"rtl",autoFocus:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block font-medium",children:" "}),E.jsx(Ga,{placeholder:"X X X X X",value:r,onChange:p=>s(p.target.value.toUpperCase()),onKeyDown:p=>p.key==="Enter"&&m(),className:"h-12 text-center text-xl tracking-[0.4em] font-mono font-bold",maxLength:6,dir:"ltr"})]}),E.jsx("button",{onClick:m,disabled:!e.trim()||r.length<5||c,className:`w-full h-12 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200
                  ${e.trim()&&r.length>=5&&!c?"bg-primary text-primary-foreground shadow-[0_4px_20px_hsl(var(--primary)/0.3)] hover:scale-[1.01] active:scale-[0.99]":"bg-muted text-muted-foreground cursor-not-allowed"}`,children:c?E.jsx("span",{className:"animate-pulse",children:" ..."}):E.jsxs(E.Fragment,{children:[" ",E.jsx(gp,{className:"w-4 h-4"})]})})]}),E.jsx("button",{onClick:()=>o("home"),className:"w-full py-2.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:""})]})]})]})},b3=({currentPlayer:t,cards:e,isSpymaster:n,onCardClick:r,onRightClick:s,currentTeam:i,canGuess:o})=>{const a=d=>{if(d.revealed)switch(d.type){case"red":return"bg-team-red text-white border-team-red shadow-inner";case"blue":return"bg-team-blue text-white border-team-blue shadow-inner";case"assassin":return"bg-gray-900 text-white border-gray-900 dark:bg-black dark:border-black";default:return"bg-muted text-muted-foreground border-muted opacity-70"}if(n){let p="";switch(d.type){case"red":p="bg-red-500 dark:bg-red-700 text-white border-red-600 font-bold";break;case"blue":p="bg-blue-500 dark:bg-blue-700 text-white border-blue-600 font-bold";break;case"assassin":p="bg-gray-900 dark:bg-black text-white border-gray-700 font-bold";break;default:p="bg-stone-100 dark:bg-muted text-stone-500 dark:text-muted-foreground border-stone-300 dark:border-border"}const S=d.highlighted?"ring-2 ring-gold shadow-[0_0_12px_hsl(var(--gold)/0.4)]":"";return`${p} ${S}`}const f=d.highlighted?"ring-2 ring-gold shadow-[0_0_12px_hsl(var(--gold)/0.4)]":"";return`bg-card border-border/70 text-foreground transition-all duration-200 ${o&&(t==null?void 0:t.team)===i&&!n?"cursor-pointer hover:bg-secondary hover:border-primary/40 hover:shadow-md hover:-translate-y-0.5 active:scale-[0.97] active:translate-y-0":"cursor-default"} ${f}`},u=(d,f)=>{d.preventDefault(),e[f].revealed||s(f)},c=o&&(t==null?void 0:t.team)===i&&!(t!=null&&t.isSpymaster);return E.jsx("div",{className:"flex-1 px-2 py-3 sm:px-3 sm:py-4",children:E.jsx("div",{className:"w-full max-w-4xl mx-auto grid grid-cols-5 gap-1.5 sm:gap-2",style:{gridAutoRows:"1fr",aspectRatio:"5 / 5"},children:e.map((d,f)=>{var m;return E.jsxs("button",{onClick:()=>{!(d!=null&&d.word)||!c||d.revealed||r(f)},onContextMenu:p=>u(p,f),disabled:!c||d.revealed,className:`
              relative rounded-xl border-2 p-1.5 sm:p-2.5
              min-h-0 min-w-0 aspect-square
              flex items-center justify-center text-center
              font-semibold text-[10px] sm:text-xl
              transition-all duration-200 animate-scale-in
              select-none
              ${!c||d.revealed?"cursor-default":"cursor-pointer"}
              ${a(d)}
            `,style:{animationDelay:`${f*18}ms`},children:[E.jsx("span",{className:"leading-tight break-words w-full px-0.5",children:((m=d==null?void 0:d.word)==null?void 0:m.word)??""}),(d==null?void 0:d.revealed)&&d.type==="assassin"&&E.jsx("span",{className:"absolute top-1 right-1 text-[10px]",children:""})]},f)})})})},I3=tx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),el=k.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?DA:"button";return E.jsx(o,{className:Vr(I3({variant:e,size:n,className:t})),ref:i,...s})});el.displayName="Button";const C3=({game:t,playerId:e,onStart:n,onSwitchTeam:r,onToggleSpymaster:s})=>{const i=t.hostId===e,o=t.players.filter(y=>y.team==="red"),a=t.players.filter(y=>y.team==="blue"),u=hg(),c=t.players.find(y=>y.id===e),d=()=>{navigator.clipboard.writeText(t.roomCode),zP.success("  ")},f=()=>{const y=`https://wa.me/?text=${encodeURIComponent(`   ! 
 : ${t.roomCode}`)}`;window.open(y,"_blank")},m=o.some(y=>y.isSpymaster),p=a.some(y=>y.isSpymaster),S=o.some(y=>!y.isSpymaster),_=a.some(y=>!y.isSpymaster),x=m&&p&&S&&_;return E.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4 py-8 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-5%] w-72 h-72 rounded-full bg-team-red/10 blur-3xl pointer-events-none"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-5%] w-72 h-72 rounded-full bg-team-blue/10 blur-3xl pointer-events-none"}),E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-primary/5 blur-3xl pointer-events-none"}),E.jsxs("div",{className:"w-full max-w-xl mx-auto animate-fade-in space-y-5 relative z-10",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs(el,{variant:"ghost",size:"sm",onClick:()=>u("/"),className:"text-muted-foreground hover:text-foreground gap-1 text-sm",children:[E.jsx(RR,{className:"w-4 h-4"}),""]}),E.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground text-xs",children:[E.jsx(sx,{className:"w-3.5 h-3.5"}),E.jsxs("span",{children:[t.players.length," "]})]})]}),E.jsxs("div",{className:"text-center space-y-1",children:[E.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:E.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:" "})}),E.jsx("p",{className:"text-muted-foreground text-sm",children:"    "})]}),E.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-5 shadow-sm space-y-4",children:[E.jsx("p",{className:"text-xs text-muted-foreground text-center font-medium uppercase tracking-widest",children:" "}),E.jsxs("div",{className:"flex items-center justify-center gap-3",children:[E.jsx("span",{className:"text-4xl font-mono font-black tracking-[0.25em] text-primary select-all",children:t.roomCode}),E.jsx("button",{onClick:d,className:"p-2.5 rounded-xl bg-secondary hover:bg-secondary/80 transition-all hover:scale-105 active:scale-95",title:" ",children:E.jsx(PR,{className:"w-4 h-4 text-muted-foreground"})})]}),E.jsxs(el,{variant:"outline",size:"sm",onClick:f,className:"gap-2 w-full",children:[E.jsx(VR,{className:"w-4 h-4"}),"  "]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{className:`rounded-2xl p-4 border transition-all duration-200 ${(c==null?void 0:c.team)==="red"?"bg-team-red/15 border-team-red/40 shadow-[0_0_20px_hsl(var(--team-red)/0.12)]":"bg-card border-border/50"}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("h3",{className:"text-sm font-bold text-team-red",children:" "}),E.jsx("span",{className:"text-[10px] bg-team-red/10 text-team-red px-2 py-0.5 rounded-full font-semibold",children:o.length})]}),E.jsxs("div",{className:"space-y-1.5 min-h-[60px]",children:[o.length===0&&E.jsx("p",{className:"text-[11px] text-muted-foreground text-center py-3",children:"  "}),o.map(y=>E.jsxs("div",{className:`rounded-xl px-3 py-2 text-xs flex items-center justify-between gap-1 transition-colors ${y.id===e?"bg-team-red/20 border border-team-red/30":"bg-background/60"}`,children:[E.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[y.isSpymaster&&E.jsx(rc,{className:"w-3 h-3 text-gold flex-shrink-0"}),E.jsx("span",{className:"font-medium truncate",children:y.name}),y.id===t.hostId&&E.jsx(n0,{className:"w-2.5 h-2.5 text-muted-foreground flex-shrink-0"})]}),y.isSpymaster&&E.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1.5 py-0.5 rounded-full font-bold flex-shrink-0",children:""})]},y.id))]}),(c==null?void 0:c.team)!=="red"&&E.jsx("button",{onClick:()=>r(e,"red"),className:"mt-2 w-full text-[11px] text-team-red hover:bg-team-red/10 py-2 rounded-xl transition-colors font-semibold border border-dashed border-team-red/30 hover:border-team-red/50",children:"+  "})]}),E.jsxs("div",{className:`rounded-2xl p-4 border transition-all duration-200 ${(c==null?void 0:c.team)==="blue"?"bg-team-blue/15 border-team-blue/40 shadow-[0_0_20px_hsl(var(--team-blue)/0.12)]":"bg-card border-border/50"}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("h3",{className:"text-sm font-bold text-team-blue",children:" "}),E.jsx("span",{className:"text-[10px] bg-team-blue/10 text-team-blue px-2 py-0.5 rounded-full font-semibold",children:a.length})]}),E.jsxs("div",{className:"space-y-1.5 min-h-[60px]",children:[a.length===0&&E.jsx("p",{className:"text-[11px] text-muted-foreground text-center py-3",children:"  "}),a.map(y=>E.jsxs("div",{className:`rounded-xl px-3 py-2 text-xs flex items-center justify-between gap-1 transition-colors ${y.id===e?"bg-team-blue/20 border border-team-blue/30":"bg-background/60"}`,children:[E.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[y.isSpymaster&&E.jsx(rc,{className:"w-3 h-3 text-gold flex-shrink-0"}),E.jsx("span",{className:"font-medium truncate",children:y.name}),y.id===t.hostId&&E.jsx(n0,{className:"w-2.5 h-2.5 text-muted-foreground flex-shrink-0"})]}),y.isSpymaster&&E.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1.5 py-0.5 rounded-full font-bold flex-shrink-0",children:""})]},y.id))]}),(c==null?void 0:c.team)!=="blue"&&E.jsx("button",{onClick:()=>r(e,"blue"),className:"mt-2 w-full text-[11px] text-team-blue hover:bg-team-blue/10 py-2 rounded-xl transition-colors font-semibold border border-dashed border-team-blue/30 hover:border-team-blue/50",children:"+  "})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[E.jsxs("div",{className:`flex items-center gap-1.5 justify-center py-2 px-3 rounded-xl ${m&&S?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted/50 text-muted-foreground"}`,children:[E.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${m&&S?"bg-green-500":"bg-muted-foreground/40"}`})," ",m&&S?" ":" "]}),E.jsxs("div",{className:`flex items-center gap-1.5 justify-center py-2 px-3 rounded-xl ${p&&_?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted/50 text-muted-foreground"}`,children:[E.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${p&&_?"bg-green-500":"bg-muted-foreground/40"}`})," ",p&&_?" ":" "]})]}),E.jsxs("button",{onClick:()=>s(e),className:`w-full py-3 rounded-2xl border text-sm font-semibold flex items-center justify-center gap-2 transition-all duration-200 ${c!=null&&c.isSpymaster?"bg-gold/15 border-gold/40 text-gold hover:bg-gold/20":"bg-card border-border/60 text-foreground hover:border-gold/40 hover:text-gold"}`,children:[E.jsx(rc,{className:"w-4 h-4"}),c!=null&&c.isSpymaster?"   ":"  "]}),i&&E.jsx(el,{onClick:n,disabled:!x,className:`w-full h-14 text-base font-bold rounded-2xl tracking-wide transition-all duration-200 ${x?"shadow-[0_4px_24px_hsl(var(--primary)/0.35)] hover:shadow-[0_6px_32px_hsl(var(--primary)/0.45)] hover:scale-[1.01] active:scale-[0.99]":""}`,children:" "}),!i&&E.jsx("p",{className:"text-center text-xs text-muted-foreground pb-2",children:"    ..."})]})]})},A3=({game:t,onEndTurn:e})=>{const n=Math.floor(t.timer/60),r=t.timer%60,s=t.timer<=15,i=t.turnPhase==="guessing",o=t.currentTeam==="red";return E.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border/50 px-4 py-2.5 sticky top-0 z-20",children:E.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between gap-3",children:[E.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[E.jsx("span",{className:`shrink-0 text-xs font-bold px-3 py-1.5 rounded-full transition-colors ${o?"bg-team-red text-team-red-foreground":"bg-team-blue text-team-blue-foreground"}`,children:o?"":""}),t.currentHint?E.jsxs("div",{className:"flex items-center gap-2 bg-secondary/80 rounded-xl px-3 py-1.5 min-w-0 overflow-hidden",children:[E.jsx("span",{className:"font-bold text-sm text-foreground truncate",children:t.currentHint.word}),E.jsxs("span",{className:"text-xs text-muted-foreground shrink-0",children:["(",t.currentHint.count,")"]}),i&&E.jsxs("span",{className:"text-xs font-semibold text-gold shrink-0",children:[" ",t.guessesRemaining," "]})]}):E.jsx("span",{className:"text-xs text-muted-foreground",children:t.turnPhase==="hint"?"  ...":""})]}),i&&E.jsxs("div",{className:`flex items-center gap-1.5 shrink-0 font-mono font-bold text-lg tabular-nums transition-colors ${s?"text-destructive animate-pulse":"text-foreground"}`,children:[E.jsx(FR,{className:`w-4 h-4 ${s?"text-destructive":"text-muted-foreground"}`}),n,":",r.toString().padStart(2,"0")]}),i&&E.jsxs("button",{onClick:e,className:"shrink-0 flex items-center gap-1.5 text-xs font-semibold px-3 py-2 rounded-xl border border-border/60 bg-background/60 hover:bg-secondary/80 hover:border-border transition-all duration-150 active:scale-95",children:[" ",E.jsx(AR,{className:"w-3.5 h-3.5"})]})]})})},R3=({winner:t,scores:e,onRestart:n,onHome:r})=>{const s=t==="red";return E.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative overflow-hidden",children:[E.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl pointer-events-none ${s?"bg-team-red/15":"bg-team-blue/15"}`}),E.jsxs("div",{className:"relative z-10 bg-card border border-border/60 rounded-2xl p-8 max-w-sm w-full text-center animate-scale-in shadow-xl space-y-6",children:[E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx(jR,{className:"h-10 w-full"}),E.jsx("div",{className:`text-xs font-bold tracking-widest uppercase px-3 py-1 rounded-full ${s?"bg-team-red/15 text-team-red":"bg-team-blue/15 text-team-blue"}`,children:" "}),E.jsxs("h2",{className:"text-2xl font-bold mt-1",children:[" ",s?" ":" ","!"]})]}),E.jsxs("div",{className:"flex items-center justify-center gap-4",children:[E.jsxs("div",{className:"text-center flex-1",children:[E.jsx("div",{className:`w-full py-3 rounded-xl font-black text-2xl flex items-center justify-center transition-all ${s?"bg-team-red text-team-red-foreground ring-2 ring-team-red/50 shadow-lg":"bg-team-red/10 text-team-red"}`,children:e.red}),E.jsx("span",{className:"text-[11px] text-muted-foreground mt-1.5 block font-medium",children:""})]}),E.jsx("span",{className:"text-muted-foreground/40 font-bold text-lg pb-5",children:""}),E.jsxs("div",{className:"text-center flex-1",children:[E.jsx("div",{className:`w-full py-3 rounded-xl font-black text-2xl flex items-center justify-center transition-all ${s?"bg-team-blue/10 text-team-blue":"bg-team-blue text-team-blue-foreground ring-2 ring-team-blue/50 shadow-lg"}`,children:e.blue}),E.jsx("span",{className:"text-[11px] text-muted-foreground mt-1.5 block font-medium",children:""})]})]}),E.jsxs("div",{className:"space-y-2.5 pt-1",children:[E.jsxs("button",{onClick:n,className:`w-full h-12 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200 hover:scale-[1.01] active:scale-[0.99]
              ${s?"bg-team-red text-team-red-foreground shadow-[0_4px_20px_hsl(var(--team-red)/0.35)]":"bg-team-blue text-team-blue-foreground shadow-[0_4px_20px_hsl(var(--team-blue)/0.35)]"}`,children:[E.jsx(MR,{className:"w-4 h-4"})," "]}),E.jsxs("button",{onClick:r,className:"w-full h-11 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 border border-border/60 bg-background/60 hover:bg-secondary/60 transition-all duration-200 text-muted-foreground hover:text-foreground",children:[E.jsx(kR,{className:"w-4 h-4"})," "]})]})]})]})},zu=({game:t,team:e})=>{const n=t.players.filter(c=>c.team===e),r=t.currentTeam===e,s=t.scores[e],i=t.targetScores[e],o=Math.round(s/i*100),u=e==="red"?{bg:"bg-team-red/10",border:"border-team-red/25",text:"text-team-red",badge:"bg-team-red",bar:"bg-team-red",label:""}:{bg:"bg-team-blue/10",border:"border-team-blue/25",text:"text-team-blue",badge:"bg-team-blue",bar:"bg-team-blue",label:""};return E.jsxs("div",{className:`
      ${u.bg} border ${u.border} rounded-2xl p-3
      ${r?"ring-2 ring-gold shadow-[0_0_16px_hsl(var(--gold)/0.2)]":""}
      transition-all duration-300
    `,children:[r&&E.jsx("div",{className:`text-[9px] text-center font-bold ${u.text} mb-2 tracking-widest uppercase`,children:"  "}),E.jsxs("div",{className:"text-center mb-3",children:[E.jsxs("div",{className:`${u.badge} text-white rounded-xl py-2 px-4 inline-flex items-baseline gap-1.5`,children:[E.jsx("span",{className:"text-2xl font-black",children:s}),E.jsxs("span",{className:"text-xs opacity-70 font-medium",children:["/ ",i]})]}),E.jsx("div",{className:`text-[11px] font-bold mt-1.5 ${u.text}`,children:u.label})]}),E.jsx("div",{className:"w-full h-1.5 bg-background/60 rounded-full mb-3 overflow-hidden",children:E.jsx("div",{className:`h-full rounded-full ${u.bar} transition-all duration-500`,style:{width:`${o}%`}})}),E.jsx("div",{className:"space-y-1",children:n.map(c=>E.jsxs("div",{className:"bg-background/50 rounded-xl px-2.5 py-1.5 text-[11px] flex items-center justify-between gap-1",children:[E.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[c.isSpymaster&&E.jsx(rc,{className:"w-2.5 h-2.5 text-gold flex-shrink-0"}),E.jsx("span",{className:"font-medium truncate",children:c.name})]}),c.isSpymaster&&E.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1.5 py-0.5 rounded-full font-bold shrink-0",children:""})]},c.id))}),r&&t.currentHint&&E.jsxs("div",{className:`mt-2.5 p-2.5 rounded-xl border ${u.border} ${u.bg} text-center`,children:[E.jsx("div",{className:"text-[9px] text-muted-foreground mb-0.5 tracking-wide",children:" "}),E.jsx("div",{className:`font-bold text-sm ${u.text}`,children:t.currentHint.word}),E.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[t.currentHint.count," "]})]})]})},P3=({currentTeam:t,onSubmitHint:e})=>{const[n,r]=k.useState(""),[s,i]=k.useState(1),o=()=>{n.trim()&&(e(n.trim(),s),r(""),i(1))},a=t==="red";return E.jsxs("div",{className:`
      mx-auto max-w-lg rounded-2xl border-2 p-4 animate-fade-in
      ${a?"border-team-red/30 bg-team-red/5":"border-team-blue/30 bg-team-blue/5"}
    `,children:[E.jsx("h3",{className:"text-sm font-bold text-center mb-3 text-muted-foreground",children:" "}),E.jsxs("div",{className:"flex gap-2 items-end",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"text-[11px] text-muted-foreground mb-1 block font-medium",children:""}),E.jsx(Ga,{value:n,onChange:u=>r(u.target.value),onKeyDown:u=>u.key==="Enter"&&o(),placeholder:"...",className:"h-10 text-center font-semibold",dir:"rtl",autoFocus:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[11px] text-muted-foreground mb-1 block font-medium text-center",children:""}),E.jsxs("div",{className:"flex items-center gap-1 h-10",children:[E.jsx("button",{onClick:()=>i(u=>Math.max(1,u-1)),className:"w-8 h-8 rounded-lg bg-secondary hover:bg-secondary/80 flex items-center justify-center transition-colors active:scale-90",children:E.jsx(DR,{className:"w-3 h-3"})}),E.jsx("span",{className:"w-8 text-center font-bold text-base tabular-nums",children:s}),E.jsx("button",{onClick:()=>i(u=>Math.min(8,u+1)),className:"w-8 h-8 rounded-lg bg-secondary hover:bg-secondary/80 flex items-center justify-center transition-colors active:scale-90",children:E.jsx(rx,{className:"w-3 h-3"})})]})]}),E.jsxs("button",{onClick:o,disabled:!n.trim(),className:`h-10 px-4 rounded-xl font-bold text-sm flex items-center gap-1.5 transition-all duration-200 active:scale-95
            ${n.trim()?a?"bg-team-red text-team-red-foreground hover:opacity-90":"bg-team-blue text-team-blue-foreground hover:opacity-90":"bg-muted text-muted-foreground cursor-not-allowed"}
          `,children:["",E.jsx(gp,{className:"w-3.5 h-3.5"})]})]})]})},k3=({team:t,onComplete:e})=>{const[n,r]=k.useState(!0),[s,i]=k.useState(!1);if(k.useEffect(()=>{const a=setTimeout(()=>i(!0),1600),u=setTimeout(()=>{r(!1),e()},2e3);return()=>{clearTimeout(a),clearTimeout(u)}},[e]),!n)return null;const o=t==="red";return E.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm transition-opacity duration-300 ${s?"opacity-0":"opacity-100 animate-fade-in"} ${o?"bg-team-red/20":"bg-team-blue/20"}`,children:[E.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl pointer-events-none ${o?"bg-team-red/30":"bg-team-blue/30"}`}),E.jsxs("div",{className:`
        relative rounded-2xl px-12 py-10 text-center animate-scale-in shadow-2xl border
        ${o?"bg-team-red border-team-red/20":"bg-team-blue border-team-blue/20"}
      `,children:[E.jsx("div",{className:"text-4xl mb-4",children:""}),E.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:o?" ":" "}),E.jsx("p",{className:"text-white/70 text-base font-medium",children:"   !"}),E.jsx("div",{className:"mt-5 w-full h-1 bg-white/20 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-white/60 rounded-full",style:{animation:"shrink 1.6s linear forwards"}})})]}),E.jsx("style",{children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},N3=()=>{const{roomCode:t}=z2(),e=hg(),[n,r]=k.useState(null),[s,i]=k.useState(!1),[o,a]=k.useState("red"),u=sessionStorage.getItem("playerId")||"";k.useEffect(()=>{if(!t)return;const w=T3(t,C=>r(C));return()=>w()},[t]);const c=k.useCallback(async w=>{r(w),await gc(w.roomCode,w)},[]),d=()=>{if(!n)return;const w={...n,phase:"playing",turnPhase:"hint"};c(w),a("red"),i(!0)},f=(w,C)=>{n&&c({...n,turnPhase:"guessing",currentHint:{word:w,count:C},guessesRemaining:C+1,timer:n.maxTime})},m=w=>{if(!n||n.phase!=="playing"||n.turnPhase!=="guessing")return;const C=n.players.find(N=>N.id===u);if(!C||C.team!==n.currentTeam||C.isSpymaster)return;const A=n.currentTeam,R=fD(n,w);c(R),R.phase==="playing"&&R.currentTeam!==A&&(a(R.currentTeam),i(!0))},p=w=>{if(!n)return;const C=n.players.find(R=>R.id===u);!C||!(n.turnPhase==="guessing"&&C.team===n.currentTeam&&!C.isSpymaster)||c(pD(n,w))},S=()=>{if(!n)return;const w=n.currentTeam==="red"?"blue":"red";c({...n,currentTeam:w,timer:n.maxTime,turnPhase:"hint",currentHint:null,guessesRemaining:0}),a(w),i(!0)},_=()=>{const w=n.players.find(A=>A.id===u);if(!n||!w)return;const C=lT(w.name);C.roomCode=n.roomCode,C.players=n.players,C.hostId=n.hostId,c(C)},x=(w,C)=>{if(!n)return;const A=n.players.map(R=>R.id===w?{...R,team:C}:R);c({...n,players:A})},y=w=>{if(!n)return;const C=n.players.find(R=>R.id===w);if(!C)return;const A=n.players.map(R=>R.id===w?{...R,isSpymaster:!R.isSpymaster}:R.team===C.team&&R.isSpymaster?{...R,isSpymaster:!1}:R);c({...n,players:A})},v=n==null?void 0:n.players.find(w=>w.id===u),T=v==null?void 0:v.isHost;if(k.useEffect(()=>{if(!n||!T||n.phase!=="playing"||n.turnPhase!=="guessing")return;const w=setInterval(async()=>{if(n.timer<=0){const C=n.currentTeam==="red"?"blue":"red";await gc(n.roomCode,{currentTeam:C,timer:n.maxTime,turnPhase:"hint",currentHint:null,guessesRemaining:0})}else await gc(n.roomCode,{timer:n.timer-1})},1e3);return()=>clearInterval(w)},[n,T]),!n)return null;const D=(v==null?void 0:v.isSpymaster)||!1,O=(v==null?void 0:v.team)===n.currentTeam,V=D&&O,b=n.turnPhase==="guessing";return E.jsxs("div",{className:"min-h-screen flex flex-col relative bg-background",children:[E.jsx("div",{className:"absolute inset-0 opacity-[0.04] pointer-events-none",style:{backgroundImage:`url(${uT})`,backgroundSize:"300px"}}),E.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[n.phase==="lobby"&&E.jsx(C3,{game:n,playerId:u,onStart:d,onSwitchTeam:x,onToggleSpymaster:y}),n.phase==="playing"&&E.jsxs(E.Fragment,{children:[E.jsx(A3,{game:n,onEndTurn:S}),E.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[E.jsxs("div",{className:"hidden md:flex flex-col w-48 p-3 gap-3 shrink-0",children:[E.jsx(zu,{game:n,team:"red"}),E.jsx(zu,{game:n,team:"blue"})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[!V&&v&&!O&&E.jsx("div",{className:"px-3 pt-3",children:E.jsx("div",{className:"bg-secondary/50 border border-border/40 rounded-xl py-2.5 px-4 text-center",children:E.jsx("span",{className:"text-muted-foreground text-sm font-medium",children:"    "})})}),n.turnPhase==="hint"&&V&&E.jsx("div",{className:"p-3",children:E.jsx(P3,{currentTeam:n.currentTeam,onSubmitHint:f})}),n.turnPhase==="hint"&&!V&&O&&E.jsx("div",{className:"px-3 pt-3",children:E.jsx("div",{className:`border rounded-xl py-2.5 px-4 text-center animate-pulse ${n.currentTeam==="red"?"bg-team-red/5 border-team-red/20":"bg-team-blue/5 border-team-blue/20"}`,children:E.jsx("span",{className:"text-sm text-muted-foreground",children:"    ..."})})}),n.turnPhase==="guessing"&&n.currentHint&&E.jsx("div",{className:"px-3 pt-3",children:E.jsx("div",{className:`border rounded-xl py-2.5 px-5 text-center ${n.currentTeam==="red"?"bg-team-red/5 border-team-red/20":"bg-team-blue/5 border-team-blue/20"}`,children:E.jsxs("div",{className:"flex items-center justify-center gap-3",children:[E.jsx("span",{className:"font-bold text-base text-foreground",children:n.currentHint.word}),E.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",n.currentHint.count,")"]}),E.jsxs("span",{className:"text-sm font-semibold text-gold",children:[" ",n.guessesRemaining>0?n.guessesRemaining:0," "]})]})})}),E.jsx(b3,{cards:n.cards,isSpymaster:D,onCardClick:m,currentPlayer:v,onRightClick:p,currentTeam:n.currentTeam,canGuess:b})]})]}),E.jsxs("div",{className:"md:hidden flex gap-2 px-3 pb-3",children:[E.jsx("div",{className:"flex-1",children:E.jsx(zu,{game:n,team:"red"})}),E.jsx("div",{className:"flex-1",children:E.jsx(zu,{game:n,team:"blue"})})]})]}),n.phase==="finished"&&E.jsx(R3,{winner:n.winner,scores:n.scores,onRestart:_,onHome:()=>e("/")})]}),s&&E.jsx(k3,{team:o,onComplete:()=>i(!1)})]})},D3=()=>{const t=dg();return k.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),E.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),E.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),E.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},O3=()=>{const{theme:t,toggleTheme:e}=lD();return E.jsx(el,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full w-12 h-12 hover:bg-transparent","aria-label":" ",children:t==="dark"?E.jsx(LR,{className:"h-5 w-5 text-gold"}):E.jsx(OR,{className:"h-5 w-5 text-primary"})})},M3=new c2,V3=()=>E.jsx(aD,{children:E.jsx(h2,{client:M3,children:E.jsxs(UN,{children:[E.jsx(xP,{}),E.jsx(tk,{}),E.jsxs(oD,{children:[E.jsx("div",{className:"fixed top-1 left-4 z-50",children:E.jsx(O3,{})}),E.jsxs(rD,{children:[E.jsx(ic,{path:"/",element:E.jsx(S3,{})}),E.jsx(ic,{path:"/game/:roomCode",element:E.jsx(N3,{})}),E.jsx(ic,{path:"*",element:E.jsx(D3,{})})]})]})]})})});IE(document.getElementById("root")).render(E.jsx(V3,{}));
