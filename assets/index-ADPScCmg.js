var Gv=t=>{throw TypeError(t)};var pf=(t,e,n)=>e.has(t)||Gv("Cannot "+n);var $=(t,e,n)=>(pf(t,e,"read from private field"),n?n.call(t):e.get(t)),Ce=(t,e,n)=>e.has(t)?Gv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),he=(t,e,n,r)=>(pf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Rt=(t,e,n)=>(pf(t,e,"access private method"),n);var Oc=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return $(t,e,r)}});function XR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Mx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lx={exports:{}},Hd={},Vx={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),JR=Symbol.for("react.portal"),ZR=Symbol.for("react.fragment"),eA=Symbol.for("react.strict_mode"),tA=Symbol.for("react.profiler"),nA=Symbol.for("react.provider"),rA=Symbol.for("react.context"),sA=Symbol.for("react.forward_ref"),iA=Symbol.for("react.suspense"),oA=Symbol.for("react.memo"),aA=Symbol.for("react.lazy"),Qv=Symbol.iterator;function lA(t){return t===null||typeof t!="object"?null:(t=Qv&&t[Qv]||t["@@iterator"],typeof t=="function"?t:null)}var jx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fx=Object.assign,Ux={};function ca(t,e,n){this.props=t,this.context=e,this.refs=Ux,this.updater=n||jx}ca.prototype.isReactComponent={};ca.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $x(){}$x.prototype=ca.prototype;function eg(t,e,n){this.props=t,this.context=e,this.refs=Ux,this.updater=n||jx}var tg=eg.prototype=new $x;tg.constructor=eg;Fx(tg,ca.prototype);tg.isPureReactComponent=!0;var Yv=Array.isArray,zx=Object.prototype.hasOwnProperty,ng={current:null},Bx={key:!0,ref:!0,__self:!0,__source:!0};function Hx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zx.call(e,r)&&!Bx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:sc,type:t,key:i,ref:o,props:s,_owner:ng.current}}function cA(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rg(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function uA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xv=/\/+/g;function mf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uA(""+t.key):e.toString(36)}function mu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sc:case JR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+mf(o,0):r,Yv(s)?(n="",t!=null&&(n=t.replace(Xv,"$&/")+"/"),mu(s,e,n,"",function(u){return u})):s!=null&&(rg(s)&&(s=cA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Yv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+mf(i,a);o+=mu(i,e,n,l,s)}else if(l=lA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+mf(i,a++),o+=mu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mc(t,e,n){if(t==null)return t;var r=[],s=0;return mu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function dA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},gu={transition:null},hA={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:gu,ReactCurrentOwner:ng};function Wx(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Mc,forEach:function(t,e,n){Mc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mc(t,function(){e++}),e},toArray:function(t){return Mc(t,function(e){return e})||[]},only:function(t){if(!rg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=ca;me.Fragment=ZR;me.Profiler=tA;me.PureComponent=eg;me.StrictMode=eA;me.Suspense=iA;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;me.act=Wx;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Fx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ng.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zx.call(e,l)&&!Bx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:sc,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:rA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nA,_context:t},t.Consumer=t};me.createElement=Hx;me.createFactory=function(t){var e=Hx.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:sA,render:t}};me.isValidElement=rg;me.lazy=function(t){return{$$typeof:aA,_payload:{_status:-1,_result:t},_init:dA}};me.memo=function(t,e){return{$$typeof:oA,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=gu.transition;gu.transition={};try{t()}finally{gu.transition=e}};me.unstable_act=Wx;me.useCallback=function(t,e){return Ht.current.useCallback(t,e)};me.useContext=function(t){return Ht.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ht.current.useEffect(t,e)};me.useId=function(){return Ht.current.useId()};me.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ht.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};me.useRef=function(t){return Ht.current.useRef(t)};me.useState=function(t){return Ht.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ht.current.useTransition()};me.version="18.3.1";Vx.exports=me;var v=Vx.exports;const K=Mx(v),sg=XR({__proto__:null,default:K},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA=v,pA=Symbol.for("react.element"),mA=Symbol.for("react.fragment"),gA=Object.prototype.hasOwnProperty,yA=fA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vA={key:!0,ref:!0,__self:!0,__source:!0};function qx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gA.call(e,r)&&!vA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pA,type:t,key:i,ref:o,props:s,_owner:yA.current}}Hd.Fragment=mA;Hd.jsx=qx;Hd.jsxs=qx;Lx.exports=Hd;var f=Lx.exports,Kx={exports:{}},fn={},Gx={exports:{}},Qx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,j){var G=V.length;V.push(j);e:for(;0<G;){var J=G-1>>>1,X=V[J];if(0<s(X,j))V[J]=j,V[G]=X,G=J;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var j=V[0],G=V.pop();if(G!==j){V[0]=G;e:for(var J=0,X=V.length,se=X>>>1;J<se;){var ie=2*(J+1)-1,Ie=V[ie],Oe=ie+1,Y=V[Oe];if(0>s(Ie,G))Oe<X&&0>s(Y,Ie)?(V[J]=Y,V[Oe]=G,J=Oe):(V[J]=Ie,V[ie]=G,J=ie);else if(Oe<X&&0>s(Y,G))V[J]=Y,V[Oe]=G,J=Oe;else break e}}return j}function s(V,j){var G=V.sortIndex-j.sortIndex;return G!==0?G:V.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,m=3,g=!1,b=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=V)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function N(V){if(y=!1,T(V),!b)if(n(l)!==null)b=!0,U(O);else{var j=n(u);j!==null&&W(N,j.startTime-V)}}function O(V,j){b=!1,y&&(y=!1,x(S),S=-1),g=!0;var G=m;try{for(T(j),h=n(l);h!==null&&(!(h.expirationTime>j)||V&&!k());){var J=h.callback;if(typeof J=="function"){h.callback=null,m=h.priorityLevel;var X=J(h.expirationTime<=j);j=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),T(j)}else r(l);h=n(l)}if(h!==null)var se=!0;else{var ie=n(u);ie!==null&&W(N,ie.startTime-j),se=!1}return se}finally{h=null,m=G,g=!1}}var M=!1,C=null,S=-1,I=5,A=-1;function k(){return!(t.unstable_now()-A<I)}function D(){if(C!==null){var V=t.unstable_now();A=V;var j=!0;try{j=C(!0,V)}finally{j?P():(M=!1,C=null)}}else M=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ne=H.port2;H.port1.onmessage=D,P=function(){ne.postMessage(null)}}else P=function(){E(D,0)};function U(V){C=V,M||(M=!0,P())}function W(V,j){S=E(function(){V(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,U(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var G=m;m=j;try{return V()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,j){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=m;m=V;try{return j()}finally{m=G}},t.unstable_scheduleCallback=function(V,j,G){var J=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,V){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,V={id:d++,callback:j,priorityLevel:V,startTime:G,expirationTime:X,sortIndex:-1},G>J?(V.sortIndex=G,e(u,V),n(l)===null&&V===n(u)&&(y?(x(S),S=-1):y=!0,W(N,G-J))):(V.sortIndex=X,e(l,V),b||g||(b=!0,U(O))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var j=m;return function(){var G=m;m=j;try{return V.apply(this,arguments)}finally{m=G}}}})(Qx);Gx.exports=Qx;var wA=Gx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A=v,hn=wA;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yx=new Set,El={};function Ui(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(El[t]=e,t=0;t<e.length;t++)Yx.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,xA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jv={},Zv={};function EA(t){return mp.call(Zv,t)?!0:mp.call(Jv,t)?!1:xA.test(t)?Zv[t]=!0:(Jv[t]=!0,!1)}function bA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TA(t,e,n,r){if(e===null||typeof e>"u"||bA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ig=/[\-:]([a-z])/g;function og(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ig,og);Ct[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ig,og);Ct[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ig,og);Ct[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ag(t,e,n,r){var s=Ct.hasOwnProperty(e)?Ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TA(e,n,s,r)&&(n=null),r||s===null?EA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qr=_A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lc=Symbol.for("react.element"),co=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),lg=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),cg=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),vp=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),Zx=Symbol.for("react.offscreen"),e0=Symbol.iterator;function Va(t){return t===null||typeof t!="object"?null:(t=e0&&t[e0]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,gf;function Ga(t){if(gf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gf=e&&e[1]||""}return`
`+gf+t}var yf=!1;function vf(t,e){if(!t||yf)return"";yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ga(t):""}function SA(t){switch(t.tag){case 5:return Ga(t.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 2:case 15:return t=vf(t.type,!1),t;case 11:return t=vf(t.type.render,!1),t;case 1:return t=vf(t.type,!0),t;default:return""}}function wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uo:return"Fragment";case co:return"Portal";case gp:return"Profiler";case lg:return"StrictMode";case yp:return"Suspense";case vp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jx:return(t.displayName||"Context")+".Consumer";case Xx:return(t._context.displayName||"Context")+".Provider";case cg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ug:return e=t.displayName||null,e!==null?e:wp(t.type)||"Memo";case ls:e=t._payload,t=t._init;try{return wp(t(e))}catch{}}return null}function CA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wp(e);case 8:return e===lg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function e1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IA(t){var e=e1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vc(t){t._valueTracker||(t._valueTracker=IA(t))}function t1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=e1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _p(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function n1(t,e){e=e.checked,e!=null&&ag(t,"checked",e,!1)}function xp(t,e){n1(t,e);var n=Fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ep(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ep(t,e.type,Fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ep(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qa=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function bp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Qa(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fs(n)}}function r1(t,e){var n=Fs(e.value),r=Fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jc,i1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jc=jc||document.createElement("div"),jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RA=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(t){RA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sl[e]=sl[t]})});function o1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sl.hasOwnProperty(t)&&sl[t]?(""+e).trim():e+"px"}function a1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=o1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var AA=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sp(t,e){if(e){if(AA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Cp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=null;function dg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rp=null,To=null,So=null;function i0(t){if(t=ac(t)){if(typeof Rp!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Qd(e),Rp(t.stateNode,t.type,e))}}function l1(t){To?So?So.push(t):So=[t]:To=t}function c1(){if(To){var t=To,e=So;if(So=To=null,i0(t),e)for(t=0;t<e.length;t++)i0(e[t])}}function u1(t,e){return t(e)}function d1(){}var wf=!1;function h1(t,e,n){if(wf)return t(e,n);wf=!0;try{return u1(t,e,n)}finally{wf=!1,(To!==null||So!==null)&&(d1(),c1())}}function Tl(t,e){var n=t.stateNode;if(n===null)return null;var r=Qd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Ap=!1;if(Mr)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{Ap=!1}function PA(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var il=!1,Wu=null,qu=!1,Pp=null,kA={onError:function(t){il=!0,Wu=t}};function NA(t,e,n,r,s,i,o,a,l){il=!1,Wu=null,PA.apply(kA,arguments)}function DA(t,e,n,r,s,i,o,a,l){if(NA.apply(this,arguments),il){if(il){var u=Wu;il=!1,Wu=null}else throw Error(q(198));qu||(qu=!0,Pp=u)}}function $i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o0(t){if($i(t)!==t)throw Error(q(188))}function OA(t){var e=t.alternate;if(!e){if(e=$i(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return o0(s),t;if(i===r)return o0(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function p1(t){return t=OA(t),t!==null?m1(t):null}function m1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=m1(t);if(e!==null)return e;t=t.sibling}return null}var g1=hn.unstable_scheduleCallback,a0=hn.unstable_cancelCallback,MA=hn.unstable_shouldYield,LA=hn.unstable_requestPaint,et=hn.unstable_now,VA=hn.unstable_getCurrentPriorityLevel,hg=hn.unstable_ImmediatePriority,y1=hn.unstable_UserBlockingPriority,Ku=hn.unstable_NormalPriority,jA=hn.unstable_LowPriority,v1=hn.unstable_IdlePriority,Wd=null,ar=null;function FA(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Wd,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:zA,UA=Math.log,$A=Math.LN2;function zA(t){return t>>>=0,t===0?32:31-(UA(t)/$A|0)|0}var Fc=64,Uc=4194304;function Ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ya(a):(i&=o,i!==0&&(r=Ya(i)))}else o=n&~s,o!==0?r=Ya(o):i!==0&&(r=Ya(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),s=1<<n,r|=t[n],e&=~s;return r}function BA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Un(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=BA(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function w1(){var t=Fc;return Fc<<=1,!(Fc&4194240)&&(Fc=64),t}function _f(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function WA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Un(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function fg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function _1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var x1,pg,E1,b1,T1,Np=!1,$c=[],Ss=null,Cs=null,Is=null,Sl=new Map,Cl=new Map,us=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l0(t,e){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Fa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ac(e),e!==null&&pg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function KA(t,e,n,r,s){switch(e){case"focusin":return Ss=Fa(Ss,t,e,n,r,s),!0;case"dragenter":return Cs=Fa(Cs,t,e,n,r,s),!0;case"mouseover":return Is=Fa(Is,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Sl.set(i,Fa(Sl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cl.set(i,Fa(Cl.get(i)||null,t,e,n,r,s)),!0}return!1}function S1(t){var e=hi(t.target);if(e!==null){var n=$i(e);if(n!==null){if(e=n.tag,e===13){if(e=f1(n),e!==null){t.blockedOn=e,T1(t.priority,function(){E1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ip=r,n.target.dispatchEvent(r),Ip=null}else return e=ac(n),e!==null&&pg(e),t.blockedOn=n,!1;e.shift()}return!0}function c0(t,e,n){yu(t)&&n.delete(e)}function GA(){Np=!1,Ss!==null&&yu(Ss)&&(Ss=null),Cs!==null&&yu(Cs)&&(Cs=null),Is!==null&&yu(Is)&&(Is=null),Sl.forEach(c0),Cl.forEach(c0)}function Ua(t,e){t.blockedOn===e&&(t.blockedOn=null,Np||(Np=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,GA)))}function Il(t){function e(s){return Ua(s,t)}if(0<$c.length){Ua($c[0],t);for(var n=1;n<$c.length;n++){var r=$c[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ss!==null&&Ua(Ss,t),Cs!==null&&Ua(Cs,t),Is!==null&&Ua(Is,t),Sl.forEach(e),Cl.forEach(e),n=0;n<us.length;n++)r=us[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<us.length&&(n=us[0],n.blockedOn===null);)S1(n),n.blockedOn===null&&us.shift()}var Co=qr.ReactCurrentBatchConfig,Qu=!0;function QA(t,e,n,r){var s=ke,i=Co.transition;Co.transition=null;try{ke=1,mg(t,e,n,r)}finally{ke=s,Co.transition=i}}function YA(t,e,n,r){var s=ke,i=Co.transition;Co.transition=null;try{ke=4,mg(t,e,n,r)}finally{ke=s,Co.transition=i}}function mg(t,e,n,r){if(Qu){var s=Dp(t,e,n,r);if(s===null)Pf(t,e,r,Yu,n),l0(t,r);else if(KA(s,t,e,n,r))r.stopPropagation();else if(l0(t,r),e&4&&-1<qA.indexOf(t)){for(;s!==null;){var i=ac(s);if(i!==null&&x1(i),i=Dp(t,e,n,r),i===null&&Pf(t,e,r,Yu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Pf(t,e,r,null,n)}}var Yu=null;function Dp(t,e,n,r){if(Yu=null,t=dg(r),t=hi(t),t!==null)if(e=$i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=f1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function C1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VA()){case hg:return 1;case y1:return 4;case Ku:case jA:return 16;case v1:return 536870912;default:return 16}default:return 16}}var xs=null,gg=null,vu=null;function I1(){if(vu)return vu;var t,e=gg,n=e.length,r,s="value"in xs?xs.value:xs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return vu=s.slice(t,1<r?1-r:void 0)}function wu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zc(){return!0}function u0(){return!1}function pn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zc:u0,this.isPropagationStopped=u0,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),e}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yg=pn(ua),oc=Ge({},ua,{view:0,detail:0}),XA=pn(oc),xf,Ef,$a,qd=Ge({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$a&&($a&&t.type==="mousemove"?(xf=t.screenX-$a.screenX,Ef=t.screenY-$a.screenY):Ef=xf=0,$a=t),xf)},movementY:function(t){return"movementY"in t?t.movementY:Ef}}),d0=pn(qd),JA=Ge({},qd,{dataTransfer:0}),ZA=pn(JA),eP=Ge({},oc,{relatedTarget:0}),bf=pn(eP),tP=Ge({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),nP=pn(tP),rP=Ge({},ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sP=pn(rP),iP=Ge({},ua,{data:0}),h0=pn(iP),oP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lP[t])?!!e[t]:!1}function vg(){return cP}var uP=Ge({},oc,{key:function(t){if(t.key){var e=oP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vg,charCode:function(t){return t.type==="keypress"?wu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dP=pn(uP),hP=Ge({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f0=pn(hP),fP=Ge({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vg}),pP=pn(fP),mP=Ge({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),gP=pn(mP),yP=Ge({},qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vP=pn(yP),wP=[9,13,27,32],wg=Mr&&"CompositionEvent"in window,ol=null;Mr&&"documentMode"in document&&(ol=document.documentMode);var _P=Mr&&"TextEvent"in window&&!ol,R1=Mr&&(!wg||ol&&8<ol&&11>=ol),p0=" ",m0=!1;function A1(t,e){switch(t){case"keyup":return wP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function xP(t,e){switch(t){case"compositionend":return P1(e);case"keypress":return e.which!==32?null:(m0=!0,p0);case"textInput":return t=e.data,t===p0&&m0?null:t;default:return null}}function EP(t,e){if(ho)return t==="compositionend"||!wg&&A1(t,e)?(t=I1(),vu=gg=xs=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return R1&&e.locale!=="ko"?null:e.data;default:return null}}var bP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bP[t.type]:e==="textarea"}function k1(t,e,n,r){l1(r),e=Xu(e,"onChange"),0<e.length&&(n=new yg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var al=null,Rl=null;function TP(t){z1(t,0)}function Kd(t){var e=mo(t);if(t1(e))return t}function SP(t,e){if(t==="change")return e}var N1=!1;if(Mr){var Tf;if(Mr){var Sf="oninput"in document;if(!Sf){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Sf=typeof y0.oninput=="function"}Tf=Sf}else Tf=!1;N1=Tf&&(!document.documentMode||9<document.documentMode)}function v0(){al&&(al.detachEvent("onpropertychange",D1),Rl=al=null)}function D1(t){if(t.propertyName==="value"&&Kd(Rl)){var e=[];k1(e,Rl,t,dg(t)),h1(TP,e)}}function CP(t,e,n){t==="focusin"?(v0(),al=e,Rl=n,al.attachEvent("onpropertychange",D1)):t==="focusout"&&v0()}function IP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kd(Rl)}function RP(t,e){if(t==="click")return Kd(e)}function AP(t,e){if(t==="input"||t==="change")return Kd(e)}function PP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:PP;function Al(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mp.call(e,s)||!Bn(t[s],e[s]))return!1}return!0}function w0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _0(t,e){var n=w0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w0(n)}}function O1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M1(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function _g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kP(t){var e=M1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O1(n.ownerDocument.documentElement,n)){if(r!==null&&_g(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_0(n,i);var o=_0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NP=Mr&&"documentMode"in document&&11>=document.documentMode,fo=null,Op=null,ll=null,Mp=!1;function x0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mp||fo==null||fo!==Hu(r)||(r=fo,"selectionStart"in r&&_g(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&Al(ll,r)||(ll=r,r=Xu(Op,"onSelect"),0<r.length&&(e=new yg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fo)))}function Bc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},Cf={},L1={};Mr&&(L1=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Gd(t){if(Cf[t])return Cf[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in L1)return Cf[t]=e[n];return t}var V1=Gd("animationend"),j1=Gd("animationiteration"),F1=Gd("animationstart"),U1=Gd("transitionend"),$1=new Map,E0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(t,e){$1.set(t,e),Ui(e,[t])}for(var If=0;If<E0.length;If++){var Rf=E0[If],DP=Rf.toLowerCase(),OP=Rf[0].toUpperCase()+Rf.slice(1);Ys(DP,"on"+OP)}Ys(V1,"onAnimationEnd");Ys(j1,"onAnimationIteration");Ys(F1,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(U1,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function b0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DA(r,e,void 0,t),t.currentTarget=null}function z1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;b0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;b0(s,a,u),i=l}}}if(qu)throw t=Pp,qu=!1,Pp=null,t}function Ue(t,e){var n=e[Up];n===void 0&&(n=e[Up]=new Set);var r=t+"__bubble";n.has(r)||(B1(e,t,2,!1),n.add(r))}function Af(t,e,n){var r=0;e&&(r|=4),B1(n,t,r,e)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Pl(t){if(!t[Hc]){t[Hc]=!0,Yx.forEach(function(n){n!=="selectionchange"&&(MP.has(n)||Af(n,!1,t),Af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hc]||(e[Hc]=!0,Af("selectionchange",!1,e))}}function B1(t,e,n,r){switch(C1(e)){case 1:var s=QA;break;case 4:s=YA;break;default:s=mg}n=s.bind(null,e,n,t),s=void 0,!Ap||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Pf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=hi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}h1(function(){var u=i,d=dg(n),h=[];e:{var m=$1.get(t);if(m!==void 0){var g=yg,b=t;switch(t){case"keypress":if(wu(n)===0)break e;case"keydown":case"keyup":g=dP;break;case"focusin":b="focus",g=bf;break;case"focusout":b="blur",g=bf;break;case"beforeblur":case"afterblur":g=bf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ZA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=pP;break;case V1:case j1:case F1:g=nP;break;case U1:g=gP;break;case"scroll":g=XA;break;case"wheel":g=vP;break;case"copy":case"cut":case"paste":g=sP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=f0}var y=(e&4)!==0,E=!y&&t==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var _=u,T;_!==null;){T=_;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,x!==null&&(N=Tl(_,x),N!=null&&y.push(kl(_,N,T)))),E)break;_=_.return}0<y.length&&(m=new g(m,b,null,n,d),h.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Ip&&(b=n.relatedTarget||n.fromElement)&&(hi(b)||b[Lr]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=u,b=b?hi(b):null,b!==null&&(E=$i(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(y=d0,N="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=f0,N="onPointerLeave",x="onPointerEnter",_="pointer"),E=g==null?m:mo(g),T=b==null?m:mo(b),m=new y(N,_+"leave",g,n,d),m.target=E,m.relatedTarget=T,N=null,hi(d)===u&&(y=new y(x,_+"enter",b,n,d),y.target=T,y.relatedTarget=E,N=y),E=N,g&&b)t:{for(y=g,x=b,_=0,T=y;T;T=eo(T))_++;for(T=0,N=x;N;N=eo(N))T++;for(;0<_-T;)y=eo(y),_--;for(;0<T-_;)x=eo(x),T--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=eo(y),x=eo(x)}y=null}else y=null;g!==null&&T0(h,m,g,y,!1),b!==null&&E!==null&&T0(h,E,b,y,!0)}}e:{if(m=u?mo(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var O=SP;else if(g0(m))if(N1)O=AP;else{O=IP;var M=CP}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=RP);if(O&&(O=O(t,u))){k1(h,O,n,d);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Ep(m,"number",m.value)}switch(M=u?mo(u):window,t){case"focusin":(g0(M)||M.contentEditable==="true")&&(fo=M,Op=u,ll=null);break;case"focusout":ll=Op=fo=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,x0(h,n,d);break;case"selectionchange":if(NP)break;case"keydown":case"keyup":x0(h,n,d)}var C;if(wg)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ho?A1(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(R1&&n.locale!=="ko"&&(ho||S!=="onCompositionStart"?S==="onCompositionEnd"&&ho&&(C=I1()):(xs=d,gg="value"in xs?xs.value:xs.textContent,ho=!0)),M=Xu(u,S),0<M.length&&(S=new h0(S,t,null,n,d),h.push({event:S,listeners:M}),C?S.data=C:(C=P1(n),C!==null&&(S.data=C)))),(C=_P?xP(t,n):EP(t,n))&&(u=Xu(u,"onBeforeInput"),0<u.length&&(d=new h0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}z1(h,e)})}function kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tl(t,n),i!=null&&r.unshift(kl(t,i,s)),i=Tl(t,e),i!=null&&r.push(kl(t,i,s))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function T0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Tl(n,i),l!=null&&o.unshift(kl(n,l,a))):s||(l=Tl(n,i),l!=null&&o.push(kl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LP=/\r\n?/g,VP=/\u0000|\uFFFD/g;function S0(t){return(typeof t=="string"?t:""+t).replace(LP,`
`).replace(VP,"")}function Wc(t,e,n){if(e=S0(e),S0(t)!==e&&n)throw Error(q(425))}function Ju(){}var Lp=null,Vp=null;function jp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fp=typeof setTimeout=="function"?setTimeout:void 0,jP=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,FP=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(t){return C0.resolve(null).then(t).catch(UP)}:Fp;function UP(t){setTimeout(function(){throw t})}function kf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Il(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Il(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function I0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var da=Math.random().toString(36).slice(2),sr="__reactFiber$"+da,Nl="__reactProps$"+da,Lr="__reactContainer$"+da,Up="__reactEvents$"+da,$P="__reactListeners$"+da,zP="__reactHandles$"+da;function hi(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=I0(t);t!==null;){if(n=t[sr])return n;t=I0(t)}return e}t=n,n=t.parentNode}return null}function ac(t){return t=t[sr]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Qd(t){return t[Nl]||null}var $p=[],go=-1;function Xs(t){return{current:t}}function ze(t){0>go||(t.current=$p[go],$p[go]=null,go--)}function Le(t,e){go++,$p[go]=t.current,t.current=e}var Us={},Lt=Xs(Us),Zt=Xs(!1),Ci=Us;function Ko(t,e){var n=t.type.contextTypes;if(!n)return Us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function en(t){return t=t.childContextTypes,t!=null}function Zu(){ze(Zt),ze(Lt)}function R0(t,e,n){if(Lt.current!==Us)throw Error(q(168));Le(Lt,e),Le(Zt,n)}function H1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,CA(t)||"Unknown",s));return Ge({},n,r)}function ed(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,Ci=Lt.current,Le(Lt,t),Le(Zt,Zt.current),!0}function A0(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=H1(t,e,Ci),r.__reactInternalMemoizedMergedChildContext=t,ze(Zt),ze(Lt),Le(Lt,t)):ze(Zt),Le(Zt,n)}var Rr=null,Yd=!1,Nf=!1;function W1(t){Rr===null?Rr=[t]:Rr.push(t)}function BP(t){Yd=!0,W1(t)}function Js(){if(!Nf&&Rr!==null){Nf=!0;var t=0,e=ke;try{var n=Rr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,Yd=!1}catch(s){throw Rr!==null&&(Rr=Rr.slice(t+1)),g1(hg,Js),s}finally{ke=e,Nf=!1}}return null}var yo=[],vo=0,td=null,nd=0,vn=[],wn=0,Ii=null,Pr=1,kr="";function ci(t,e){yo[vo++]=nd,yo[vo++]=td,td=t,nd=e}function q1(t,e,n){vn[wn++]=Pr,vn[wn++]=kr,vn[wn++]=Ii,Ii=t;var r=Pr;t=kr;var s=32-Un(r)-1;r&=~(1<<s),n+=1;var i=32-Un(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pr=1<<32-Un(e)+s|n<<s|r,kr=i+t}else Pr=1<<i|n<<s|r,kr=t}function xg(t){t.return!==null&&(ci(t,1),q1(t,1,0))}function Eg(t){for(;t===td;)td=yo[--vo],yo[vo]=null,nd=yo[--vo],yo[vo]=null;for(;t===Ii;)Ii=vn[--wn],vn[wn]=null,kr=vn[--wn],vn[wn]=null,Pr=vn[--wn],vn[wn]=null}var un=null,ln=null,Be=!1,Vn=null;function K1(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function P0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,ln=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ii!==null?{id:Pr,overflow:kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,ln=null,!0):!1;default:return!1}}function zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bp(t){if(Be){var e=ln;if(e){var n=e;if(!P0(t,e)){if(zp(t))throw Error(q(418));e=Rs(n.nextSibling);var r=un;e&&P0(t,e)?K1(r,n):(t.flags=t.flags&-4097|2,Be=!1,un=t)}}else{if(zp(t))throw Error(q(418));t.flags=t.flags&-4097|2,Be=!1,un=t}}}function k0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function qc(t){if(t!==un)return!1;if(!Be)return k0(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jp(t.type,t.memoizedProps)),e&&(e=ln)){if(zp(t))throw G1(),Error(q(418));for(;e;)K1(t,e),e=Rs(e.nextSibling)}if(k0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=un?Rs(t.stateNode.nextSibling):null;return!0}function G1(){for(var t=ln;t;)t=Rs(t.nextSibling)}function Go(){ln=un=null,Be=!1}function bg(t){Vn===null?Vn=[t]:Vn.push(t)}var HP=qr.ReactCurrentBatchConfig;function za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Kc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N0(t){var e=t._init;return e(t._payload)}function Q1(t){function e(x,_){if(t){var T=x.deletions;T===null?(x.deletions=[_],x.flags|=16):T.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function s(x,_){return x=Ns(x,_),x.index=0,x.sibling=null,x}function i(x,_,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<_?(x.flags|=2,_):T):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,T,N){return _===null||_.tag!==6?(_=Ff(T,x.mode,N),_.return=x,_):(_=s(_,T),_.return=x,_)}function l(x,_,T,N){var O=T.type;return O===uo?d(x,_,T.props.children,N,T.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ls&&N0(O)===_.type)?(N=s(_,T.props),N.ref=za(x,_,T),N.return=x,N):(N=Cu(T.type,T.key,T.props,null,x.mode,N),N.ref=za(x,_,T),N.return=x,N)}function u(x,_,T,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Uf(T,x.mode,N),_.return=x,_):(_=s(_,T.children||[]),_.return=x,_)}function d(x,_,T,N,O){return _===null||_.tag!==7?(_=bi(T,x.mode,N,O),_.return=x,_):(_=s(_,T),_.return=x,_)}function h(x,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ff(""+_,x.mode,T),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lc:return T=Cu(_.type,_.key,_.props,null,x.mode,T),T.ref=za(x,null,_),T.return=x,T;case co:return _=Uf(_,x.mode,T),_.return=x,_;case ls:var N=_._init;return h(x,N(_._payload),T)}if(Qa(_)||Va(_))return _=bi(_,x.mode,T,null),_.return=x,_;Kc(x,_)}return null}function m(x,_,T,N){var O=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(x,_,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Lc:return T.key===O?l(x,_,T,N):null;case co:return T.key===O?u(x,_,T,N):null;case ls:return O=T._init,m(x,_,O(T._payload),N)}if(Qa(T)||Va(T))return O!==null?null:d(x,_,T,N,null);Kc(x,T)}return null}function g(x,_,T,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(T)||null,a(_,x,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Lc:return x=x.get(N.key===null?T:N.key)||null,l(_,x,N,O);case co:return x=x.get(N.key===null?T:N.key)||null,u(_,x,N,O);case ls:var M=N._init;return g(x,_,T,M(N._payload),O)}if(Qa(N)||Va(N))return x=x.get(T)||null,d(_,x,N,O,null);Kc(_,N)}return null}function b(x,_,T,N){for(var O=null,M=null,C=_,S=_=0,I=null;C!==null&&S<T.length;S++){C.index>S?(I=C,C=null):I=C.sibling;var A=m(x,C,T[S],N);if(A===null){C===null&&(C=I);break}t&&C&&A.alternate===null&&e(x,C),_=i(A,_,S),M===null?O=A:M.sibling=A,M=A,C=I}if(S===T.length)return n(x,C),Be&&ci(x,S),O;if(C===null){for(;S<T.length;S++)C=h(x,T[S],N),C!==null&&(_=i(C,_,S),M===null?O=C:M.sibling=C,M=C);return Be&&ci(x,S),O}for(C=r(x,C);S<T.length;S++)I=g(C,x,S,T[S],N),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),_=i(I,_,S),M===null?O=I:M.sibling=I,M=I);return t&&C.forEach(function(k){return e(x,k)}),Be&&ci(x,S),O}function y(x,_,T,N){var O=Va(T);if(typeof O!="function")throw Error(q(150));if(T=O.call(T),T==null)throw Error(q(151));for(var M=O=null,C=_,S=_=0,I=null,A=T.next();C!==null&&!A.done;S++,A=T.next()){C.index>S?(I=C,C=null):I=C.sibling;var k=m(x,C,A.value,N);if(k===null){C===null&&(C=I);break}t&&C&&k.alternate===null&&e(x,C),_=i(k,_,S),M===null?O=k:M.sibling=k,M=k,C=I}if(A.done)return n(x,C),Be&&ci(x,S),O;if(C===null){for(;!A.done;S++,A=T.next())A=h(x,A.value,N),A!==null&&(_=i(A,_,S),M===null?O=A:M.sibling=A,M=A);return Be&&ci(x,S),O}for(C=r(x,C);!A.done;S++,A=T.next())A=g(C,x,S,A.value,N),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?S:A.key),_=i(A,_,S),M===null?O=A:M.sibling=A,M=A);return t&&C.forEach(function(D){return e(x,D)}),Be&&ci(x,S),O}function E(x,_,T,N){if(typeof T=="object"&&T!==null&&T.type===uo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Lc:e:{for(var O=T.key,M=_;M!==null;){if(M.key===O){if(O=T.type,O===uo){if(M.tag===7){n(x,M.sibling),_=s(M,T.props.children),_.return=x,x=_;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ls&&N0(O)===M.type){n(x,M.sibling),_=s(M,T.props),_.ref=za(x,M,T),_.return=x,x=_;break e}n(x,M);break}else e(x,M);M=M.sibling}T.type===uo?(_=bi(T.props.children,x.mode,N,T.key),_.return=x,x=_):(N=Cu(T.type,T.key,T.props,null,x.mode,N),N.ref=za(x,_,T),N.return=x,x=N)}return o(x);case co:e:{for(M=T.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(x,_.sibling),_=s(_,T.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Uf(T,x.mode,N),_.return=x,x=_}return o(x);case ls:return M=T._init,E(x,_,M(T._payload),N)}if(Qa(T))return b(x,_,T,N);if(Va(T))return y(x,_,T,N);Kc(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(x,_.sibling),_=s(_,T),_.return=x,x=_):(n(x,_),_=Ff(T,x.mode,N),_.return=x,x=_),o(x)):n(x,_)}return E}var Qo=Q1(!0),Y1=Q1(!1),rd=Xs(null),sd=null,wo=null,Tg=null;function Sg(){Tg=wo=sd=null}function Cg(t){var e=rd.current;ze(rd),t._currentValue=e}function Hp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Io(t,e){sd=t,Tg=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(Tg!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(sd===null)throw Error(q(308));wo=t,sd.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var fi=null;function Ig(t){fi===null?fi=[t]:fi.push(t)}function X1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ig(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cs=!1;function Rg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ig(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vr(t,n)}function _u(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fg(t,n)}}function D0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var s=t.updateQueue;cs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,y=a;switch(m=e,g=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){h=b.call(g,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,m=typeof b=="function"?b.call(g,h,m):b,m==null)break e;h=Ge({},h,m);break e;case 2:cs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=h}}function O0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var lc={},lr=Xs(lc),Dl=Xs(lc),Ol=Xs(lc);function pi(t){if(t===lc)throw Error(q(174));return t}function Ag(t,e){switch(Le(Ol,e),Le(Dl,t),Le(lr,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tp(e,t)}ze(lr),Le(lr,e)}function Yo(){ze(lr),ze(Dl),ze(Ol)}function Z1(t){pi(Ol.current);var e=pi(lr.current),n=Tp(e,t.type);e!==n&&(Le(Dl,t),Le(lr,n))}function Pg(t){Dl.current===t&&(ze(lr),ze(Dl))}var We=Xs(0);function od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Df=[];function kg(){for(var t=0;t<Df.length;t++)Df[t]._workInProgressVersionPrimary=null;Df.length=0}var xu=qr.ReactCurrentDispatcher,Of=qr.ReactCurrentBatchConfig,Ri=0,Ke=null,ct=null,vt=null,ad=!1,cl=!1,Ml=0,WP=0;function At(){throw Error(q(321))}function Ng(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function Dg(t,e,n,r,s,i){if(Ri=i,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xu.current=t===null||t.memoizedState===null?QP:YP,t=n(r,s),cl){i=0;do{if(cl=!1,Ml=0,25<=i)throw Error(q(301));i+=1,vt=ct=null,e.updateQueue=null,xu.current=XP,t=n(r,s)}while(cl)}if(xu.current=ld,e=ct!==null&&ct.next!==null,Ri=0,vt=ct=Ke=null,ad=!1,e)throw Error(q(300));return t}function Og(){var t=Ml!==0;return Ml=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ke.memoizedState=vt=t:vt=vt.next=t,vt}function Tn(){if(ct===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=vt===null?Ke.memoizedState:vt.next;if(e!==null)vt=e,ct=t;else{if(t===null)throw Error(q(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},vt===null?Ke.memoizedState=vt=t:vt=vt.next=t}return vt}function Ll(t,e){return typeof e=="function"?e(t):e}function Mf(t){var e=Tn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ri&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ke.lanes|=d,Ai|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Bn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ke.lanes|=i,Ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lf(t){var e=Tn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Bn(i,e.memoizedState)||(Jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function eE(){}function tE(t,e){var n=Ke,r=Tn(),s=e(),i=!Bn(r.memoizedState,s);if(i&&(r.memoizedState=s,Jt=!0),r=r.queue,Mg(sE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Vl(9,rE.bind(null,n,r,s,e),void 0,null),_t===null)throw Error(q(349));Ri&30||nE(n,e,s)}return s}function nE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rE(t,e,n,r){e.value=n,e.getSnapshot=r,iE(e)&&oE(t)}function sE(t,e,n){return n(function(){iE(e)&&oE(t)})}function iE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function oE(t){var e=Vr(t,1);e!==null&&$n(e,t,1,-1)}function M0(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e.queue=t,t=t.dispatch=GP.bind(null,Ke,t),[e.memoizedState,t]}function Vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aE(){return Tn().memoizedState}function Eu(t,e,n,r){var s=Zn();Ke.flags|=t,s.memoizedState=Vl(1|e,n,void 0,r===void 0?null:r)}function Xd(t,e,n,r){var s=Tn();r=r===void 0?null:r;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,r!==null&&Ng(r,o.deps)){s.memoizedState=Vl(e,n,i,r);return}}Ke.flags|=t,s.memoizedState=Vl(1|e,n,i,r)}function L0(t,e){return Eu(8390656,8,t,e)}function Mg(t,e){return Xd(2048,8,t,e)}function lE(t,e){return Xd(4,2,t,e)}function cE(t,e){return Xd(4,4,t,e)}function uE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dE(t,e,n){return n=n!=null?n.concat([t]):null,Xd(4,4,uE.bind(null,e,t),n)}function Lg(){}function hE(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ng(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fE(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ng(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pE(t,e,n){return Ri&21?(Bn(n,e)||(n=w1(),Ke.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function qP(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Of.transition;Of.transition={};try{t(!1),e()}finally{ke=n,Of.transition=r}}function mE(){return Tn().memoizedState}function KP(t,e,n){var r=ks(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gE(t))yE(e,n);else if(n=X1(t,e,n,r),n!==null){var s=Bt();$n(n,t,r,s),vE(n,e,r)}}function GP(t,e,n){var r=ks(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gE(t))yE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Bn(a,o)){var l=e.interleaved;l===null?(s.next=s,Ig(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=X1(t,e,s,r),n!==null&&(s=Bt(),$n(n,t,r,s),vE(n,e,r))}}function gE(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function yE(t,e){cl=ad=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fg(t,n)}}var ld={readContext:bn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},QP={readContext:bn,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:L0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Eu(4194308,4,uE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Eu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eu(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KP.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:M0,useDebugValue:Lg,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=M0(!1),e=t[0];return t=qP.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,s=Zn();if(Be){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),_t===null)throw Error(q(349));Ri&30||nE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,L0(sE.bind(null,r,i,t),[t]),r.flags|=2048,Vl(9,rE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Zn(),e=_t.identifierPrefix;if(Be){var n=kr,r=Pr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YP={readContext:bn,useCallback:hE,useContext:bn,useEffect:Mg,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:fE,useReducer:Mf,useRef:aE,useState:function(){return Mf(Ll)},useDebugValue:Lg,useDeferredValue:function(t){var e=Tn();return pE(e,ct.memoizedState,t)},useTransition:function(){var t=Mf(Ll)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1},XP={readContext:bn,useCallback:hE,useContext:bn,useEffect:Mg,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:fE,useReducer:Lf,useRef:aE,useState:function(){return Lf(Ll)},useDebugValue:Lg,useDeferredValue:function(t){var e=Tn();return ct===null?e.memoizedState=t:pE(e,ct.memoizedState,t)},useTransition:function(){var t=Lf(Ll)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jd={isMounted:function(t){return(t=t._reactInternals)?$i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=ks(t),i=Or(r,s);i.payload=e,n!=null&&(i.callback=n),e=As(t,i,s),e!==null&&($n(e,t,s,r),_u(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=ks(t),i=Or(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=As(t,i,s),e!==null&&($n(e,t,s,r),_u(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=ks(t),s=Or(n,r);s.tag=2,e!=null&&(s.callback=e),e=As(t,s,r),e!==null&&($n(e,t,r,n),_u(e,t,r))}};function V0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Al(n,r)||!Al(s,i):!0}function wE(t,e,n){var r=!1,s=Us,i=e.contextType;return typeof i=="object"&&i!==null?i=bn(i):(s=en(e)?Ci:Lt.current,r=e.contextTypes,i=(r=r!=null)?Ko(t,s):Us),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function j0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jd.enqueueReplaceState(e,e.state,null)}function qp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Rg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bn(i):(i=en(e)?Ci:Lt.current,s.context=Ko(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Jd.enqueueReplaceState(s,s.state,null),id(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,e){try{var n="",r=e;do n+=SA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Vf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JP=typeof WeakMap=="function"?WeakMap:Map;function _E(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ud||(ud=!0,rm=r),Kp(t,e)},n}function xE(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Kp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kp(t,e),typeof r!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function F0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hk.bind(null,t,e,n),e.then(t,t))}function U0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var ZP=qr.ReactCurrentOwner,Jt=!1;function $t(t,e,n,r){e.child=t===null?Y1(e,null,n,r):Qo(e,t.child,n,r)}function z0(t,e,n,r,s){n=n.render;var i=e.ref;return Io(e,s),r=Dg(t,e,n,r,i,s),n=Og(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jr(t,e,s)):(Be&&n&&xg(e),e.flags|=1,$t(t,e,r,s),e.child)}function B0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Hg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,EE(t,e,i,r,s)):(t=Cu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(o,r)&&t.ref===e.ref)return jr(t,e,s)}return e.flags|=1,t=Ns(i,r),t.ref=e.ref,t.return=e,e.child=t}function EE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Al(i,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,jr(t,e,s)}return Gp(t,e,n,r,s)}function bE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(xo,on),on|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(xo,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(xo,on),on|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(xo,on),on|=r;return $t(t,e,s,n),e.child}function TE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gp(t,e,n,r,s){var i=en(n)?Ci:Lt.current;return i=Ko(e,i),Io(e,s),n=Dg(t,e,n,r,i,s),r=Og(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jr(t,e,s)):(Be&&r&&xg(e),e.flags|=1,$t(t,e,n,s),e.child)}function H0(t,e,n,r,s){if(en(n)){var i=!0;ed(e)}else i=!1;if(Io(e,s),e.stateNode===null)bu(t,e),wE(e,n,r),qp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=en(n)?Ci:Lt.current,u=Ko(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&j0(e,o,r,u),cs=!1;var m=e.memoizedState;o.state=m,id(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Zt.current||cs?(typeof d=="function"&&(Wp(e,n,d,r),l=e.memoizedState),(a=cs||V0(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,J1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Nn(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=en(n)?Ci:Lt.current,l=Ko(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&j0(e,o,r,l),cs=!1,m=e.memoizedState,o.state=m,id(e,r,o,s);var b=e.memoizedState;a!==h||m!==b||Zt.current||cs?(typeof g=="function"&&(Wp(e,n,g,r),b=e.memoizedState),(u=cs||V0(e,n,u,r,m,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Qp(t,e,n,r,i,s)}function Qp(t,e,n,r,s,i){TE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&A0(e,n,!1),jr(t,e,i);r=e.stateNode,ZP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qo(e,t.child,null,i),e.child=Qo(e,null,a,i)):$t(t,e,a,i),e.memoizedState=r.state,s&&A0(e,n,!0),e.child}function SE(t){var e=t.stateNode;e.pendingContext?R0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R0(t,e.context,!1),Ag(t,e.containerInfo)}function W0(t,e,n,r,s){return Go(),bg(s),e.flags|=256,$t(t,e,n,r),e.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Xp(t){return{baseLanes:t,cachePool:null,transitions:null}}function CE(t,e,n){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(We,s&1),t===null)return Bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=th(o,r,0,null),t=bi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Xp(n),e.memoizedState=Yp,t):Vg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ek(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ns(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ns(a,i):(i=bi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Xp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Yp,r}return i=t.child,t=i.sibling,r=Ns(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vg(t,e){return e=th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gc(t,e,n,r){return r!==null&&bg(r),Qo(e,t.child,null,n),t=Vg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ek(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Vf(Error(q(422))),Gc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=th({mode:"visible",children:r.children},s,0,null),i=bi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Qo(e,t.child,null,o),e.child.memoizedState=Xp(o),e.memoizedState=Yp,i);if(!(e.mode&1))return Gc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=Vf(i,r,void 0),Gc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=_t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vr(t,s),$n(r,t,s,-1))}return Bg(),r=Vf(Error(q(421))),Gc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ln=Rs(s.nextSibling),un=e,Be=!0,Vn=null,t!==null&&(vn[wn++]=Pr,vn[wn++]=kr,vn[wn++]=Ii,Pr=t.id,kr=t.overflow,Ii=e),e=Vg(e,r.children),e.flags|=4096,e)}function q0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hp(t.return,e,n)}function jf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function IE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($t(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q0(t,n,e);else if(t.tag===19)q0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&od(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&od(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jf(e,!0,n,null,i);break;case"together":jf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ns(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ns(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tk(t,e,n){switch(e.tag){case 3:SE(e),Go();break;case 5:Z1(e);break;case 1:en(e.type)&&ed(e);break;case 4:Ag(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(rd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?CE(t,e,n):(Le(We,We.current&1),t=jr(t,e,n),t!==null?t.sibling:null);Le(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,bE(t,e,n)}return jr(t,e,n)}var RE,Jp,AE,PE;RE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jp=function(){};AE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,pi(lr.current);var i=null;switch(n){case"input":s=_p(t,s),r=_p(t,r),i=[];break;case"select":s=Ge({},s,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":s=bp(t,s),r=bp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ju)}Sp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};PE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ba(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nk(t,e,n){var r=e.pendingProps;switch(Eg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return en(e.type)&&Zu(),Pt(e),null;case 3:return r=e.stateNode,Yo(),ze(Zt),ze(Lt),kg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(om(Vn),Vn=null))),Jp(t,e),Pt(e),null;case 5:Pg(e);var s=pi(Ol.current);if(n=e.type,t!==null&&e.stateNode!=null)AE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Pt(e),null}if(t=pi(lr.current),qc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[sr]=e,r[Nl]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<Xa.length;s++)Ue(Xa[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":t0(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":r0(r,i),Ue("invalid",r)}Sp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wc(r.textContent,a,t),s=["children",""+a]):El.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Vc(r),n0(r,i,!0);break;case"textarea":Vc(r),s0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ju)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[Nl]=r,RE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cp(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xa.length;s++)Ue(Xa[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":t0(t,r),s=_p(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ge({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":r0(t,r),s=bp(t,r),Ue("invalid",t);break;default:s=r}Sp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?a1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&i1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bl(t,l):typeof l=="number"&&bl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(El.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&ag(t,i,l,o))}switch(n){case"input":Vc(t),n0(t,r,!1);break;case"textarea":Vc(t),s0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bo(t,!!r.multiple,i,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)PE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=pi(Ol.current),pi(lr.current),qc(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(i=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:Wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Pt(e),null;case 13:if(ze(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&ln!==null&&e.mode&1&&!(e.flags&128))G1(),Go(),e.flags|=98560,i=!1;else if(i=qc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[sr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Vn!==null&&(om(Vn),Vn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?dt===0&&(dt=3):Bg())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Yo(),Jp(t,e),t===null&&Pl(e.stateNode.containerInfo),Pt(e),null;case 10:return Cg(e.type._context),Pt(e),null;case 17:return en(e.type)&&Zu(),Pt(e),null;case 19:if(ze(We),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ba(i,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=od(t),o!==null){for(e.flags|=128,Ba(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&et()>Jo&&(e.flags|=128,r=!0,Ba(i,!1),e.lanes=4194304)}else{if(!r)if(t=od(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return Pt(e),null}else 2*et()-i.renderingStartTime>Jo&&n!==1073741824&&(e.flags|=128,r=!0,Ba(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=et(),e.sibling=null,n=We.current,Le(We,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return zg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function rk(t,e){switch(Eg(e),e.tag){case 1:return en(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),ze(Zt),ze(Lt),kg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pg(e),null;case 13:if(ze(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(We),null;case 4:return Yo(),null;case 10:return Cg(e.type._context),null;case 22:case 23:return zg(),null;case 24:return null;default:return null}}var Qc=!1,Ot=!1,sk=typeof WeakSet=="function"?WeakSet:Set,ee=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Zp(t,e,n){try{n()}catch(r){Je(t,e,r)}}var K0=!1;function ik(t,e){if(Lp=Qu,t=M1(),_g(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vp={focusedElem:t,selectionRange:n},Qu=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,E=b.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Nn(e.type,y),E);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(N){Je(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return b=K0,K0=!1,b}function ul(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zp(e,n,i)}s=s.next}while(s!==r)}}function Zd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function em(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kE(t){var e=t.alternate;e!==null&&(t.alternate=null,kE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[Nl],delete e[Up],delete e[$P],delete e[zP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NE(t){return t.tag===5||t.tag===3||t.tag===4}function G0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ju));else if(r!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}function nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nm(t,e,n),t=t.sibling;t!==null;)nm(t,e,n),t=t.sibling}var Et=null,Ln=!1;function ns(t,e,n){for(n=n.child;n!==null;)DE(t,e,n),n=n.sibling}function DE(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Wd,n)}catch{}switch(n.tag){case 5:Ot||_o(n,e);case 6:var r=Et,s=Ln;Et=null,ns(t,e,n),Et=r,Ln=s,Et!==null&&(Ln?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Ln?(t=Et,n=n.stateNode,t.nodeType===8?kf(t.parentNode,n):t.nodeType===1&&kf(t,n),Il(t)):kf(Et,n.stateNode));break;case 4:r=Et,s=Ln,Et=n.stateNode.containerInfo,Ln=!0,ns(t,e,n),Et=r,Ln=s;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zp(n,e,o),s=s.next}while(s!==r)}ns(t,e,n);break;case 1:if(!Ot&&(_o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,ns(t,e,n),Ot=r):ns(t,e,n);break;default:ns(t,e,n)}}function Q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sk),e.forEach(function(r){var s=pk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function An(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Ln=!1;break e;case 3:Et=a.stateNode.containerInfo,Ln=!0;break e;case 4:Et=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(Et===null)throw Error(q(160));DE(i,o,s),Et=null,Ln=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OE(e,t),e=e.sibling}function OE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(e,t),Jn(t),r&4){try{ul(3,t,t.return),Zd(3,t)}catch(y){Je(t,t.return,y)}try{ul(5,t,t.return)}catch(y){Je(t,t.return,y)}}break;case 1:An(e,t),Jn(t),r&512&&n!==null&&_o(n,n.return);break;case 5:if(An(e,t),Jn(t),r&512&&n!==null&&_o(n,n.return),t.flags&32){var s=t.stateNode;try{bl(s,"")}catch(y){Je(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&n1(s,i),Cp(a,o);var u=Cp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?a1(s,h):d==="dangerouslySetInnerHTML"?i1(s,h):d==="children"?bl(s,h):ag(s,d,h,u)}switch(a){case"input":xp(s,i);break;case"textarea":r1(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?bo(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?bo(s,!!i.multiple,i.defaultValue,!0):bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Nl]=i}catch(y){Je(t,t.return,y)}}break;case 6:if(An(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Je(t,t.return,y)}}break;case 3:if(An(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(e.containerInfo)}catch(y){Je(t,t.return,y)}break;case 4:An(e,t),Jn(t);break;case 13:An(e,t),Jn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ug=et())),r&4&&Q0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||d,An(e,t),Ot=u):An(e,t),Jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(m=ee,g=m.child,m.tag){case 0:case 11:case 14:case 15:ul(4,m,m.return);break;case 1:_o(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){Je(r,n,y)}}break;case 5:_o(m,m.return);break;case 22:if(m.memoizedState!==null){X0(h);continue}}g!==null?(g.return=m,ee=g):X0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=o1("display",o))}catch(y){Je(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Je(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:An(e,t),Jn(t),r&4&&Q0(t);break;case 21:break;default:An(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NE(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bl(s,""),r.flags&=-33);var i=G0(t);nm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=G0(t);tm(t,a,o);break;default:throw Error(q(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ok(t,e,n){ee=t,ME(t)}function ME(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Qc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=Qc;var u=Ot;if(Qc=o,(Ot=l)&&!u)for(ee=s;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?J0(s):l!==null?(l.return=o,ee=l):J0(s);for(;i!==null;)ee=i,ME(i),i=i.sibling;ee=s,Qc=a,Ot=u}Y0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):Y0(t)}}function Y0(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Zd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&O0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}O0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Il(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ot||e.flags&512&&em(e)}catch(m){Je(e,e.return,m)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function X0(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function J0(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zd(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Je(e,s,l)}}var i=e.return;try{em(e)}catch(l){Je(e,i,l)}break;case 5:var o=e.return;try{em(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var ak=Math.ceil,cd=qr.ReactCurrentDispatcher,jg=qr.ReactCurrentOwner,En=qr.ReactCurrentBatchConfig,Se=0,_t=null,st=null,St=0,on=0,xo=Xs(0),dt=0,jl=null,Ai=0,eh=0,Fg=0,dl=null,Yt=null,Ug=0,Jo=1/0,Ir=null,ud=!1,rm=null,Ps=null,Yc=!1,Es=null,dd=0,hl=0,sm=null,Tu=-1,Su=0;function Bt(){return Se&6?et():Tu!==-1?Tu:Tu=et()}function ks(t){return t.mode&1?Se&2&&St!==0?St&-St:HP.transition!==null?(Su===0&&(Su=w1()),Su):(t=ke,t!==0||(t=window.event,t=t===void 0?16:C1(t.type)),t):1}function $n(t,e,n,r){if(50<hl)throw hl=0,sm=null,Error(q(185));ic(t,n,r),(!(Se&2)||t!==_t)&&(t===_t&&(!(Se&2)&&(eh|=n),dt===4&&ds(t,St)),tn(t,r),n===1&&Se===0&&!(e.mode&1)&&(Jo=et()+500,Yd&&Js()))}function tn(t,e){var n=t.callbackNode;HA(t,e);var r=Gu(t,t===_t?St:0);if(r===0)n!==null&&a0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a0(n),e===1)t.tag===0?BP(Z0.bind(null,t)):W1(Z0.bind(null,t)),FP(function(){!(Se&6)&&Js()}),n=null;else{switch(_1(r)){case 1:n=hg;break;case 4:n=y1;break;case 16:n=Ku;break;case 536870912:n=v1;break;default:n=Ku}n=BE(n,LE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LE(t,e){if(Tu=-1,Su=0,Se&6)throw Error(q(327));var n=t.callbackNode;if(Ro()&&t.callbackNode!==n)return null;var r=Gu(t,t===_t?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hd(t,r);else{e=r;var s=Se;Se|=2;var i=jE();(_t!==t||St!==e)&&(Ir=null,Jo=et()+500,Ei(t,e));do try{uk();break}catch(a){VE(t,a)}while(!0);Sg(),cd.current=i,Se=s,st!==null?e=0:(_t=null,St=0,e=dt)}if(e!==0){if(e===2&&(s=kp(t),s!==0&&(r=s,e=im(t,s))),e===1)throw n=jl,Ei(t,0),ds(t,r),tn(t,et()),n;if(e===6)ds(t,r);else{if(s=t.current.alternate,!(r&30)&&!lk(s)&&(e=hd(t,r),e===2&&(i=kp(t),i!==0&&(r=i,e=im(t,i))),e===1))throw n=jl,Ei(t,0),ds(t,r),tn(t,et()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:ui(t,Yt,Ir);break;case 3:if(ds(t,r),(r&130023424)===r&&(e=Ug+500-et(),10<e)){if(Gu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Fp(ui.bind(null,t,Yt,Ir),e);break}ui(t,Yt,Ir);break;case 4:if(ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Un(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ak(r/1960))-r,10<r){t.timeoutHandle=Fp(ui.bind(null,t,Yt,Ir),r);break}ui(t,Yt,Ir);break;case 5:ui(t,Yt,Ir);break;default:throw Error(q(329))}}}return tn(t,et()),t.callbackNode===n?LE.bind(null,t):null}function im(t,e){var n=dl;return t.current.memoizedState.isDehydrated&&(Ei(t,e).flags|=256),t=hd(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&om(e)),t}function om(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function lk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ds(t,e){for(e&=~Fg,e&=~eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function Z0(t){if(Se&6)throw Error(q(327));Ro();var e=Gu(t,0);if(!(e&1))return tn(t,et()),null;var n=hd(t,e);if(t.tag!==0&&n===2){var r=kp(t);r!==0&&(e=r,n=im(t,r))}if(n===1)throw n=jl,Ei(t,0),ds(t,e),tn(t,et()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ui(t,Yt,Ir),tn(t,et()),null}function $g(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Jo=et()+500,Yd&&Js())}}function Pi(t){Es!==null&&Es.tag===0&&!(Se&6)&&Ro();var e=Se;Se|=1;var n=En.transition,r=ke;try{if(En.transition=null,ke=1,t)return t()}finally{ke=r,En.transition=n,Se=e,!(Se&6)&&Js()}}function zg(){on=xo.current,ze(xo)}function Ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jP(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Eg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zu();break;case 3:Yo(),ze(Zt),ze(Lt),kg();break;case 5:Pg(r);break;case 4:Yo();break;case 13:ze(We);break;case 19:ze(We);break;case 10:Cg(r.type._context);break;case 22:case 23:zg()}n=n.return}if(_t=t,st=t=Ns(t.current,null),St=on=e,dt=0,jl=null,Fg=eh=Ai=0,Yt=dl=null,fi!==null){for(e=0;e<fi.length;e++)if(n=fi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fi=null}return t}function VE(t,e){do{var n=st;try{if(Sg(),xu.current=ld,ad){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ad=!1}if(Ri=0,vt=ct=Ke=null,cl=!1,Ml=0,jg.current=null,n===null||n.return===null){dt=1,jl=e,st=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=U0(o);if(g!==null){g.flags&=-257,$0(g,o,a,i,e),g.mode&1&&F0(i,u,e),e=g,l=u;var b=e.updateQueue;if(b===null){var y=new Set;y.add(l),e.updateQueue=y}else b.add(l);break e}else{if(!(e&1)){F0(i,u,e),Bg();break e}l=Error(q(426))}}else if(Be&&a.mode&1){var E=U0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),$0(E,o,a,i,e),bg(Xo(l,a));break e}}i=l=Xo(l,a),dt!==4&&(dt=2),dl===null?dl=[i]:dl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=_E(i,l,e);D0(i,x);break e;case 1:a=l;var _=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ps===null||!Ps.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=xE(i,a,e);D0(i,N);break e}}i=i.return}while(i!==null)}UE(n)}catch(O){e=O,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function jE(){var t=cd.current;return cd.current=ld,t===null?ld:t}function Bg(){(dt===0||dt===3||dt===2)&&(dt=4),_t===null||!(Ai&268435455)&&!(eh&268435455)||ds(_t,St)}function hd(t,e){var n=Se;Se|=2;var r=jE();(_t!==t||St!==e)&&(Ir=null,Ei(t,e));do try{ck();break}catch(s){VE(t,s)}while(!0);if(Sg(),Se=n,cd.current=r,st!==null)throw Error(q(261));return _t=null,St=0,dt}function ck(){for(;st!==null;)FE(st)}function uk(){for(;st!==null&&!MA();)FE(st)}function FE(t){var e=zE(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?UE(t):st=e,jg.current=null}function UE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rk(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,st=null;return}}else if(n=nk(n,e,on),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);dt===0&&(dt=5)}function ui(t,e,n){var r=ke,s=En.transition;try{En.transition=null,ke=1,dk(t,e,n,r)}finally{En.transition=s,ke=r}return null}function dk(t,e,n,r){do Ro();while(Es!==null);if(Se&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(WA(t,i),t===_t&&(st=_t=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yc||(Yc=!0,BE(Ku,function(){return Ro(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=En.transition,En.transition=null;var o=ke;ke=1;var a=Se;Se|=4,jg.current=null,ik(t,n),OE(n,t),kP(Vp),Qu=!!Lp,Vp=Lp=null,t.current=n,ok(n),LA(),Se=a,ke=o,En.transition=i}else t.current=n;if(Yc&&(Yc=!1,Es=t,dd=s),i=t.pendingLanes,i===0&&(Ps=null),FA(n.stateNode),tn(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ud)throw ud=!1,t=rm,rm=null,t;return dd&1&&t.tag!==0&&Ro(),i=t.pendingLanes,i&1?t===sm?hl++:(hl=0,sm=t):hl=0,Js(),null}function Ro(){if(Es!==null){var t=_1(dd),e=En.transition,n=ke;try{if(En.transition=null,ke=16>t?16:t,Es===null)var r=!1;else{if(t=Es,Es=null,dd=0,Se&6)throw Error(q(331));var s=Se;for(Se|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:ul(8,d,i)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var m=d.sibling,g=d.return;if(kE(d),d===u){ee=null;break}if(m!==null){m.return=g,ee=m;break}ee=g}}}var b=i.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ul(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ee=x;break e}ee=i.return}}var _=t.current;for(ee=_;ee!==null;){o=ee;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ee=T;else e:for(o=_;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zd(9,a)}}catch(O){Je(a,a.return,O)}if(a===o){ee=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ee=N;break e}ee=a.return}}if(Se=s,Js(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Wd,t)}catch{}r=!0}return r}finally{ke=n,En.transition=e}}return!1}function ew(t,e,n){e=Xo(n,e),e=_E(t,e,1),t=As(t,e,1),e=Bt(),t!==null&&(ic(t,1,e),tn(t,e))}function Je(t,e,n){if(t.tag===3)ew(t,t,n);else for(;e!==null;){if(e.tag===3){ew(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ps===null||!Ps.has(r))){t=Xo(n,t),t=xE(e,t,1),e=As(e,t,1),t=Bt(),e!==null&&(ic(e,1,t),tn(e,t));break}}e=e.return}}function hk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(St&n)===n&&(dt===4||dt===3&&(St&130023424)===St&&500>et()-Ug?Ei(t,0):Fg|=n),tn(t,e)}function $E(t,e){e===0&&(t.mode&1?(e=Uc,Uc<<=1,!(Uc&130023424)&&(Uc=4194304)):e=1);var n=Bt();t=Vr(t,e),t!==null&&(ic(t,e,n),tn(t,n))}function fk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$E(t,n)}function pk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),$E(t,n)}var zE;zE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,tk(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Be&&e.flags&1048576&&q1(e,nd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bu(t,e),t=e.pendingProps;var s=Ko(e,Lt.current);Io(e,n),s=Dg(null,e,r,t,s,n);var i=Og();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(i=!0,ed(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rg(e),s.updater=Jd,e.stateNode=s,s._reactInternals=e,qp(e,r,t,n),e=Qp(null,e,r,!0,i,n)):(e.tag=0,Be&&i&&xg(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gk(r),t=Nn(r,t),s){case 0:e=Gp(null,e,r,t,n);break e;case 1:e=H0(null,e,r,t,n);break e;case 11:e=z0(null,e,r,t,n);break e;case 14:e=B0(null,e,r,Nn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),Gp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),H0(t,e,r,s,n);case 3:e:{if(SE(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,J1(t,e),id(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xo(Error(q(423)),e),e=W0(t,e,r,n,s);break e}else if(r!==s){s=Xo(Error(q(424)),e),e=W0(t,e,r,n,s);break e}else for(ln=Rs(e.stateNode.containerInfo.firstChild),un=e,Be=!0,Vn=null,n=Y1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===s){e=jr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return Z1(e),t===null&&Bp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,jp(r,s)?o=null:i!==null&&jp(r,i)&&(e.flags|=32),TE(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&Bp(e),null;case 13:return CE(t,e,n);case 4:return Ag(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),z0(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(rd,r._currentValue),r._currentValue=o,i!==null)if(Bn(i.value,o)){if(i.children===s.children&&!Zt.current){e=jr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Or(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Hp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Io(e,n),s=bn(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=Nn(r,e.pendingProps),s=Nn(r.type,s),B0(t,e,r,s,n);case 15:return EE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),bu(t,e),e.tag=1,en(r)?(t=!0,ed(e)):t=!1,Io(e,n),wE(e,r,s),qp(e,r,s,n),Qp(null,e,r,!0,t,n);case 19:return IE(t,e,n);case 22:return bE(t,e,n)}throw Error(q(156,e.tag))};function BE(t,e){return g1(t,e)}function mk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new mk(t,e,n,r)}function Hg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gk(t){if(typeof t=="function")return Hg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cg)return 11;if(t===ug)return 14}return 2}function Ns(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Hg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case uo:return bi(n.children,s,i,e);case lg:o=8,s|=8;break;case gp:return t=xn(12,n,e,s|2),t.elementType=gp,t.lanes=i,t;case yp:return t=xn(13,n,e,s),t.elementType=yp,t.lanes=i,t;case vp:return t=xn(19,n,e,s),t.elementType=vp,t.lanes=i,t;case Zx:return th(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xx:o=10;break e;case Jx:o=9;break e;case cg:o=11;break e;case ug:o=14;break e;case ls:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=xn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function bi(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function th(t,e,n,r){return t=xn(22,t,r,e),t.elementType=Zx,t.lanes=n,t.stateNode={isHidden:!1},t}function Ff(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function Uf(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wg(t,e,n,r,s,i,o,a,l){return t=new yk(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rg(i),t}function vk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HE(t){if(!t)return Us;t=t._reactInternals;e:{if($i(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(en(n))return H1(t,n,e)}return e}function WE(t,e,n,r,s,i,o,a,l){return t=Wg(n,r,!0,t,s,i,o,a,l),t.context=HE(null),n=t.current,r=Bt(),s=ks(n),i=Or(r,s),i.callback=e??null,As(n,i,s),t.current.lanes=s,ic(t,s,r),tn(t,r),t}function nh(t,e,n,r){var s=e.current,i=Bt(),o=ks(s);return n=HE(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=As(s,e,o),t!==null&&($n(t,s,o,i),_u(t,s,o)),o}function fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qg(t,e){tw(t,e),(t=t.alternate)&&tw(t,e)}function wk(){return null}var qE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kg(t){this._internalRoot=t}rh.prototype.render=Kg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));nh(t,e,null,null)};rh.prototype.unmount=Kg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pi(function(){nh(null,t,null,null)}),e[Lr]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var e=b1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<us.length&&e!==0&&e<us[n].priority;n++);us.splice(n,0,t),n===0&&S1(t)}};function Gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nw(){}function _k(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=fd(o);i.call(u)}}var o=WE(e,r,t,0,null,!1,!1,"",nw);return t._reactRootContainer=o,t[Lr]=o.current,Pl(t.nodeType===8?t.parentNode:t),Pi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=fd(l);a.call(u)}}var l=Wg(t,0,!1,null,null,!1,!1,"",nw);return t._reactRootContainer=l,t[Lr]=l.current,Pl(t.nodeType===8?t.parentNode:t),Pi(function(){nh(e,l,n,r)}),l}function ih(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=fd(o);a.call(l)}}nh(e,o,t,s)}else o=_k(n,e,t,s,r);return fd(o)}x1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ya(e.pendingLanes);n!==0&&(fg(e,n|1),tn(e,et()),!(Se&6)&&(Jo=et()+500,Js()))}break;case 13:Pi(function(){var r=Vr(t,1);if(r!==null){var s=Bt();$n(r,t,1,s)}}),qg(t,1)}};pg=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Bt();$n(e,t,134217728,n)}qg(t,134217728)}};E1=function(t){if(t.tag===13){var e=ks(t),n=Vr(t,e);if(n!==null){var r=Bt();$n(n,t,e,r)}qg(t,e)}};b1=function(){return ke};T1=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Rp=function(t,e,n){switch(e){case"input":if(xp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qd(r);if(!s)throw Error(q(90));t1(r),xp(r,s)}}}break;case"textarea":r1(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};u1=$g;d1=Pi;var xk={usingClientEntryPoint:!1,Events:[ac,mo,Qd,l1,c1,$g]},Ha={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ek={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=p1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Wd=Xc.inject(Ek),ar=Xc}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gg(e))throw Error(q(200));return vk(t,e,null,n)};fn.createRoot=function(t,e){if(!Gg(t))throw Error(q(299));var n=!1,r="",s=qE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wg(t,1,!1,null,null,n,!1,r,s),t[Lr]=e.current,Pl(t.nodeType===8?t.parentNode:t),new Kg(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=p1(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return Pi(t)};fn.hydrate=function(t,e,n){if(!sh(e))throw Error(q(200));return ih(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!Gg(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=qE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WE(e,null,t,1,n??null,s,!1,i,o),t[Lr]=e.current,Pl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new rh(e)};fn.render=function(t,e,n){if(!sh(e))throw Error(q(200));return ih(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!sh(t))throw Error(q(40));return t._reactRootContainer?(Pi(function(){ih(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};fn.unstable_batchedUpdates=$g;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return ih(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function KE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KE)}catch(t){console.error(t)}}KE(),Kx.exports=fn;var zi=Kx.exports;const GE=Mx(zi);var QE,rw=zi;QE=rw.createRoot,rw.hydrateRoot;const bk=1,Tk=1e6;let $f=0;function Sk(){return $f=($f+1)%Number.MAX_SAFE_INTEGER,$f.toString()}const zf=new Map,sw=t=>{if(zf.has(t))return;const e=setTimeout(()=>{zf.delete(t),fl({type:"REMOVE_TOAST",toastId:t})},Tk);zf.set(t,e)},Ck=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,bk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?sw(n):t.toasts.forEach(r=>{sw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Iu=[];let Ru={toasts:[]};function fl(t){Ru=Ck(Ru,t),Iu.forEach(e=>{e(Ru)})}function Ik({...t}){const e=Sk(),n=s=>fl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>fl({type:"DISMISS_TOAST",toastId:e});return fl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Rk(){const[t,e]=v.useState(Ru);return v.useEffect(()=>(Iu.push(e),()=>{const n=Iu.indexOf(e);n>-1&&Iu.splice(n,1)}),[t]),{...t,toast:Ik,dismiss:n=>fl({type:"DISMISS_TOAST",toastId:n})}}function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function iw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function YE(...t){return e=>{let n=!1;const r=t.map(s=>{const i=iw(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():iw(t[s],null)}}}}function Pe(...t){return v.useCallback(YE(...t),t)}function Bi(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const u=h=>{var x;const{scope:m,children:g,...b}=h,y=((x=m==null?void 0:m[t])==null?void 0:x[l])||a,E=v.useMemo(()=>b,Object.values(b));return f.jsx(y.Provider,{value:E,children:g})};u.displayName=i+"Provider";function d(h,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[l])||a,b=v.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Ak(s,...e)]}function Ak(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Fl(t){const e=kk(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(Dk);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return f.jsx(e,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Pk=Fl("Slot");function kk(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=Mk(s),a=Ok(i,s.props);return s.type!==v.Fragment&&(a.ref=r?YE(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var XE=Symbol("radix.slottable");function Nk(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=XE,e}function Dk(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XE}function Ok(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Mk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function JE(t){const e=t+"CollectionProvider",[n,r]=Bi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:E,children:x}=y,_=K.useRef(null),T=K.useRef(new Map).current;return f.jsx(s,{scope:E,itemMap:T,collectionRef:_,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Fl(a),u=K.forwardRef((y,E)=>{const{scope:x,children:_}=y,T=i(a,x),N=Pe(E,T.collectionRef);return f.jsx(l,{ref:N,children:_})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=Fl(d),g=K.forwardRef((y,E)=>{const{scope:x,children:_,...T}=y,N=K.useRef(null),O=Pe(E,N),M=i(d,x);return K.useEffect(()=>(M.itemMap.set(N,{ref:N,...T}),()=>void M.itemMap.delete(N))),f.jsx(m,{[h]:"",ref:O,children:_})});g.displayName=d;function b(y){const E=i(t+"CollectionConsumer",y);return K.useCallback(()=>{const _=E.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((M,C)=>T.indexOf(M.ref.current)-T.indexOf(C.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},b,r]}var Lk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xe=Lk.reduce((t,e)=>{const n=Fl(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ZE(t,e){t&&zi.flushSync(()=>t.dispatchEvent(e))}function wt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Vk(t,e=globalThis==null?void 0:globalThis.document){const n=wt(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var jk="DismissableLayer",am="dismissableLayer.update",Fk="dismissableLayer.pointerDownOutside",Uk="dismissableLayer.focusOutside",ow,eb=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oh=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=v.useContext(eb),[d,h]=v.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),b=Pe(e,C=>h(C)),y=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(E),_=d?y.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,N=_>=x,O=zk(C=>{const S=C.target,I=[...u.branches].some(A=>A.contains(S));!N||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),M=Bk(C=>{const S=C.target;[...u.branches].some(A=>A.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return Vk(C=>{_===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ow=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),aw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ow)}},[d,m,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),aw())},[d,u]),v.useEffect(()=>{const C=()=>g({});return document.addEventListener(am,C),()=>document.removeEventListener(am,C)},[]),f.jsx(xe.div,{...l,ref:b,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,O.onPointerDownCapture)})});oh.displayName=jk;var $k="DismissableLayerBranch",tb=v.forwardRef((t,e)=>{const n=v.useContext(eb),r=v.useRef(null),s=Pe(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});tb.displayName=$k;function zk(t,e=globalThis==null?void 0:globalThis.document){const n=wt(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){nb(Fk,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Bk(t,e=globalThis==null?void 0:globalThis.document){const n=wt(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&nb(Uk,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function aw(){const t=new CustomEvent(am);document.dispatchEvent(t)}function nb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ZE(s,i):s.dispatchEvent(i)}var Hk=oh,Wk=tb,xt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},qk="Portal",Qg=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);xt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?GE.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});Qg.displayName=qk;function Kk(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Hi=t=>{const{present:e,children:n}=t,r=Gk(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Pe(r.ref,Qk(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Hi.displayName="Presence";function Gk(t){const[e,n]=v.useState(),r=v.useRef(null),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Kk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Jc(r.current);i.current=a==="mounted"?u:"none"},[a]),xt(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,g=Jc(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),xt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const y=Jc(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=g=>{g.target===e&&(i.current=Jc(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Jc(t){return(t==null?void 0:t.animationName)||"none"}function Qk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yk=sg[" useInsertionEffect ".trim().toString()]||xt;function pd({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Xk({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=v.useRef(t!==void 0);v.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=v.useCallback(d=>{var h;if(a){const m=Jk(d)?d(t):d;m!==t&&((h=o.current)==null||h.call(o,m))}else i(d)},[a,t,i,o]);return[l,u]}function Xk({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),i=v.useRef(e);return Yk(()=>{i.current=e},[e]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Jk(t){return typeof t=="function"}var rb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Zk="VisuallyHidden",ah=v.forwardRef((t,e)=>f.jsx(xe.span,{...t,ref:e,style:{...rb,...t.style}}));ah.displayName=Zk;var eN=ah,Yg="ToastProvider",[Xg,tN,nN]=JE("Toast"),[sb,qU]=Bi("Toast",[nN]),[rN,lh]=sb(Yg),ib=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[u,d]=v.useState(0),h=v.useRef(!1),m=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yg}\`. Expected non-empty \`string\`.`),f.jsx(Xg.Provider,{scope:e,children:f.jsx(rN,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(g=>g+1),[]),onToastRemove:v.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};ib.displayName=Yg;var ob="ToastViewport",sN=["F8"],lm="toast.viewportPause",cm="toast.viewportResume",ab=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=sN,label:s="Notifications ({hotkey})",...i}=t,o=lh(ob,n),a=tN(n),l=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),m=Pe(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const E=x=>{var T;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),v.useEffect(()=>{const E=l.current,x=h.current;if(b&&E&&x){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(lm);x.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(cm);x.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!E.contains(M.relatedTarget)&&T()},O=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",_),E.addEventListener("focusout",N),E.addEventListener("pointermove",_),E.addEventListener("pointerleave",O),window.addEventListener("blur",_),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",_),E.removeEventListener("focusout",N),E.removeEventListener("pointermove",_),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",_),window.removeEventListener("focus",T)}}},[b,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:E})=>{const _=a().map(T=>{const N=T.ref.current,O=[N,...yN(N)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?_.reverse():_).flat()},[a]);return v.useEffect(()=>{const E=h.current;if(E){const x=_=>{var O,M,C;const T=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!T){const S=document.activeElement,I=_.shiftKey;if(_.target===E&&I){(O=u.current)==null||O.focus();return}const D=y({tabbingDirection:I?"backwards":"forwards"}),P=D.findIndex(H=>H===S);Bf(D.slice(P+1))?_.preventDefault():I?(M=u.current)==null||M.focus():(C=d.current)==null||C.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,y]),f.jsxs(Wk,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&f.jsx(um,{ref:u,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"forwards"});Bf(E)}}),f.jsx(Xg.Slot,{scope:n,children:f.jsx(xe.ol,{tabIndex:-1,...i,ref:m})}),b&&f.jsx(um,{ref:d,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"backwards"});Bf(E)}})]})});ab.displayName=ob;var lb="ToastFocusProxy",um=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=lh(lb,n);return f.jsx(ah,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});um.displayName=lb;var cc="Toast",iN="toast.swipeStart",oN="toast.swipeMove",aN="toast.swipeCancel",lN="toast.swipeEnd",cb=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=pd({prop:r,defaultProp:s??!0,onChange:i,caller:cc});return f.jsx(Hi,{present:n||a,children:f.jsx(dN,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:wt(t.onPause),onResume:wt(t.onResume),onSwipeStart:ue(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ue(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});cb.displayName=cc;var[cN,uN]=sb(cc,{onClose(){}}),dN=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...b}=t,y=lh(cc,n),[E,x]=v.useState(null),_=Pe(e,H=>x(H)),T=v.useRef(null),N=v.useRef(null),O=s||y.duration,M=v.useRef(0),C=v.useRef(O),S=v.useRef(0),{onToastAdd:I,onToastRemove:A}=y,k=wt(()=>{var ne;(E==null?void 0:E.contains(document.activeElement))&&((ne=y.viewport)==null||ne.focus()),o()}),D=v.useCallback(H=>{!H||H===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(k,H))},[k]);v.useEffect(()=>{const H=y.viewport;if(H){const ne=()=>{D(C.current),u==null||u()},U=()=>{const W=new Date().getTime()-M.current;C.current=C.current-W,window.clearTimeout(S.current),l==null||l()};return H.addEventListener(lm,U),H.addEventListener(cm,ne),()=>{H.removeEventListener(lm,U),H.removeEventListener(cm,ne)}}},[y.viewport,O,l,u,D]),v.useEffect(()=>{i&&!y.isClosePausedRef.current&&D(O)},[i,O,y.isClosePausedRef,D]),v.useEffect(()=>(I(),()=>A()),[I,A]);const P=v.useMemo(()=>E?gb(E):null,[E]);return y.viewport?f.jsxs(f.Fragment,{children:[P&&f.jsx(hN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),f.jsx(cN,{scope:n,onClose:k,children:zi.createPortal(f.jsx(Xg.ItemSlot,{scope:n,children:f.jsx(Hk,{asChild:!0,onEscapeKeyDown:ue(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ue(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:ue(t.onPointerMove,H=>{if(!T.current)return;const ne=H.clientX-T.current.x,U=H.clientY-T.current.y,W=!!N.current,V=["left","right"].includes(y.swipeDirection),j=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,G=V?j(0,ne):0,J=V?0:j(0,U),X=H.pointerType==="touch"?10:2,se={x:G,y:J},ie={originalEvent:H,delta:se};W?(N.current=se,Zc(oN,h,ie,{discrete:!1})):lw(se,y.swipeDirection,X)?(N.current=se,Zc(iN,d,ie,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ne)>X||Math.abs(U)>X)&&(T.current=null)}),onPointerUp:ue(t.onPointerUp,H=>{const ne=N.current,U=H.target;if(U.hasPointerCapture(H.pointerId)&&U.releasePointerCapture(H.pointerId),N.current=null,T.current=null,ne){const W=H.currentTarget,V={originalEvent:H,delta:ne};lw(ne,y.swipeDirection,y.swipeThreshold)?Zc(lN,g,V,{discrete:!0}):Zc(aN,m,V,{discrete:!0}),W.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),hN=t=>{const{__scopeToast:e,children:n,...r}=t,s=lh(cc,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return mN(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(Qg,{asChild:!0,children:f.jsx(ah,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},fN="ToastTitle",ub=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});ub.displayName=fN;var pN="ToastDescription",db=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});db.displayName=pN;var hb="ToastAction",fb=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(mb,{altText:n,asChild:!0,children:f.jsx(Jg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${hb}\`. Expected non-empty \`string\`.`),null)});fb.displayName=hb;var pb="ToastClose",Jg=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=uN(pb,n);return f.jsx(mb,{asChild:!0,children:f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,s.onClose)})})});Jg.displayName=pb;var mb=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function gb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),gN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...gb(r))}}),e}function Zc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ZE(s,i):s.dispatchEvent(i)}var lw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function mN(t=()=>{}){const e=wt(t);xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function gN(t){return t.nodeType===t.ELEMENT_NODE}function yN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var vN=ib,yb=ab,vb=cb,wb=ub,_b=db,xb=fb,Eb=Jg;function bb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=bb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Tb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=bb(t))&&(r&&(r+=" "),r+=e);return r}const cw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,uw=Tb,Sb=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return uw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const m=cw(d)||cw(h);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...g}=d;return Object.entries(g).every(b=>{let[y,E]=b;return Array.isArray(E)?E.includes({...i,...a}[y]):{...i,...a}[y]===E})?[...u,h,m]:u},[]);return uw(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _N={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,..._N,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Cb("lucide",s),...a},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(xN,{ref:i,iconNode:e,className:Cb(`lucide-${wN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Ne("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Ne("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=Ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=Ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=Ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Ne("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ty="-",zN=t=>{const e=HN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ty);return a[0]===""&&a.length!==1&&a.shift(),Pb(a,e)||BN(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Pb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Pb(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ty);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},fw=/^\[(.+)\]$/,BN=t=>{if(fw.test(t)){const e=fw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},HN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qN(Object.entries(t.classGroups),n).forEach(([i,o])=>{hm(o,r,i,e)}),r},hm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:pw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(WN(s)){hm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{hm(o,pw(e,i),n,r)})})},pw=(t,e)=>{let n=t;return e.split(ty).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},WN=t=>t.isThemeGetter,qN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,KN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},kb="!",GN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let E=0;E<a.length;E++){let x=a[E];if(u===0){if(x===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(x==="/"){h=E;continue}}x==="["?u++:x==="]"&&u--}const m=l.length===0?a:a.substring(d),g=m.startsWith(kb),b=g?m.substring(1):m,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},QN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},YN=t=>({cache:KN(t.cacheSize),parseClassName:GN(t),...zN(t)}),XN=/\s+/,JN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(XN);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let b=!!g,y=r(b?m.substring(0,g):m);if(!y){if(!b){a=u+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=u+(a.length>0?" "+a:a);continue}b=!1}const E=QN(d).join(":"),x=h?E+kb:E,_=x+y;if(i.includes(_))continue;i.push(_);const T=s(y,b);for(let N=0;N<T.length;++N){const O=T[N];i.push(x+O)}a=u+(a.length>0?" "+a:a)}return a};function ZN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Nb(e))&&(r&&(r+=" "),r+=n);return r}const Nb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Nb(t[r]))&&(n&&(n+=" "),n+=e);return n};function e2(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=YN(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=JN(l,n);return s(l,d),d}return function(){return i(ZN.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Db=/^\[(?:([a-z-]+):)?(.+)\]$/i,t2=/^\d+\/\d+$/,n2=new Set(["px","full","screen"]),r2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,o2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=t=>Ao(t)||n2.has(t)||t2.test(t),rs=t=>ha(t,"length",m2),Ao=t=>!!t&&!Number.isNaN(Number(t)),Hf=t=>ha(t,"number",Ao),Wa=t=>!!t&&Number.isInteger(Number(t)),l2=t=>t.endsWith("%")&&Ao(t.slice(0,-1)),fe=t=>Db.test(t),ss=t=>r2.test(t),c2=new Set(["length","size","percentage"]),u2=t=>ha(t,c2,Ob),d2=t=>ha(t,"position",Ob),h2=new Set(["image","url"]),f2=t=>ha(t,h2,y2),p2=t=>ha(t,"",g2),qa=()=>!0,ha=(t,e,n)=>{const r=Db.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},m2=t=>s2.test(t)&&!i2.test(t),Ob=()=>!1,g2=t=>o2.test(t),y2=t=>a2.test(t),v2=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),u=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),m=Fe("gap"),g=Fe("gradientColorStops"),b=Fe("gradientColorStopPositions"),y=Fe("inset"),E=Fe("margin"),x=Fe("opacity"),_=Fe("padding"),T=Fe("saturate"),N=Fe("scale"),O=Fe("sepia"),M=Fe("skew"),C=Fe("space"),S=Fe("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",fe,e],D=()=>[fe,e],P=()=>["",Sr,rs],H=()=>["auto",Ao,fe],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",fe],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Ao,fe];return{cacheSize:500,separator:":",theme:{colors:[qa],spacing:[Sr,rs],blur:["none","",ss,fe],brightness:J(),borderColor:[t],borderRadius:["none","","full",ss,fe],borderSpacing:D(),borderWidth:P(),contrast:J(),grayscale:j(),hueRotate:J(),invert:j(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[l2,rs],inset:k(),margin:k(),opacity:J(),padding:D(),saturate:J(),scale:J(),sepia:j(),skew:J(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),fe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wa,fe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Wa,fe]}],"grid-cols":[{"grid-cols":[qa]}],"col-start-end":[{col:["auto",{span:["full",Wa,fe]},fe]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[qa]}],"row-start-end":[{row:["auto",{span:[Wa,fe]},fe]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[ss]},ss]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ss,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hf]}],"font-family":[{font:[qa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Ao,Hf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,rs]}],"underline-offset":[{"underline-offset":["auto",Sr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),d2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",u2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},f2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Sr,fe]}],"outline-w":[{outline:[Sr,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Sr,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ss,p2]}],"shadow-color":[{shadow:[qa]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ss,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Wa,fe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Sr,rs,Hf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},w2=e2(v2);function tt(...t){return w2(Tb(t))}function Mb(t){return t===1?" ":t===2?"":t>=3&&t<=10?`${t} `:`${t} `}function _2(t,e){const n=t+1;return`${e===1?"":""}   ${Mb(n)}`}const x2=vN,Lb=v.forwardRef(({className:t,...e},n)=>f.jsx(yb,{ref:n,className:tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Lb.displayName=yb.displayName;const E2=Sb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vb=v.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(vb,{ref:r,className:tt(E2({variant:e}),t),...n}));Vb.displayName=vb.displayName;const b2=v.forwardRef(({className:t,...e},n)=>f.jsx(xb,{ref:n,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));b2.displayName=xb.displayName;const jb=v.forwardRef(({className:t,...e},n)=>f.jsx(Eb,{ref:n,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx($N,{className:"h-4 w-4"})}));jb.displayName=Eb.displayName;const Fb=v.forwardRef(({className:t,...e},n)=>f.jsx(wb,{ref:n,className:tt("text-sm font-semibold",t),...e}));Fb.displayName=wb.displayName;const Ub=v.forwardRef(({className:t,...e},n)=>f.jsx(_b,{ref:n,className:tt("text-sm opacity-90",t),...e}));Ub.displayName=_b.displayName;function T2(){const{toasts:t}=Rk();return f.jsxs(x2,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(Vb,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(Fb,{children:n}),r&&f.jsx(Ub,{children:r})]}),s,f.jsx(jb,{})]},e)}),f.jsx(Lb,{})]})}var mw=["light","dark"],S2="(prefers-color-scheme: dark)",C2=v.createContext(void 0),I2={setTheme:t=>{},themes:[]},R2=()=>{var t;return(t=v.useContext(C2))!=null?t:I2};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?mw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,y=!1,E=!0)=>{let x=o?o[b]:b,_=y?b+"|| ''":`'${x}'`,T="";return s&&E&&!y&&mw.includes(b)&&(T+=`d.style.colorScheme = '${b}';`),n==="class"?y||x?T+=`c.add(${_})`:T+="null":x&&(T+=`d[s](n,${_})`),T},g=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${S2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var A2=t=>{switch(t){case"success":return N2;case"info":return O2;case"warning":return D2;case"error":return M2;default:return null}},P2=Array(12).fill(0),k2=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},P2.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),N2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),D2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),O2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),M2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),V2=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},fm=1,j2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:fm++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],K.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(U2(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||fm++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Gt=new j2,F2=(t,e)=>{let n=(e==null?void 0:e.id)||fm++;return Gt.addToast({title:t,...e,id:n}),n},U2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",$2=F2,z2=()=>Gt.toasts,B2=()=>Gt.getActiveToasts(),H2=Object.assign($2,{success:Gt.success,info:Gt.info,warning:Gt.warning,error:Gt.error,custom:Gt.custom,message:Gt.message,promise:Gt.promise,dismiss:Gt.dismiss,loading:Gt.loading},{getHistory:z2,getToasts:B2});function W2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}W2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function eu(t){return t.label!==void 0}var q2=3,K2="32px",G2="16px",gw=4e3,Q2=356,Y2=14,X2=20,J2=200;function Pn(...t){return t.filter(Boolean).join(" ")}function Z2(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var eD=t=>{var e,n,r,s,i,o,a,l,u,d,h;let{invert:m,toast:g,unstyled:b,interacting:y,setHeights:E,visibleToasts:x,heights:_,index:T,toasts:N,expanded:O,removeToast:M,defaultRichColors:C,closeButton:S,style:I,cancelButtonStyle:A,actionButtonStyle:k,className:D="",descriptionClassName:P="",duration:H,position:ne,gap:U,loadingIcon:W,expandByDefault:V,classNames:j,icons:G,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:X}=t,[se,ie]=K.useState(null),[Ie,Oe]=K.useState(null),[Y,be]=K.useState(!1),[Ve,Te]=K.useState(!1),[ge,_e]=K.useState(!1),[nt,jt]=K.useState(!1),[Er,mn]=K.useState(!1),[Cn,Gr]=K.useState(0),[He,pt]=K.useState(0),qn=K.useRef(g.duration||H||gw),xc=K.useRef(null),Kn=K.useRef(null),Xh=T===0,ri=T+1<=x,Ft=g.type,br=g.dismissible!==!1,ba=g.className||"",Jh=g.descriptionClassName||"",Qi=K.useMemo(()=>_.findIndex(oe=>oe.toastId===g.id)||0,[_,g.id]),Ec=K.useMemo(()=>{var oe;return(oe=g.closeButton)!=null?oe:S},[g.closeButton,S]),Ta=K.useMemo(()=>g.duration||H||gw,[g.duration,H]),Tr=K.useRef(0),Gn=K.useRef(0),Yi=K.useRef(0),qt=K.useRef(null),[bc,Xi]=ne.split("-"),Sa=K.useMemo(()=>_.reduce((oe,Re,Me)=>Me>=Qi?oe:oe+Re.height,0),[_,Qi]),Qr=V2(),Tc=g.invert||m,at=Ft==="loading";Gn.current=K.useMemo(()=>Qi*U+Sa,[Qi,Sa]),K.useEffect(()=>{qn.current=Ta},[Ta]),K.useEffect(()=>{be(!0)},[]),K.useEffect(()=>{let oe=Kn.current;if(oe){let Re=oe.getBoundingClientRect().height;return pt(Re),E(Me=>[{toastId:g.id,height:Re,position:g.position},...Me]),()=>E(Me=>Me.filter(mt=>mt.toastId!==g.id))}},[E,g.id]),K.useLayoutEffect(()=>{if(!Y)return;let oe=Kn.current,Re=oe.style.height;oe.style.height="auto";let Me=oe.getBoundingClientRect().height;oe.style.height=Re,pt(Me),E(mt=>mt.find(rn=>rn.toastId===g.id)?mt.map(rn=>rn.toastId===g.id?{...rn,height:Me}:rn):[{toastId:g.id,height:Me,position:g.position},...mt])},[Y,g.title,g.description,E,g.id]);let In=K.useCallback(()=>{Te(!0),Gr(Gn.current),E(oe=>oe.filter(Re=>Re.toastId!==g.id)),setTimeout(()=>{M(g)},J2)},[g,M,E,Gn]);K.useEffect(()=>{if(g.promise&&Ft==="loading"||g.duration===1/0||g.type==="loading")return;let oe;return O||y||X&&Qr?(()=>{if(Yi.current<Tr.current){let Re=new Date().getTime()-Tr.current;qn.current=qn.current-Re}Yi.current=new Date().getTime()})():qn.current!==1/0&&(Tr.current=new Date().getTime(),oe=setTimeout(()=>{var Re;(Re=g.onAutoClose)==null||Re.call(g,g),In()},qn.current)),()=>clearTimeout(oe)},[O,y,g,Ft,X,Qr,In]),K.useEffect(()=>{g.delete&&In()},[In,g.delete]);function si(){var oe,Re,Me;return G!=null&&G.loading?K.createElement("div",{className:Pn(j==null?void 0:j.loader,(oe=g==null?void 0:g.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Ft==="loading"},G.loading):W?K.createElement("div",{className:Pn(j==null?void 0:j.loader,(Re=g==null?void 0:g.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":Ft==="loading"},W):K.createElement(k2,{className:Pn(j==null?void 0:j.loader,(Me=g==null?void 0:g.classNames)==null?void 0:Me.loader),visible:Ft==="loading"})}return K.createElement("li",{tabIndex:0,ref:Kn,className:Pn(D,ba,j==null?void 0:j.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[Ft],(n=g==null?void 0:g.classNames)==null?void 0:n[Ft]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:C,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":Y,"data-promise":!!g.promise,"data-swiped":Er,"data-removed":Ve,"data-visible":ri,"data-y-position":bc,"data-x-position":Xi,"data-index":T,"data-front":Xh,"data-swiping":ge,"data-dismissible":br,"data-type":Ft,"data-invert":Tc,"data-swipe-out":nt,"data-swipe-direction":Ie,"data-expanded":!!(O||V&&Y),style:{"--index":T,"--toasts-before":T,"--z-index":N.length-T,"--offset":`${Ve?Cn:Gn.current}px`,"--initial-height":V?"auto":`${He}px`,...I,...g.style},onDragEnd:()=>{_e(!1),ie(null),qt.current=null},onPointerDown:oe=>{at||!br||(xc.current=new Date,Gr(Gn.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(_e(!0),qt.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Re,Me,mt;if(nt||!br)return;qt.current=null;let rn=Number(((oe=Kn.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qn=Number(((Re=Kn.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gn=new Date().getTime()-((Me=xc.current)==null?void 0:Me.getTime()),Kt=se==="x"?rn:Qn,Rn=Math.abs(Kt)/gn;if(Math.abs(Kt)>=X2||Rn>.11){Gr(Gn.current),(mt=g.onDismiss)==null||mt.call(g,g),Oe(se==="x"?rn>0?"right":"left":Qn>0?"down":"up"),In(),jt(!0),mn(!1);return}_e(!1),ie(null)},onPointerMove:oe=>{var Re,Me,mt,rn;if(!qt.current||!br||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let Qn=oe.clientY-qt.current.y,gn=oe.clientX-qt.current.x,Kt=(Me=t.swipeDirections)!=null?Me:Z2(ne);!se&&(Math.abs(gn)>1||Math.abs(Qn)>1)&&ie(Math.abs(gn)>Math.abs(Qn)?"x":"y");let Rn={x:0,y:0};se==="y"?(Kt.includes("top")||Kt.includes("bottom"))&&(Kt.includes("top")&&Qn<0||Kt.includes("bottom")&&Qn>0)&&(Rn.y=Qn):se==="x"&&(Kt.includes("left")||Kt.includes("right"))&&(Kt.includes("left")&&gn<0||Kt.includes("right")&&gn>0)&&(Rn.x=gn),(Math.abs(Rn.x)>0||Math.abs(Rn.y)>0)&&mn(!0),(mt=Kn.current)==null||mt.style.setProperty("--swipe-amount-x",`${Rn.x}px`),(rn=Kn.current)==null||rn.style.setProperty("--swipe-amount-y",`${Rn.y}px`)}},Ec&&!g.jsx?K.createElement("button",{"aria-label":J,"data-disabled":at,"data-close-button":!0,onClick:at||!br?()=>{}:()=>{var oe;In(),(oe=g.onDismiss)==null||oe.call(g,g)},className:Pn(j==null?void 0:j.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:L2):null,g.jsx||v.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:K.createElement(K.Fragment,null,Ft||g.icon||g.promise?K.createElement("div",{"data-icon":"",className:Pn(j==null?void 0:j.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||si():null,g.type!=="loading"?g.icon||(G==null?void 0:G[Ft])||A2(Ft):null):null,K.createElement("div",{"data-content":"",className:Pn(j==null?void 0:j.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:Pn(j==null?void 0:j.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?K.createElement("div",{"data-description":"",className:Pn(P,Jh,j==null?void 0:j.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),v.isValidElement(g.cancel)?g.cancel:g.cancel&&eu(g.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||A,onClick:oe=>{var Re,Me;eu(g.cancel)&&br&&((Me=(Re=g.cancel).onClick)==null||Me.call(Re,oe),In())},className:Pn(j==null?void 0:j.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,v.isValidElement(g.action)?g.action:g.action&&eu(g.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||k,onClick:oe=>{var Re,Me;eu(g.action)&&((Me=(Re=g.action).onClick)==null||Me.call(Re,oe),!oe.defaultPrevented&&In())},className:Pn(j==null?void 0:j.actionButton,(h=g==null?void 0:g.classNames)==null?void 0:h.actionButton)},g.action.label):null))};function yw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function tD(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?G2:K2;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var nD=v.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:m,style:g,visibleToasts:b=q2,toastOptions:y,dir:E=yw(),gap:x=Y2,loadingIcon:_,icons:T,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:O}=t,[M,C]=K.useState([]),S=K.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[I,A]=K.useState([]),[k,D]=K.useState(!1),[P,H]=K.useState(!1),[ne,U]=K.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=K.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=K.useRef(null),G=K.useRef(!1),J=K.useCallback(X=>{C(se=>{var ie;return(ie=se.find(Ie=>Ie.id===X.id))!=null&&ie.delete||Gt.dismiss(X.id),se.filter(({id:Ie})=>Ie!==X.id)})},[]);return K.useEffect(()=>Gt.subscribe(X=>{if(X.dismiss){C(se=>se.map(ie=>ie.id===X.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{GE.flushSync(()=>{C(se=>{let ie=se.findIndex(Ie=>Ie.id===X.id);return ie!==-1?[...se.slice(0,ie),{...se[ie],...X},...se.slice(ie+1)]:[X,...se]})})})}),[]),K.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:se})=>{U(se?"dark":"light")})}catch{X.addListener(({matches:ie})=>{try{U(ie?"dark":"light")}catch(Ie){console.error(Ie)}})}},[d]),K.useEffect(()=>{M.length<=1&&D(!1)},[M]),K.useEffect(()=>{let X=se=>{var ie,Ie;s.every(Oe=>se[Oe]||se.code===Oe)&&(D(!0),(ie=W.current)==null||ie.focus()),se.code==="Escape"&&(document.activeElement===W.current||(Ie=W.current)!=null&&Ie.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),K.useEffect(()=>{if(W.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,G.current=!1)}},[W.current]),K.createElement("section",{ref:e,"aria-label":`${N} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((X,se)=>{var ie;let[Ie,Oe]=X.split("-");return M.length?K.createElement("ol",{key:X,dir:E==="auto"?yw():E,tabIndex:-1,ref:W,className:a,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":Ie,"data-lifted":k&&M.length>1&&!i,"data-x-position":Oe,style:{"--front-toast-height":`${((ie=I[0])==null?void 0:ie.height)||0}px`,"--width":`${Q2}px`,"--gap":`${x}px`,...g,...tD(l,u)},onBlur:Y=>{G.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(G.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||G.current||(G.current=!0,j.current=Y.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{P||D(!1)},onDragEnd:()=>D(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},M.filter(Y=>!Y.position&&se===0||Y.position===X).map((Y,be)=>{var Ve,Te;return K.createElement(eD,{key:Y.id,icons:T,index:be,toast:Y,defaultRichColors:h,duration:(Ve=y==null?void 0:y.duration)!=null?Ve:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:b,closeButton:(Te=y==null?void 0:y.closeButton)!=null?Te:o,interacting:P,position:X,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:J,toasts:M.filter(ge=>ge.position==Y.position),heights:I.filter(ge=>ge.position==Y.position),setHeights:A,expandByDefault:i,gap:x,loadingIcon:_,expanded:k,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const rD=({...t})=>{const{theme:e="system"}=R2();return f.jsx(nD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var sD=sg[" useId ".trim().toString()]||(()=>{}),iD=0;function ny(t){const[e,n]=v.useState(sD());return xt(()=>{n(r=>r??String(iD++))},[t]),e?`radix-${e}`:""}const oD=["top","right","bottom","left"],$s=Math.min,an=Math.max,md=Math.round,tu=Math.floor,cr=t=>({x:t,y:t}),aD={left:"right",right:"left",bottom:"top",top:"bottom"},lD={start:"end",end:"start"};function pm(t,e,n){return an(t,$s(e,n))}function Fr(t,e){return typeof t=="function"?t(e):t}function Ur(t){return t.split("-")[0]}function fa(t){return t.split("-")[1]}function ry(t){return t==="x"?"y":"x"}function sy(t){return t==="y"?"height":"width"}const cD=new Set(["top","bottom"]);function or(t){return cD.has(Ur(t))?"y":"x"}function iy(t){return ry(or(t))}function uD(t,e,n){n===void 0&&(n=!1);const r=fa(t),s=iy(t),i=sy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=gd(o)),[o,gd(o)]}function dD(t){const e=gd(t);return[mm(t),e,mm(e)]}function mm(t){return t.replace(/start|end/g,e=>lD[e])}const vw=["left","right"],ww=["right","left"],hD=["top","bottom"],fD=["bottom","top"];function pD(t,e,n){switch(t){case"top":case"bottom":return n?e?ww:vw:e?vw:ww;case"left":case"right":return e?hD:fD;default:return[]}}function mD(t,e,n,r){const s=fa(t);let i=pD(Ur(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(mm)))),i}function gd(t){return t.replace(/left|right|bottom|top/g,e=>aD[e])}function gD(t){return{top:0,right:0,bottom:0,left:0,...t}}function $b(t){return typeof t!="number"?gD(t):{top:t,right:t,bottom:t,left:t}}function yd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function _w(t,e,n){let{reference:r,floating:s}=t;const i=or(e),o=iy(e),a=sy(o),l=Ur(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(fa(e)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const yD=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=_w(u,r,l),m=r,g={},b=0;for(let y=0;y<a.length;y++){const{name:E,fn:x}=a[y],{x:_,y:T,data:N,reset:O}=await x({x:d,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=T??h,g={...g,[E]:{...g[E],...N}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=_w(u,m,l)),y=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:g}};async function Ul(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=Fr(e,t),b=$b(g),E=a[m?h==="floating"?"reference":"floating":h],x=yd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=yd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:l}):_);return{top:(x.top-O.top+b.top)/N.y,bottom:(O.bottom-x.bottom+b.bottom)/N.y,left:(x.left-O.left+b.left)/N.x,right:(O.right-x.right+b.right)/N.x}}const vD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Fr(t,e)||{};if(u==null)return{};const h=$b(d),m={x:n,y:r},g=iy(s),b=sy(g),y=await o.getDimensions(u),E=g==="y",x=E?"top":"left",_=E?"bottom":"right",T=E?"clientHeight":"clientWidth",N=i.reference[b]+i.reference[g]-m[g]-i.floating[b],O=m[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=M?M[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[T]||i.floating[b]);const S=N/2-O/2,I=C/2-y[b]/2-1,A=$s(h[x],I),k=$s(h[_],I),D=A,P=C-y[b]-k,H=C/2-y[b]/2+S,ne=pm(D,H,P),U=!l.arrow&&fa(s)!=null&&H!==ne&&i.reference[b]/2-(H<D?A:k)-y[b]/2<0,W=U?H<D?H-D:H-P:0;return{[g]:m[g]+W,data:{[g]:ne,centerOffset:H-ne-W,...U&&{alignmentOffset:W}},reset:U}}}),wD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...E}=Fr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ur(s),_=or(a),T=Ur(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=m||(T||!y?[gd(a)]:dD(a)),M=b!=="none";!m&&M&&O.push(...mD(a,y,b,N));const C=[a,...O],S=await Ul(e,E),I=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(S[x]),h){const H=uD(s,o,N);I.push(S[H[0]],S[H[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(H=>H<=0)){var k,D;const H=(((k=i.flip)==null?void 0:k.index)||0)+1,ne=C[H];if(ne&&(!(h==="alignment"?_!==or(ne):!1)||A.every(V=>V.overflows[0]>0&&or(V.placement)===_)))return{data:{index:H,overflows:A},reset:{placement:ne}};let U=(D=A.filter(W=>W.overflows[0]<=0).sort((W,V)=>W.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!U)switch(g){case"bestFit":{var P;const W=(P=A.filter(V=>{if(M){const j=or(V.placement);return j===_||j==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(j=>j>0).reduce((j,G)=>j+G,0)]).sort((V,j)=>V[1]-j[1])[0])==null?void 0:P[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function xw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ew(t){return oD.some(e=>t[e]>=0)}const _D=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Fr(t,e);switch(r){case"referenceHidden":{const i=await Ul(e,{...s,elementContext:"reference"}),o=xw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ew(o)}}}case"escaped":{const i=await Ul(e,{...s,altBoundary:!0}),o=xw(i,n.floating);return{data:{escapedOffsets:o,escaped:Ew(o)}}}default:return{}}}}},zb=new Set(["left","top"]);async function xD(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ur(n),a=fa(n),l=or(n)==="y",u=zb.has(o)?-1:1,d=i&&l?-1:1,h=Fr(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(g=a==="end"?b*-1:b),l?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const ED=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await xD(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},bD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x,y:_}=E;return{x,y:_}}},...l}=Fr(t,e),u={x:n,y:r},d=await Ul(e,l),h=or(Ur(s)),m=ry(h);let g=u[m],b=u[h];if(i){const E=m==="y"?"top":"left",x=m==="y"?"bottom":"right",_=g+d[E],T=g-d[x];g=pm(_,g,T)}if(o){const E=h==="y"?"top":"left",x=h==="y"?"bottom":"right",_=b+d[E],T=b-d[x];b=pm(_,b,T)}const y=a.fn({...e,[m]:g,[h]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[h]:o}}}}}},TD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Fr(t,e),d={x:n,y:r},h=or(s),m=ry(h);let g=d[m],b=d[h];const y=Fr(a,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=m==="y"?"height":"width",N=i.reference[m]-i.floating[T]+E.mainAxis,O=i.reference[m]+i.reference[T]-E.mainAxis;g<N?g=N:g>O&&(g=O)}if(u){var x,_;const T=m==="y"?"width":"height",N=zb.has(Ur(s)),O=i.reference[h]-i.floating[T]+(N&&((x=o.offset)==null?void 0:x[h])||0)+(N?0:E.crossAxis),M=i.reference[h]+i.reference[T]+(N?0:((_=o.offset)==null?void 0:_[h])||0)-(N?E.crossAxis:0);b<O?b=O:b>M&&(b=M)}return{[m]:g,[h]:b}}}},SD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Fr(t,e),d=await Ul(e,u),h=Ur(s),m=fa(s),g=or(s)==="y",{width:b,height:y}=i.floating;let E,x;h==="top"||h==="bottom"?(E=h,x=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,E=m==="end"?"top":"bottom");const _=y-d.top-d.bottom,T=b-d.left-d.right,N=$s(y-d[E],_),O=$s(b-d[x],T),M=!e.middlewareData.shift;let C=N,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),M&&!m){const A=an(d.left,0),k=an(d.right,0),D=an(d.top,0),P=an(d.bottom,0);g?S=b-2*(A!==0||k!==0?A+k:an(d.left,d.right)):C=y-2*(D!==0||P!==0?D+P:an(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const I=await o.getDimensions(a.floating);return b!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function ch(){return typeof window<"u"}function pa(t){return Bb(t)?(t.nodeName||"").toLowerCase():"#document"}function dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _r(t){var e;return(e=(Bb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Bb(t){return ch()?t instanceof Node||t instanceof dn(t).Node:!1}function Hn(t){return ch()?t instanceof Element||t instanceof dn(t).Element:!1}function yr(t){return ch()?t instanceof HTMLElement||t instanceof dn(t).HTMLElement:!1}function bw(t){return!ch()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dn(t).ShadowRoot}const CD=new Set(["inline","contents"]);function uc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Wn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!CD.has(s)}const ID=new Set(["table","td","th"]);function RD(t){return ID.has(pa(t))}const AD=[":popover-open",":modal"];function uh(t){return AD.some(e=>{try{return t.matches(e)}catch{return!1}})}const PD=["transform","translate","scale","rotate","perspective"],kD=["transform","translate","scale","rotate","perspective","filter"],ND=["paint","layout","strict","content"];function oy(t){const e=ay(),n=Hn(t)?Wn(t):t;return PD.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||kD.some(r=>(n.willChange||"").includes(r))||ND.some(r=>(n.contain||"").includes(r))}function DD(t){let e=zs(t);for(;yr(e)&&!Zo(e);){if(oy(e))return e;if(uh(e))return null;e=zs(e)}return null}function ay(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OD=new Set(["html","body","#document"]);function Zo(t){return OD.has(pa(t))}function Wn(t){return dn(t).getComputedStyle(t)}function dh(t){return Hn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zs(t){if(pa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bw(t)&&t.host||_r(t);return bw(e)?e.host:e}function Hb(t){const e=zs(t);return Zo(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&uc(e)?e:Hb(e)}function $l(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Hb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=dn(s);if(i){const a=gm(o);return e.concat(o,o.visualViewport||[],uc(s)?s:[],a&&n?$l(a):[])}return e.concat(s,$l(s,[],n))}function gm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wb(t){const e=Wn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=md(n)!==i||md(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ly(t){return Hn(t)?t:t.contextElement}function Po(t){const e=ly(t);if(!yr(e))return cr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Wb(e);let o=(i?md(n.width):n.width)/r,a=(i?md(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const MD=cr(0);function qb(t){const e=dn(t);return!ay()||!e.visualViewport?MD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dn(t)?!1:e}function ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ly(t);let o=cr(1);e&&(r?Hn(r)&&(o=Po(r)):o=Po(t));const a=LD(i,n,r)?qb(i):cr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const m=dn(i),g=r&&Hn(r)?dn(r):r;let b=m,y=gm(b);for(;y&&r&&g!==b;){const E=Po(y),x=y.getBoundingClientRect(),_=Wn(y),T=x.left+(y.clientLeft+parseFloat(_.paddingLeft))*E.x,N=x.top+(y.clientTop+parseFloat(_.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,h*=E.y,l+=T,u+=N,b=dn(y),y=gm(b)}}return yd({width:d,height:h,x:l,y:u})}function cy(t,e){const n=dh(t).scrollLeft;return e?e.left+n:ki(_r(t)).left+n}function Kb(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:cy(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function VD(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=_r(r),a=e?uh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=cr(1);const d=cr(0),h=yr(r);if((h||!h&&!i)&&((pa(r)!=="body"||uc(o))&&(l=dh(r)),yr(r))){const g=ki(r);u=Po(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=o&&!h&&!i?Kb(o,l,!0):cr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-l.scrollTop*u.y+d.y+m.y}}function jD(t){return Array.from(t.getClientRects())}function FD(t){const e=_r(t),n=dh(t),r=t.ownerDocument.body,s=an(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=an(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+cy(t);const a=-n.scrollTop;return Wn(r).direction==="rtl"&&(o+=an(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function UD(t,e){const n=dn(t),r=_r(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=ay();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const $D=new Set(["absolute","fixed"]);function zD(t,e){const n=ki(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=yr(t)?Po(t):cr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function Tw(t,e,n){let r;if(e==="viewport")r=UD(t,n);else if(e==="document")r=FD(_r(t));else if(Hn(e))r=zD(e,n);else{const s=qb(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return yd(r)}function Gb(t,e){const n=zs(t);return n===e||!Hn(n)||Zo(n)?!1:Wn(n).position==="fixed"||Gb(n,e)}function BD(t,e){const n=e.get(t);if(n)return n;let r=$l(t,[],!1).filter(a=>Hn(a)&&pa(a)!=="body"),s=null;const i=Wn(t).position==="fixed";let o=i?zs(t):t;for(;Hn(o)&&!Zo(o);){const a=Wn(o),l=oy(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&$D.has(s.position)||uc(o)&&!l&&Gb(t,o))?r=r.filter(d=>d!==o):s=a,o=zs(o)}return e.set(t,r),r}function HD(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?uh(e)?[]:BD(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=Tw(e,d,s);return u.top=an(h.top,u.top),u.right=$s(h.right,u.right),u.bottom=$s(h.bottom,u.bottom),u.left=an(h.left,u.left),u},Tw(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function WD(t){const{width:e,height:n}=Wb(t);return{width:e,height:n}}function qD(t,e,n){const r=yr(e),s=_r(e),i=n==="fixed",o=ki(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=cr(0);function u(){l.x=cy(s)}if(r||!r&&!i)if((pa(e)!=="body"||uc(s))&&(a=dh(e)),r){const g=ki(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?Kb(s,a):cr(0),h=o.left+a.scrollLeft-l.x-d.x,m=o.top+a.scrollTop-l.y-d.y;return{x:h,y:m,width:o.width,height:o.height}}function Wf(t){return Wn(t).position==="static"}function Sw(t,e){if(!yr(t)||Wn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _r(t)===n&&(n=n.ownerDocument.body),n}function Qb(t,e){const n=dn(t);if(uh(t))return n;if(!yr(t)){let s=zs(t);for(;s&&!Zo(s);){if(Hn(s)&&!Wf(s))return s;s=zs(s)}return n}let r=Sw(t,e);for(;r&&RD(r)&&Wf(r);)r=Sw(r,e);return r&&Zo(r)&&Wf(r)&&!oy(r)?n:r||DD(t)||n}const KD=async function(t){const e=this.getOffsetParent||Qb,n=this.getDimensions,r=await n(t.floating);return{reference:qD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GD(t){return Wn(t).direction==="rtl"}const QD={convertOffsetParentRelativeRectToViewportRelativeRect:VD,getDocumentElement:_r,getClippingRect:HD,getOffsetParent:Qb,getElementRects:KD,getClientRects:jD,getDimensions:WD,getScale:Po,isElement:Hn,isRTL:GD};function Yb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function YD(t,e){let n=null,r;const s=_r(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=u;if(a||e(),!m||!g)return;const b=tu(h),y=tu(s.clientWidth-(d+m)),E=tu(s.clientHeight-(h+g)),x=tu(d),T={rootMargin:-b+"px "+-y+"px "+-E+"px "+-x+"px",threshold:an(0,$s(1,l))||1};let N=!0;function O(M){const C=M[0].intersectionRatio;if(C!==l){if(!N)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Yb(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function XD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ly(t),d=s||i?[...u?$l(u):[],...$l(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&a?YD(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let b,y=l?ki(t):null;l&&E();function E(){const x=ki(t);y&&!Yb(y,x)&&n(),y=x,b=requestAnimationFrame(E)}return n(),()=>{var x;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(b)}}const JD=ED,ZD=bD,eO=wD,tO=SD,nO=_D,Cw=vD,rO=TD,sO=(t,e,n)=>{const r=new Map,s={platform:QD,...n},i={...s.platform,_c:r};return yD(t,e,{...s,platform:i})};var iO=typeof document<"u",oO=function(){},Pu=iO?v.useLayoutEffect:oO;function vd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!vd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!vd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Xb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Iw(t,e){const n=Xb(t);return Math.round(e*n)/n}function qf(t){const e=v.useRef(t);return Pu(()=>{e.current=t}),e}function aO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=v.useState(r);vd(m,r)||g(r);const[b,y]=v.useState(null),[E,x]=v.useState(null),_=v.useCallback(V=>{V!==M.current&&(M.current=V,y(V))},[]),T=v.useCallback(V=>{V!==C.current&&(C.current=V,x(V))},[]),N=i||b,O=o||E,M=v.useRef(null),C=v.useRef(null),S=v.useRef(d),I=l!=null,A=qf(l),k=qf(s),D=qf(u),P=v.useCallback(()=>{if(!M.current||!C.current)return;const V={placement:e,strategy:n,middleware:m};k.current&&(V.platform=k.current),sO(M.current,C.current,V).then(j=>{const G={...j,isPositioned:D.current!==!1};H.current&&!vd(S.current,G)&&(S.current=G,zi.flushSync(()=>{h(G)}))})},[m,e,n,k,D]);Pu(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const H=v.useRef(!1);Pu(()=>(H.current=!0,()=>{H.current=!1}),[]),Pu(()=>{if(N&&(M.current=N),O&&(C.current=O),N&&O){if(A.current)return A.current(N,O,P);P()}},[N,O,P,A,I]);const ne=v.useMemo(()=>({reference:M,floating:C,setReference:_,setFloating:T}),[_,T]),U=v.useMemo(()=>({reference:N,floating:O}),[N,O]),W=v.useMemo(()=>{const V={position:n,left:0,top:0};if(!U.floating)return V;const j=Iw(U.floating,d.x),G=Iw(U.floating,d.y);return a?{...V,transform:"translate("+j+"px, "+G+"px)",...Xb(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:G}},[n,a,U.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:P,refs:ne,elements:U,floatingStyles:W}),[d,P,ne,U,W])}const lO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Cw({element:r.current,padding:s}).fn(n):{}:r?Cw({element:r,padding:s}).fn(n):{}}}},cO=(t,e)=>({...JD(t),options:[t,e]}),uO=(t,e)=>({...ZD(t),options:[t,e]}),dO=(t,e)=>({...rO(t),options:[t,e]}),hO=(t,e)=>({...eO(t),options:[t,e]}),fO=(t,e)=>({...tO(t),options:[t,e]}),pO=(t,e)=>({...nO(t),options:[t,e]}),mO=(t,e)=>({...lO(t),options:[t,e]});var gO="Arrow",Jb=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jb.displayName=gO;var yO=Jb;function Zb(t){const[e,n]=v.useState(void 0);return xt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var uy="Popper",[eT,hh]=Bi(uy),[vO,tT]=eT(uy),nT=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return f.jsx(vO,{scope:e,anchor:r,onAnchorChange:s,children:n})};nT.displayName=uy;var rT="PopperAnchor",sT=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=tT(rT,n),o=v.useRef(null),a=Pe(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(xe.div,{...s,ref:a})});sT.displayName=rT;var dy="PopperContent",[wO,_O]=eT(dy),iT=v.forwardRef((t,e)=>{var Y,be,Ve,Te,ge,_e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:b,...y}=t,E=tT(dy,n),[x,_]=v.useState(null),T=Pe(e,nt=>_(nt)),[N,O]=v.useState(null),M=Zb(N),C=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],D=k.length>0,P={padding:A,boundary:k.filter(EO),altBoundary:D},{refs:H,floatingStyles:ne,placement:U,isPositioned:W,middlewareData:V}=aO({strategy:"fixed",placement:I,whileElementsMounted:(...nt)=>XD(...nt,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[cO({mainAxis:s+S,alignmentAxis:o}),l&&uO({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?dO():void 0,...P}),l&&hO({...P}),fO({...P,apply:({elements:nt,rects:jt,availableWidth:Er,availableHeight:mn})=>{const{width:Cn,height:Gr}=jt.reference,He=nt.floating.style;He.setProperty("--radix-popper-available-width",`${Er}px`),He.setProperty("--radix-popper-available-height",`${mn}px`),He.setProperty("--radix-popper-anchor-width",`${Cn}px`),He.setProperty("--radix-popper-anchor-height",`${Gr}px`)}}),N&&mO({element:N,padding:a}),bO({arrowWidth:C,arrowHeight:S}),m&&pO({strategy:"referenceHidden",...P})]}),[j,G]=lT(U),J=wt(b);xt(()=>{W&&(J==null||J())},[W,J]);const X=(Y=V.arrow)==null?void 0:Y.x,se=(be=V.arrow)==null?void 0:be.y,ie=((Ve=V.arrow)==null?void 0:Ve.centerOffset)!==0,[Ie,Oe]=v.useState();return xt(()=>{x&&Oe(window.getComputedStyle(x).zIndex)},[x]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:W?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[(Te=V.transformOrigin)==null?void 0:Te.x,(ge=V.transformOrigin)==null?void 0:ge.y].join(" "),...((_e=V.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(wO,{scope:n,placedSide:j,onArrowChange:O,arrowX:X,arrowY:se,shouldHideArrow:ie,children:f.jsx(xe.div,{"data-side":j,"data-align":G,...y,ref:T,style:{...y.style,animation:W?void 0:"none"}})})})});iT.displayName=dy;var oT="PopperArrow",xO={top:"bottom",right:"left",bottom:"top",left:"right"},aT=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=_O(oT,r),o=xO[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(yO,{...s,ref:n,style:{...s.style,display:"block"}})})});aT.displayName=oT;function EO(t){return t!==null}var bO=t=>({name:"transformOrigin",options:t,fn(e){var E,x,_;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=lT(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let b="",y="";return u==="bottom"?(b=o?h:`${m}px`,y=`${-l}px`):u==="top"?(b=o?h:`${m}px`,y=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,y=o?h:`${g}px`):u==="left"&&(b=`${r.floating.width+l}px`,y=o?h:`${g}px`),{data:{x:b,y}}}});function lT(t){const[e,n="center"]=t.split("-");return[e,n]}var TO=nT,cT=sT,uT=iT,dT=aT,[fh,KU]=Bi("Tooltip",[hh]),hy=hh(),hT="TooltipProvider",SO=700,Rw="tooltip.open",[CO,fT]=fh(hT),pT=t=>{const{__scopeTooltip:e,delayDuration:n=SO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),f.jsx(CO,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};pT.displayName=hT;var mT="Tooltip",[GU,ph]=fh(mT),ym="TooltipTrigger",IO=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ph(ym,n),i=fT(ym,n),o=hy(n),a=v.useRef(null),l=Pe(e,a,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(cT,{asChild:!0,...o,children:f.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ue(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ue(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ue(t.onBlur,s.onClose),onClick:ue(t.onClick,s.onClose)})})});IO.displayName=ym;var RO="TooltipPortal",[QU,AO]=fh(RO,{forceMount:void 0}),ea="TooltipContent",gT=v.forwardRef((t,e)=>{const n=AO(ea,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=ph(ea,t.__scopeTooltip);return f.jsx(Hi,{present:r||o.open,children:o.disableHoverableContent?f.jsx(yT,{side:s,...i,ref:e}):f.jsx(PO,{side:s,...i,ref:e})})}),PO=v.forwardRef((t,e)=>{const n=ph(ea,t.__scopeTooltip),r=fT(ea,t.__scopeTooltip),s=v.useRef(null),i=Pe(e,s),[o,a]=v.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,m=v.useCallback(()=>{a(null),h(!1)},[h]),g=v.useCallback((b,y)=>{const E=b.currentTarget,x={x:b.clientX,y:b.clientY},_=MO(x,E.getBoundingClientRect()),T=LO(x,_),N=VO(y.getBoundingClientRect()),O=FO([...T,...N]);a(O),h(!0)},[h]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(l&&d){const b=E=>g(E,d),y=E=>g(E,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",y)}}},[l,d,g,m]),v.useEffect(()=>{if(o){const b=y=>{const E=y.target,x={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),T=!jO(x,o);_?m():T&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,u,m]),f.jsx(yT,{...t,ref:i})}),[kO,NO]=fh(mT,{isInside:!1}),DO=Nk("TooltipContent"),yT=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=ph(ea,n),u=hy(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(Rw,d),()=>document.removeEventListener(Rw,d)),[d]),v.useEffect(()=>{if(l.trigger){const h=m=>{const g=m.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(oh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(uT,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(DO,{children:r}),f.jsx(kO,{scope:n,isInside:!0,children:f.jsx(eN,{id:l.contentId,role:"tooltip",children:s||r})})]})})});gT.displayName=ea;var vT="TooltipArrow",OO=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=hy(n);return NO(vT,n).isInside?null:f.jsx(dT,{...s,...r,ref:e})});OO.displayName=vT;function MO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function LO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function VO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function jO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,m=l.y;d>r!=m>r&&n<(h-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function FO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),UO(e)}function UO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var $O=pT,wT=gT;const zO=$O,BO=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(wT,{ref:r,sideOffset:e,className:tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));BO.displayName=wT.displayName;var mh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gh=typeof window>"u"||"Deno"in globalThis;function Dn(){}function HO(t,e){return typeof t=="function"?t(e):t}function WO(t){return typeof t=="number"&&t>=0&&t!==1/0}function qO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vm(t,e){return typeof t=="function"?t(e):t}function KO(t,e){return typeof t=="function"?t(e):t}function Aw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==fy(o,e.options))return!1}else if(!Bl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Pw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(zl(e.options.mutationKey)!==zl(i))return!1}else if(!Bl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function fy(t,e){return((e==null?void 0:e.queryKeyHashFn)||zl)(t)}function zl(t){return JSON.stringify(t,(e,n)=>wm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Bl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bl(t[n],e[n])):!1}function _T(t,e){if(t===e)return t;const n=kw(t)&&kw(e);if(n||wm(t)&&wm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=_T(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function kw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wm(t){if(!Nw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Nw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Nw(t){return Object.prototype.toString.call(t)==="[object Object]"}function GO(t){return new Promise(e=>{setTimeout(e,t)})}function QO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?_T(t,e):e}function YO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function XO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var py=Symbol();function xT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===py?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gi,gs,jo,Ix,JO=(Ix=class extends mh{constructor(){super();Ce(this,gi);Ce(this,gs);Ce(this,jo);he(this,jo,e=>{if(!gh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,gs)||this.setEventListener($(this,jo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,gs))==null||e.call(this),he(this,gs,void 0))}setEventListener(e){var n;he(this,jo,e),(n=$(this,gs))==null||n.call(this),he(this,gs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,gi)!==e&&(he(this,gi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,gi)=="boolean"?$(this,gi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gi=new WeakMap,gs=new WeakMap,jo=new WeakMap,Ix),ET=new JO,Fo,ys,Uo,Rx,ZO=(Rx=class extends mh{constructor(){super();Ce(this,Fo,!0);Ce(this,ys);Ce(this,Uo);he(this,Uo,e=>{if(!gh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,ys)||this.setEventListener($(this,Uo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ys))==null||e.call(this),he(this,ys,void 0))}setEventListener(e){var n;he(this,Uo,e),(n=$(this,ys))==null||n.call(this),he(this,ys,e(this.setOnline.bind(this)))}setOnline(e){$(this,Fo)!==e&&(he(this,Fo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Fo)}},Fo=new WeakMap,ys=new WeakMap,Uo=new WeakMap,Rx),wd=new ZO;function eM(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function tM(t){return Math.min(1e3*2**t,3e4)}function bT(t){return(t??"online")==="online"?wd.isOnline():!0}var TT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kf(t){return t instanceof TT}function ST(t){let e=!1,n=0,r=!1,s;const i=eM(),o=y=>{var E;r||(m(new TT(y)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ET.isFocused()&&(t.networkMode==="always"||wd.isOnline())&&t.canRun(),d=()=>bT(t.networkMode)&&t.canRun(),h=y=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,y),s==null||s(),i.resolve(y))},m=y=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var E;s=x=>{(r||u())&&y(x)},(E=t.onPause)==null||E.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),b=()=>{if(r)return;let y;const E=n===0?t.initialPromise:void 0;try{y=E??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(h).catch(x=>{var M;if(r)return;const _=t.retry??(gh?0:3),T=t.retryDelay??tM,N=typeof T=="function"?T(n,x):T,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,x);if(e||!O){m(x);return}n++,(M=t.onFail)==null||M.call(t,n,x),GO(N).then(()=>u()?void 0:g()).then(()=>{e?m(x):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():g().then(b),i)}}var nM=t=>setTimeout(t,0);function rM(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=nM;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var zt=rM(),yi,Ax,CT=(Ax=class{constructor(){Ce(this,yi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),WO(this.gcTime)&&he(this,yi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(gh?1/0:5*60*1e3))}clearGcTimeout(){$(this,yi)&&(clearTimeout($(this,yi)),he(this,yi,void 0))}},yi=new WeakMap,Ax),$o,vi,yn,wi,Nt,nc,_i,On,Cr,Px,sM=(Px=class extends CT{constructor(n){super();Ce(this,On);Ce(this,$o);Ce(this,vi);Ce(this,yn);Ce(this,wi);Ce(this,Nt);Ce(this,nc);Ce(this,_i);he(this,_i,!1),he(this,nc,n.defaultOptions),this.setOptions(n.options),this.observers=[],he(this,wi,n.client),he(this,yn,$(this,wi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,he(this,$o,oM(this.options)),this.state=n.state??$(this,$o),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Nt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,nc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,yn).remove(this)}setData(n,r){const s=QO(this.state.data,n,this.options);return Rt(this,On,Cr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Rt(this,On,Cr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,Nt))==null?void 0:s.promise;return(i=$(this,Nt))==null||i.cancel(n),r?r.then(Dn).catch(Dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,$o))}isActive(){return this.observers.some(n=>KO(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===py||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>vm(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!qO(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Nt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Nt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,yn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Nt)&&($(this,_i)?$(this,Nt).cancel({revert:!0}):$(this,Nt).cancelRetry()),this.scheduleGc()),$(this,yn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rt(this,On,Cr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Nt))return $(this,Nt).continueRetry(),$(this,Nt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(b=>b.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(he(this,_i,!0),s.signal)})},o=()=>{const g=xT(this.options,r),y=(()=>{const E={client:$(this,wi),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return he(this,_i,!1),this.options.persister?this.options.persister(g,y,this):g(y)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,wi),state:this.state,fetchFn:o};return i(g),g})();(d=this.options.behavior)==null||d.onFetch(l,this),he(this,vi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Rt(this,On,Cr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=g=>{var b,y,E,x;Kf(g)&&g.silent||Rt(this,On,Cr).call(this,{type:"error",error:g}),Kf(g)||((y=(b=$(this,yn).config).onError)==null||y.call(b,g,this),(x=(E=$(this,yn).config).onSettled)==null||x.call(E,this.state.data,g,this)),this.scheduleGc()};return he(this,Nt,ST({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var b,y,E,x;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){u(_);return}(y=(b=$(this,yn).config).onSuccess)==null||y.call(b,g,this),(x=(E=$(this,yn).config).onSettled)==null||x.call(E,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,b)=>{Rt(this,On,Cr).call(this,{type:"failed",failureCount:g,error:b})},onPause:()=>{Rt(this,On,Cr).call(this,{type:"pause"})},onContinue:()=>{Rt(this,On,Cr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),$(this,Nt).start()}},$o=new WeakMap,vi=new WeakMap,yn=new WeakMap,wi=new WeakMap,Nt=new WeakMap,nc=new WeakMap,_i=new WeakMap,On=new WeakSet,Cr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...iM(s.data,this.options),fetchMeta:n.meta??null};case"success":return he(this,vi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Kf(i)&&i.revert&&$(this,vi)?{...$(this,vi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,yn).notify({query:this,type:"updated",action:n})})},Px);function iM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function oM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tr,kx,aM=(kx=class extends mh{constructor(e={}){super();Ce(this,tr);this.config=e,he(this,tr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??fy(s,n);let o=this.get(i);return o||(o=new sM({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,tr).has(e.queryHash)||($(this,tr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,tr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,tr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,tr).get(e)}getAll(){return[...$(this,tr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Aw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Aw(e,r)):n}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tr=new WeakMap,kx),nr,Ut,xi,rr,os,Nx,lM=(Nx=class extends CT{constructor(n){super();Ce(this,rr);Ce(this,nr);Ce(this,Ut);Ce(this,xi);this.mutationId=n.mutationId,he(this,Ut,n.mutationCache),he(this,nr,[]),this.state=n.state||cM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,nr).includes(n)||($(this,nr).push(n),this.clearGcTimeout(),$(this,Ut).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){he(this,nr,$(this,nr).filter(r=>r!==n)),this.scheduleGc(),$(this,Ut).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,nr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Ut).remove(this))}continue(){var n;return((n=$(this,xi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,h,m,g,b,y,E,x,_,T,N,O,M,C,S,I;const r=()=>{Rt(this,rr,os).call(this,{type:"continue"})};he(this,xi,ST({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{Rt(this,rr,os).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{Rt(this,rr,os).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Ut).canRun(this)}));const s=this.state.status==="pending",i=!$(this,xi).canStart();try{if(s)r();else{Rt(this,rr,os).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=$(this,Ut).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));k!==this.state.context&&Rt(this,rr,os).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const A=await $(this,xi).start();return await((h=(d=$(this,Ut).config).onSuccess)==null?void 0:h.call(d,A,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,A,n,this.state.context)),await((y=(b=$(this,Ut).config).onSettled)==null?void 0:y.call(b,A,null,this.state.variables,this.state.context,this)),await((x=(E=this.options).onSettled)==null?void 0:x.call(E,A,null,n,this.state.context)),Rt(this,rr,os).call(this,{type:"success",data:A}),A}catch(A){try{throw await((T=(_=$(this,Ut).config).onError)==null?void 0:T.call(_,A,n,this.state.context,this)),await((O=(N=this.options).onError)==null?void 0:O.call(N,A,n,this.state.context)),await((C=(M=$(this,Ut).config).onSettled)==null?void 0:C.call(M,void 0,A,this.state.variables,this.state.context,this)),await((I=(S=this.options).onSettled)==null?void 0:I.call(S,void 0,A,n,this.state.context)),A}finally{Rt(this,rr,os).call(this,{type:"error",error:A})}}finally{$(this,Ut).runNext(this)}}},nr=new WeakMap,Ut=new WeakMap,xi=new WeakMap,rr=new WeakSet,os=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zt.batch(()=>{$(this,nr).forEach(s=>{s.onMutationUpdate(n)}),$(this,Ut).notify({mutation:this,type:"updated",action:n})})},Nx);function cM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ar,Mn,rc,Dx,uM=(Dx=class extends mh{constructor(e={}){super();Ce(this,Ar);Ce(this,Mn);Ce(this,rc);this.config=e,he(this,Ar,new Set),he(this,Mn,new Map),he(this,rc,0)}build(e,n,r){const s=new lM({mutationCache:this,mutationId:++Oc(this,rc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){$(this,Ar).add(e);const n=nu(e);if(typeof n=="string"){const r=$(this,Mn).get(n);r?r.push(e):$(this,Mn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,Ar).delete(e)){const n=nu(e);if(typeof n=="string"){const r=$(this,Mn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&$(this,Mn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=nu(e);if(typeof n=="string"){const r=$(this,Mn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=nu(e);if(typeof n=="string"){const s=(r=$(this,Mn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zt.batch(()=>{$(this,Ar).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,Ar).clear(),$(this,Mn).clear()})}getAll(){return Array.from($(this,Ar))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Pw(n,r))}findAll(e={}){return this.getAll().filter(n=>Pw(e,n))}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dn))))}},Ar=new WeakMap,Mn=new WeakMap,rc=new WeakMap,Dx);function nu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Dw(t){return{onFetch:(e,n)=>{var d,h,m,g,b;const r=e.options,s=(m=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=xT(e.options,e.fetchOptions),_=async(T,N,O)=>{if(y)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const C=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:N,direction:O?"backward":"forward",meta:e.options.meta};return E(k),k})(),S=await x(C),{maxPages:I}=e.options,A=O?XO:YO;return{pages:A(T.pages,S,I),pageParams:A(T.pageParams,N,I)}};if(s&&i.length){const T=s==="backward",N=T?dM:Ow,O={pages:i,pageParams:o},M=N(r,O);a=await _(O,M,T)}else{const T=t??i.length;do{const N=l===0?o[0]??r.initialPageParam:Ow(r,a);if(l>0&&N==null)break;a=await _(a,N),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var y,E;return(E=(y=e.options).persister)==null?void 0:E.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Ow(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function dM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,vs,ws,zo,Bo,_s,Ho,Wo,Ox,hM=(Ox=class{constructor(t={}){Ce(this,Xe);Ce(this,vs);Ce(this,ws);Ce(this,zo);Ce(this,Bo);Ce(this,_s);Ce(this,Ho);Ce(this,Wo);he(this,Xe,t.queryCache||new aM),he(this,vs,t.mutationCache||new uM),he(this,ws,t.defaultOptions||{}),he(this,zo,new Map),he(this,Bo,new Map),he(this,_s,0)}mount(){Oc(this,_s)._++,$(this,_s)===1&&(he(this,Ho,ET.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Xe).onFocus())})),he(this,Wo,wd.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Xe).onOnline())})))}unmount(){var t,e;Oc(this,_s)._--,$(this,_s)===0&&((t=$(this,Ho))==null||t.call(this),he(this,Ho,void 0),(e=$(this,Wo))==null||e.call(this),he(this,Wo,void 0))}isFetching(t){return $(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,vs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vm(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=HO(e,i);if(o!==void 0)return $(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return zt.batch(()=>$(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,Xe);zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,Xe);return zt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zt.batch(()=>$(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Dn).catch(Dn)}invalidateQueries(t,e={}){return zt.batch(()=>($(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zt.batch(()=>$(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Dn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,Xe).build(this,e);return n.isStaleByTime(vm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dn).catch(Dn)}fetchInfiniteQuery(t){return t.behavior=Dw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dn).catch(Dn)}ensureInfiniteQueryData(t){return t.behavior=Dw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wd.isOnline()?$(this,vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Xe)}getMutationCache(){return $(this,vs)}getDefaultOptions(){return $(this,ws)}setDefaultOptions(t){he(this,ws,t)}setQueryDefaults(t,e){$(this,zo).set(zl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,zo).values()],n={};return e.forEach(r=>{Bl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,Bo).set(zl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,Bo).values()],n={};return e.forEach(r=>{Bl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,ws).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===py&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,ws).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,Xe).clear(),$(this,vs).clear()}},Xe=new WeakMap,vs=new WeakMap,ws=new WeakMap,zo=new WeakMap,Bo=new WeakMap,_s=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,Ox),fM=v.createContext(void 0),pM=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(fM.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}var bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bs||(bs={}));const Mw="popstate";function mM(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Wi(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),_m("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:IT(i))}function r(s,i){my(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return yM(e,n,r,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function my(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gM(){return Math.random().toString(36).substr(2,8)}function Lw(t,e){return{usr:t.state,key:t.key,idx:e}}function _m(t,e,n,r){return n===void 0&&(n=null),Hl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wi(e):e,{state:n,key:e&&e.key||r||gM()})}function IT(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Hl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=bs.Pop;let E=d(),x=E==null?null:E-u;u=E,l&&l({action:a,location:y.location,delta:x})}function m(E,x){a=bs.Push;let _=_m(y.location,E,x);n&&n(_,E),u=d()+1;let T=Lw(_,u),N=y.createHref(_);try{o.pushState(T,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}i&&l&&l({action:a,location:y.location,delta:1})}function g(E,x){a=bs.Replace;let _=_m(y.location,E,x);n&&n(_,E),u=d();let T=Lw(_,u),N=y.createHref(_);o.replaceState(T,"",N),i&&l&&l({action:a,location:y.location,delta:0})}function b(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof E=="string"?E:IT(E);return _=_.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let y={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Mw,h),l=E,()=>{s.removeEventListener(Mw,h),l=null}},createHref(E){return e(s,E)},createURL:b,encodeLocation(E){let x=b(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(E){return o.go(E)}};return y}var Vw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vw||(Vw={}));function vM(t,e,n){return n===void 0&&(n="/"),wM(t,e,n,!1)}function wM(t,e,n,r){let s=typeof e=="string"?Wi(e):e,i=PT(s.pathname||"/",n);if(i==null)return null;let o=RT(t);_M(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=kM(i);a=AM(o[l],u,r)}return a}function RT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ti([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RT(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:IM(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of AT(i.path))s(i,o,l)}),e}function AT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=AT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _M(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xM=/^:[\w-]+$/,EM=3,bM=2,TM=1,SM=10,CM=-2,jw=t=>t==="*";function IM(t,e){let n=t.split("/"),r=n.length;return n.some(jw)&&(r+=CM),e&&(r+=bM),n.filter(s=>!jw(s)).reduce((s,i)=>s+(xM.test(i)?EM:i===""?TM:SM),r)}function RM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function AM(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Fw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Fw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ti([i,h.pathname]),pathnameBase:VM(Ti([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ti([i,h.pathnameBase]))}return o}function Fw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=a[h];return g&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function PM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),my(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function kM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return my(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function PT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wi(t):t;return{pathname:n?n.startsWith("/")?n:DM(n,e):e,search:jM(r),hash:FM(s)}}function DM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Gf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MM(t,e){let n=OM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function LM(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Wi(t):(s=Hl({},t),ht(!s.pathname||!s.pathname.includes("?"),Gf("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Gf("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Gf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=NM(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),VM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kT=["post","put","patch","delete"];new Set(kT);const $M=["get",...kT];new Set($M);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}const gy=v.createContext(null),zM=v.createContext(null),yh=v.createContext(null),vh=v.createContext(null),qi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),NT=v.createContext(null);function wh(){return v.useContext(vh)!=null}function yy(){return wh()||ht(!1),v.useContext(vh).location}function DT(t){v.useContext(yh).static||v.useLayoutEffect(t)}function _h(){let{isDataRoute:t}=v.useContext(qi);return t?nL():BM()}function BM(){wh()||ht(!1);let t=v.useContext(gy),{basename:e,future:n,navigator:r}=v.useContext(yh),{matches:s}=v.useContext(qi),{pathname:i}=yy(),o=JSON.stringify(MM(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return DT(()=>{a.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=LM(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ti([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function HM(){let{matches:t}=v.useContext(qi),e=t[t.length-1];return e?e.params:{}}function WM(t,e){return qM(t,e)}function qM(t,e,n,r){wh()||ht(!1);let{navigator:s}=v.useContext(yh),{matches:i}=v.useContext(qi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=yy(),d;if(e){var h;let E=typeof e=="string"?Wi(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||ht(!1),d=E}else d=u;let m=d.pathname||"/",g=m;if(l!=="/"){let E=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=vM(t,{pathname:g}),y=XM(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ti([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Ti([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&y?v.createElement(vh.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bs.Pop}},y):y}function KM(){let t=tL(),e=UM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const GM=v.createElement(KM,null);class QM extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(qi.Provider,{value:this.props.routeContext},v.createElement(NT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YM(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(gy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(qi.Provider,{value:e},r)}function XM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=n,b=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let g,b=!1,y=null,E=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||GM,l&&(u<0&&m===0?(b=!0,E=null):u===m&&(b=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),_=()=>{let T;return g?T=y:b?T=E:h.route.Component?T=v.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,v.createElement(YM,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?v.createElement(QM,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var OT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OT||{}),_d=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_d||{});function JM(t){let e=v.useContext(gy);return e||ht(!1),e}function ZM(t){let e=v.useContext(zM);return e||ht(!1),e}function eL(t){let e=v.useContext(qi);return e||ht(!1),e}function MT(t){let e=eL(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function tL(){var t;let e=v.useContext(NT),n=ZM(_d.UseRouteError),r=MT(_d.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nL(){let{router:t}=JM(OT.UseNavigateStable),e=MT(_d.UseNavigateStable),n=v.useRef(!1);return DT(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Wl({fromRouteId:e},i)))},[t,e])}function rL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ja(t){ht(!1)}function sL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bs.Pop,navigator:i,static:o=!1,future:a}=t;wh()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Wl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Wi(r));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:b="default"}=r,y=v.useMemo(()=>{let E=PT(d,l);return E==null?null:{location:{pathname:E,search:h,hash:m,state:g,key:b},navigationType:s}},[l,d,h,m,g,b,s]);return y==null?null:v.createElement(yh.Provider,{value:u},v.createElement(vh.Provider,{children:n,value:y}))}function iL(t){let{children:e,location:n}=t;return WM(xm(e),n)}new Promise(()=>{});function xm(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,xm(r.props.children,i));return}r.type!==Ja&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oL="6";try{window.__reactRouterVersion=oL}catch{}const aL="startTransition",Uw=sg[aL];function lL(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=mM({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(h=>{u&&Uw?Uw(()=>l(h)):l(h)},[l,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>rL(r),[r]),v.createElement(sL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var $w;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($w||($w={}));var zw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zw||(zw={}));const LT=v.createContext({theme:"light",toggleTheme:()=>{}}),cL=({children:t})=>{const[e,n]=v.useState(()=>localStorage.getItem("theme")||"dark");v.useEffect(()=>{const s=document.documentElement;e==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>n(s=>s==="dark"?"light":"dark");return f.jsx(LT.Provider,{value:{theme:e,toggleTheme:r},children:t})},uL=()=>v.useContext(LT),pl=v.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:tt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));pl.displayName="Input";const dL=[{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"medium"},{word:"",category:"food",difficulty:"hard"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"food",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"medium"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"cities",difficulty:"easy"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"medium"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"hard"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"traditions",difficulty:"medium"},{word:"",category:"traditions",difficulty:"easy"},{word:"",category:"dialect",difficulty:"medium"},{word:"",category:"dialect",difficulty:"easy"},{word:"",category:"dialect",difficulty:"easy"},{word:"",category:"dialect",difficulty:"easy"},{word:"",category:"dialect",difficulty:"easy"},{word:"",category:"dialect",difficulty:"medium"},{word:"",category:"dialect",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"easy"},{word:" ",category:"celebrities",difficulty:"medium"},{word:"",category:"landmarks",difficulty:"easy"},{word:" ",category:"landmarks",difficulty:"medium"},{word:"",category:"landmarks",difficulty:"medium"},{word:" ",category:"landmarks",difficulty:"easy"},{word:"",category:"landmarks",difficulty:"easy"},{word:"",category:"animals",difficulty:"easy"},{word:"",category:"animals",difficulty:"easy"},{word:"",category:"animals",difficulty:"medium"},{word:"",category:"animals",difficulty:"hard"},{word:"",category:"animals",difficulty:"medium"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"easy"},{word:"",category:"sports",difficulty:"medium"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"nature",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"objects",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"},{word:"",category:"professions",difficulty:"easy"}];function hL(t=25){const n=[...dL.filter(i=>i.word.trim().split(/\s+/).length<=2)].sort(()=>Math.random()-.5),r=[],s={};for(const i of n){if(r.length>=t)break;const o=i.category;s[o]=s[o]||0,s[o]<4&&(r.push(i),s[o]++)}return r}const fL=[{label:" ",value:30},{label:"",value:60},{label:" ",value:180},{label:" ",value:300}],VT={timeLimitEnabled:!1,spymasterTimerEnabled:!0,normalTimerEnabled:!0,spymasterDuration:60,normalDuration:60};function pL(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function mL(t){const e=[],n=t==="red"?9:8,r=t==="blue"?9:8;for(let s=0;s<n;s++)e.push("red");for(let s=0;s<r;s++)e.push("blue");for(let s=0;s<7;s++)e.push("neutral");return e.push("assassin"),e.sort(()=>Math.random()-.5)}function jT(t){const e=hL(25),n=Math.random()<.5?"red":"blue",r=mL(n),s=e.map((o,a)=>({word:o,type:r[a],revealed:!1,highlighted:!1})),i=crypto.randomUUID();return{roomCode:pL(),phase:"lobby",turnPhase:"hint",cards:s,currentTeam:n,scores:{red:0,blue:0},targetScores:{red:n==="red"?9:8,blue:n==="blue"?9:8},timer:90,maxTime:90,players:[{id:i,name:t,team:n,isSpymaster:!1,isHost:!0}],winner:null,hostId:i,currentHint:null,guessesRemaining:0,lobbySettings:{...VT},history:[]}}function gL(t,e){const n={...t},r={...n.cards[e]};return r.revealed?t:(r.revealed=!0,n.cards=[...t.cards],n.cards[e]=r,r.type==="assassin"?(n.phase="finished",n.winner=t.currentTeam==="red"?"blue":"red",n):(r.type==="red"?n.scores={...t.scores,red:t.scores.red+1}:r.type==="blue"&&(n.scores={...t.scores,blue:t.scores.blue+1}),n.scores.red>=n.targetScores.red?(n.phase="finished",n.winner="red",n):n.scores.blue>=n.targetScores.blue?(n.phase="finished",n.winner="blue",n):r.type!==t.currentTeam?(n.currentTeam=t.currentTeam==="red"?"blue":"red",n.timer=n.maxTime,n.turnPhase="hint",n.currentHint=null,n.guessesRemaining=0,n):(n.guessesRemaining=Math.max(0,t.guessesRemaining-1),n.guessesRemaining===0&&(n.currentTeam=t.currentTeam==="red"?"blue":"red",n.timer=n.maxTime,n.turnPhase="hint",n.currentHint=null),n)))}function yL(t,e){const n={...t};return n.cards=[...t.cards],n.cards[e]={...t.cards[e],highlighted:!t.cards[e].highlighted},n}const vy="/kalimat-al-sir/assets/pattern-bg-AroNNcph.png",vL=()=>{};var Bw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},UT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),r.push(n[d],n[h],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new _L;const m=i<<2|a>>4;if(r.push(m),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xL=function(t){const e=FT(t);return UT.encodeByteArray(e,!0)},xd=function(t){return xL(t).replace(/\./g,"")},$T=function(t){try{return UT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=()=>EL().__FIREBASE_DEFAULTS__,TL=()=>{if(typeof process>"u"||typeof Bw>"u")return;const t=Bw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$T(t[1]);return e&&JSON.parse(e)},xh=()=>{try{return vL()||bL()||TL()||SL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zT=t=>{var e,n;return(n=(e=xh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},CL=t=>{const e=zT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BT=()=>{var t;return(t=xh())==null?void 0:t.config},HT=t=>{var e;return(e=xh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[xd(JSON.stringify(n)),xd(JSON.stringify(o)),""].join(".")}const ml={};function AL(){const t={prod:[],emulator:[]};for(const e of Object.keys(ml))ml[e]?t.emulator.push(e):t.prod.push(e);return t}function PL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Hw=!1;function qT(t,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||ml[t]===e||ml[t]||Hw)return;ml[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=AL().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Hw=!0,o()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=PL(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),E=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),_=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),d(E,y);const N=u();l(_,x),T.append(_,b,E,N),document.body.appendChild(T)}i?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function NL(){var e;const t=(e=xh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ML(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LL(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VL(){return!NL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jL(){try{return typeof indexedDB=="object"}catch{return!1}}function FL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="FirebaseError";class Kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UL,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$L(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Kr(s,a,r)}}function $L(t,e){return t.replace(zL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zL=/\{\$([^}]+)}/g;function BL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ni(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ww(i)&&Ww(o)){if(!Ni(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ww(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HL(t,e){const n=new WL(t,e);return n.subscribe.bind(n)}class WL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Qf),s.error===void 0&&(s.error=Qf),s.complete===void 0&&(s.complete=Qf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QL(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GL(t){return t===di?void 0:t}function QL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const XL={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},JL=ye.INFO,ZL={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},e4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ZL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wy{constructor(e){this.name=e,this._logLevel=JL,this._logHandler=e4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const t4=(t,e)=>e.some(n=>t instanceof n);let qw,Kw;function n4(){return qw||(qw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r4(){return Kw||(Kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KT=new WeakMap,Em=new WeakMap,GT=new WeakMap,Yf=new WeakMap,_y=new WeakMap;function s4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ds(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KT.set(n,t)}).catch(()=>{}),_y.set(e,t),e}function i4(t){if(Em.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Em.set(t,e)}let bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o4(t){bm=t(bm)}function a4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xf(this),e,...n);return GT.set(r,e.sort?e.sort():[e]),Ds(r)}:r4().includes(t)?function(...e){return t.apply(Xf(this),e),Ds(KT.get(this))}:function(...e){return Ds(t.apply(Xf(this),e))}}function l4(t){return typeof t=="function"?a4(t):(t instanceof IDBTransaction&&i4(t),t4(t,n4())?new Proxy(t,bm):t)}function Ds(t){if(t instanceof IDBRequest)return s4(t);if(Yf.has(t))return Yf.get(t);const e=l4(t);return e!==t&&(Yf.set(t,e),_y.set(e,t)),e}const Xf=t=>_y.get(t);function c4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ds(o.result),l.oldVersion,l.newVersion,Ds(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const u4=["get","getKey","getAll","getAllKeys","count"],d4=["put","add","delete","clear"],Jf=new Map;function Gw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=d4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||u4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Jf.set(e,i),i}o4(t=>({...t,get:(e,n,r)=>Gw(e,n)||t.get(e,n,r),has:(e,n)=>!!Gw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",Qw="0.14.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new wy("@firebase/app"),p4="@firebase/app-compat",m4="@firebase/analytics-compat",g4="@firebase/analytics",y4="@firebase/app-check-compat",v4="@firebase/app-check",w4="@firebase/auth",_4="@firebase/auth-compat",x4="@firebase/database",E4="@firebase/data-connect",b4="@firebase/database-compat",T4="@firebase/functions",S4="@firebase/functions-compat",C4="@firebase/installations",I4="@firebase/installations-compat",R4="@firebase/messaging",A4="@firebase/messaging-compat",P4="@firebase/performance",k4="@firebase/performance-compat",N4="@firebase/remote-config",D4="@firebase/remote-config-compat",O4="@firebase/storage",M4="@firebase/storage-compat",L4="@firebase/firestore",V4="@firebase/ai",j4="@firebase/firestore-compat",F4="firebase",U4="12.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",$4={[Tm]:"fire-core",[p4]:"fire-core-compat",[g4]:"fire-analytics",[m4]:"fire-analytics-compat",[v4]:"fire-app-check",[y4]:"fire-app-check-compat",[w4]:"fire-auth",[_4]:"fire-auth-compat",[x4]:"fire-rtdb",[E4]:"fire-data-connect",[b4]:"fire-rtdb-compat",[T4]:"fire-fn",[S4]:"fire-fn-compat",[C4]:"fire-iid",[I4]:"fire-iid-compat",[R4]:"fire-fcm",[A4]:"fire-fcm-compat",[P4]:"fire-perf",[k4]:"fire-perf-compat",[N4]:"fire-rc",[D4]:"fire-rc-compat",[O4]:"fire-gcs",[M4]:"fire-gcs-compat",[L4]:"fire-fst",[j4]:"fire-fst-compat",[V4]:"fire-vertex","fire-js":"fire-js",[F4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,z4=new Map,Cm=new Map;function Yw(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ta(t){const e=t.name;if(Cm.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,t);for(const n of Ed.values())Yw(n,t);for(const n of z4.values())Yw(n,t);return!0}function xy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new dc("app","Firebase",B4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=U4;function QT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Sm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Os.create("bad-app-name",{appName:String(s)});if(n||(n=BT()),!n)throw Os.create("no-options");const i=Ed.get(s);if(i){if(Ni(n,i.options)&&Ni(r,i.config))return i;throw Os.create("duplicate-app",{appName:s})}const o=new YL(s);for(const l of Cm.values())o.addComponent(l);const a=new H4(n,r,o);return Ed.set(s,a),a}function YT(t=Sm){const e=Ed.get(t);if(!e&&t===Sm&&BT())return QT();if(!e)throw Os.create("no-app",{appName:t});return e}function Ms(t,e,n){let r=$4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(o.join(" "));return}ta(new Di(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="firebase-heartbeat-database",q4=1,ql="firebase-heartbeat-store";let Zf=null;function XT(){return Zf||(Zf=c4(W4,q4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),Zf}async function K4(t){try{const n=(await XT()).transaction(ql),r=await n.objectStore(ql).get(JT(t));return await n.done,r}catch(e){if(e instanceof Kr)$r.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function Xw(t,e){try{const r=(await XT()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,JT(t)),await r.done}catch(n){if(n instanceof Kr)$r.warn(n.message);else{const r=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function JT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=1024,Q4=30;class Y4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Jw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Q4){const o=Z4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jw(),{heartbeatsToSend:r,unsentEntries:s}=X4(this._heartbeatsCache.heartbeats),i=xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return $r.warn(n),""}}}function Jw(){return new Date().toISOString().substring(0,10)}function X4(t,e=G4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Zw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Zw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class J4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jL()?FL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zw(t){return xd(JSON.stringify({version:2,heartbeats:t})).length}function Z4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){ta(new Di("platform-logger",e=>new h4(e),"PRIVATE")),ta(new Di("heartbeat",e=>new Y4(e),"PRIVATE")),Ms(Tm,Qw,t),Ms(Tm,Qw,"esm2020"),Ms("fire-js","")}eV("");var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,ZT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(A,k,D){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return S.prototype[k].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);const A=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)A[k]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(k=0;k<16;++k)A[k]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],k=C.g[2];let D=C.g[3],P;P=S+(D^I&(k^D))+A[0]+3614090360&4294967295,S=I+(P<<7&4294967295|P>>>25),P=D+(k^S&(I^k))+A[1]+3905402710&4294967295,D=S+(P<<12&4294967295|P>>>20),P=k+(I^D&(S^I))+A[2]+606105819&4294967295,k=D+(P<<17&4294967295|P>>>15),P=I+(S^k&(D^S))+A[3]+3250441966&4294967295,I=k+(P<<22&4294967295|P>>>10),P=S+(D^I&(k^D))+A[4]+4118548399&4294967295,S=I+(P<<7&4294967295|P>>>25),P=D+(k^S&(I^k))+A[5]+1200080426&4294967295,D=S+(P<<12&4294967295|P>>>20),P=k+(I^D&(S^I))+A[6]+2821735955&4294967295,k=D+(P<<17&4294967295|P>>>15),P=I+(S^k&(D^S))+A[7]+4249261313&4294967295,I=k+(P<<22&4294967295|P>>>10),P=S+(D^I&(k^D))+A[8]+1770035416&4294967295,S=I+(P<<7&4294967295|P>>>25),P=D+(k^S&(I^k))+A[9]+2336552879&4294967295,D=S+(P<<12&4294967295|P>>>20),P=k+(I^D&(S^I))+A[10]+4294925233&4294967295,k=D+(P<<17&4294967295|P>>>15),P=I+(S^k&(D^S))+A[11]+2304563134&4294967295,I=k+(P<<22&4294967295|P>>>10),P=S+(D^I&(k^D))+A[12]+1804603682&4294967295,S=I+(P<<7&4294967295|P>>>25),P=D+(k^S&(I^k))+A[13]+4254626195&4294967295,D=S+(P<<12&4294967295|P>>>20),P=k+(I^D&(S^I))+A[14]+2792965006&4294967295,k=D+(P<<17&4294967295|P>>>15),P=I+(S^k&(D^S))+A[15]+1236535329&4294967295,I=k+(P<<22&4294967295|P>>>10),P=S+(k^D&(I^k))+A[1]+4129170786&4294967295,S=I+(P<<5&4294967295|P>>>27),P=D+(I^k&(S^I))+A[6]+3225465664&4294967295,D=S+(P<<9&4294967295|P>>>23),P=k+(S^I&(D^S))+A[11]+643717713&4294967295,k=D+(P<<14&4294967295|P>>>18),P=I+(D^S&(k^D))+A[0]+3921069994&4294967295,I=k+(P<<20&4294967295|P>>>12),P=S+(k^D&(I^k))+A[5]+3593408605&4294967295,S=I+(P<<5&4294967295|P>>>27),P=D+(I^k&(S^I))+A[10]+38016083&4294967295,D=S+(P<<9&4294967295|P>>>23),P=k+(S^I&(D^S))+A[15]+3634488961&4294967295,k=D+(P<<14&4294967295|P>>>18),P=I+(D^S&(k^D))+A[4]+3889429448&4294967295,I=k+(P<<20&4294967295|P>>>12),P=S+(k^D&(I^k))+A[9]+568446438&4294967295,S=I+(P<<5&4294967295|P>>>27),P=D+(I^k&(S^I))+A[14]+3275163606&4294967295,D=S+(P<<9&4294967295|P>>>23),P=k+(S^I&(D^S))+A[3]+4107603335&4294967295,k=D+(P<<14&4294967295|P>>>18),P=I+(D^S&(k^D))+A[8]+1163531501&4294967295,I=k+(P<<20&4294967295|P>>>12),P=S+(k^D&(I^k))+A[13]+2850285829&4294967295,S=I+(P<<5&4294967295|P>>>27),P=D+(I^k&(S^I))+A[2]+4243563512&4294967295,D=S+(P<<9&4294967295|P>>>23),P=k+(S^I&(D^S))+A[7]+1735328473&4294967295,k=D+(P<<14&4294967295|P>>>18),P=I+(D^S&(k^D))+A[12]+2368359562&4294967295,I=k+(P<<20&4294967295|P>>>12),P=S+(I^k^D)+A[5]+4294588738&4294967295,S=I+(P<<4&4294967295|P>>>28),P=D+(S^I^k)+A[8]+2272392833&4294967295,D=S+(P<<11&4294967295|P>>>21),P=k+(D^S^I)+A[11]+1839030562&4294967295,k=D+(P<<16&4294967295|P>>>16),P=I+(k^D^S)+A[14]+4259657740&4294967295,I=k+(P<<23&4294967295|P>>>9),P=S+(I^k^D)+A[1]+2763975236&4294967295,S=I+(P<<4&4294967295|P>>>28),P=D+(S^I^k)+A[4]+1272893353&4294967295,D=S+(P<<11&4294967295|P>>>21),P=k+(D^S^I)+A[7]+4139469664&4294967295,k=D+(P<<16&4294967295|P>>>16),P=I+(k^D^S)+A[10]+3200236656&4294967295,I=k+(P<<23&4294967295|P>>>9),P=S+(I^k^D)+A[13]+681279174&4294967295,S=I+(P<<4&4294967295|P>>>28),P=D+(S^I^k)+A[0]+3936430074&4294967295,D=S+(P<<11&4294967295|P>>>21),P=k+(D^S^I)+A[3]+3572445317&4294967295,k=D+(P<<16&4294967295|P>>>16),P=I+(k^D^S)+A[6]+76029189&4294967295,I=k+(P<<23&4294967295|P>>>9),P=S+(I^k^D)+A[9]+3654602809&4294967295,S=I+(P<<4&4294967295|P>>>28),P=D+(S^I^k)+A[12]+3873151461&4294967295,D=S+(P<<11&4294967295|P>>>21),P=k+(D^S^I)+A[15]+530742520&4294967295,k=D+(P<<16&4294967295|P>>>16),P=I+(k^D^S)+A[2]+3299628645&4294967295,I=k+(P<<23&4294967295|P>>>9),P=S+(k^(I|~D))+A[0]+4096336452&4294967295,S=I+(P<<6&4294967295|P>>>26),P=D+(I^(S|~k))+A[7]+1126891415&4294967295,D=S+(P<<10&4294967295|P>>>22),P=k+(S^(D|~I))+A[14]+2878612391&4294967295,k=D+(P<<15&4294967295|P>>>17),P=I+(D^(k|~S))+A[5]+4237533241&4294967295,I=k+(P<<21&4294967295|P>>>11),P=S+(k^(I|~D))+A[12]+1700485571&4294967295,S=I+(P<<6&4294967295|P>>>26),P=D+(I^(S|~k))+A[3]+2399980690&4294967295,D=S+(P<<10&4294967295|P>>>22),P=k+(S^(D|~I))+A[10]+4293915773&4294967295,k=D+(P<<15&4294967295|P>>>17),P=I+(D^(k|~S))+A[1]+2240044497&4294967295,I=k+(P<<21&4294967295|P>>>11),P=S+(k^(I|~D))+A[8]+1873313359&4294967295,S=I+(P<<6&4294967295|P>>>26),P=D+(I^(S|~k))+A[15]+4264355552&4294967295,D=S+(P<<10&4294967295|P>>>22),P=k+(S^(D|~I))+A[6]+2734768916&4294967295,k=D+(P<<15&4294967295|P>>>17),P=I+(D^(k|~S))+A[13]+1309151649&4294967295,I=k+(P<<21&4294967295|P>>>11),P=S+(k^(I|~D))+A[4]+4149444226&4294967295,S=I+(P<<6&4294967295|P>>>26),P=D+(I^(S|~k))+A[11]+3174756917&4294967295,D=S+(P<<10&4294967295|P>>>22),P=k+(S^(D|~I))+A[2]+718787259&4294967295,k=D+(P<<15&4294967295|P>>>17),P=I+(D^(k|~S))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,A=this.C;let k=this.h,D=0;for(;D<S;){if(k==0)for(;D<=I;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<S;)if(A[k++]=C.charCodeAt(D++),k==this.blockSize){s(this,A),k=0;break}}else for(;D<S;)if(A[k++]=C[D++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let A=0;A<32;A+=8)C[S++]=this.g[I]>>>A&255;return C};function i(C,S){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function o(C,S){this.h=S;const I=[];let A=!0;for(let k=C.length-1;k>=0;k--){const D=C[k]|0;A&&D==S||(I[k]=D,A=!1)}this.g=I}var a={};function l(C){return-128<=C&&C<128?i(C,function(S){return new o([S|0],S<0?-1:0)}):new o([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(C<0)return E(u(-C));const S=[];let I=1;for(let A=0;C>=I;A++)S[A]=C/I|0,I*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return E(d(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(S,8));let A=h;for(let D=0;D<C.length;D+=8){var k=Math.min(8,C.length-D);const P=parseInt(C.substring(D,D+k),S);k<8?(k=u(Math.pow(S,k)),A=A.j(k).add(u(P))):(A=A.j(I),A=A.add(u(P)))}return A}var h=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-E(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const A=this.i(I);C+=(A>=0?A:4294967296+A)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(b(this))return"0";if(y(this))return"-"+E(this).toString(C);const S=u(Math.pow(C,6));var I=this;let A="";for(;;){const k=N(I,S).g;I=x(I,k.j(S));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=k,b(I))return D+A;for(;D.length<6;)D="0"+D;A=D+A}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function b(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=x(this,C),y(C)?-1:b(C)?0:1};function E(C){const S=C.g.length,I=[];for(let A=0;A<S;A++)I[A]=~C.g[A];return new o(I,~C.h).add(m)}t.abs=function(){return y(this)?E(this):this},t.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let A=0;for(let k=0;k<=S;k++){let D=A+(this.i(k)&65535)+(C.i(k)&65535),P=(D>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);A=P>>>16,D&=65535,P&=65535,I[k]=P<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(C,S){return C.add(E(S))}t.j=function(C){if(b(this)||b(C))return h;if(y(this))return y(C)?E(this).j(E(C)):E(E(this).j(C));if(y(C))return E(this.j(E(C)));if(this.l(g)<0&&C.l(g)<0)return u(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var A=0;A<2*S;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(let k=0;k<C.g.length;k++){const D=this.i(A)>>>16,P=this.i(A)&65535,H=C.i(k)>>>16,ne=C.i(k)&65535;I[2*A+2*k]+=P*ne,_(I,2*A+2*k),I[2*A+2*k+1]+=D*ne,_(I,2*A+2*k+1),I[2*A+2*k+1]+=P*H,_(I,2*A+2*k+1),I[2*A+2*k+2]+=D*H,_(I,2*A+2*k+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new o(I,0)};function _(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function T(C,S){this.g=C,this.h=S}function N(C,S){if(b(S))throw Error("division by zero");if(b(C))return new T(h,h);if(y(C))return S=N(E(C),S),new T(E(S.g),E(S.h));if(y(S))return S=N(C,E(S)),new T(E(S.g),S.h);if(C.g.length>30){if(y(C)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=m,A=S;A.l(C)<=0;)I=O(I),A=O(A);var k=M(I,1),D=M(A,1);for(A=M(A,2),I=M(I,2);!b(A);){var P=D.add(A);P.l(C)<=0&&(k=k.add(I),D=P),A=M(A,1),I=M(I,1)}return S=x(C,k.j(S)),new T(k,S)}for(k=h;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),D=u(I),P=D.j(S);y(P)||P.l(C)>0;)I-=A,D=u(I),P=D.j(S);b(D)&&(D=m),k=k.add(D),C=x(C,P)}return new T(k,C)}t.B=function(C){return N(this,C).h},t.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let A=0;A<S;A++)I[A]=this.i(A)&C.i(A);return new o(I,this.h&C.h)},t.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let A=0;A<S;A++)I[A]=this.i(A)|C.i(A);return new o(I,this.h|C.h)},t.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let A=0;A<S;A++)I[A]=this.i(A)^C.i(A);return new o(I,this.h^C.h)};function O(C){const S=C.g.length+1,I=[];for(let A=0;A<S;A++)I[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(I,C.h)}function M(C,S){const I=S>>5;S%=32;const A=C.g.length-I,k=[];for(let D=0;D<A;D++)k[D]=S>0?C.i(D+I)>>>S|C.i(D+I+1)<<32-S:C.i(D+I);return new o(k,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ls=o}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eS,Za,tS,ku,Im,nS,rS,sS;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var p=0;p<c.length;++p){var w=c[p];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var w=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var L=c[R];if(!(L in w))break e;w=w[L]}c=c[c.length-1],R=w[c],p=p(R),p!=R&&p!=null&&e(w,c,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(p){var w=[],R;for(R in p)Object.prototype.hasOwnProperty.call(p,R)&&w.push([R,p[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function l(c,p,w){return c.call.apply(c.bind,arguments)}function u(c,p,w){return u=l,u.apply(null,arguments)}function d(c,p){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function h(c,p){function w(){}w.prototype=p.prototype,c.Z=p.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(R,L,F){for(var Q=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)Q[pe-2]=arguments[pe];return p.prototype[L].apply(R,Q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const p=c.length;if(p>0){const w=Array(p);for(let R=0;R<p;R++)w[R]=c[R];return w}return[]}function b(c,p){for(let R=1;R<arguments.length;R++){const L=arguments[R];var w=typeof L;if(w=w!="object"?w:L?Array.isArray(L)?"array":w:"null",w=="array"||w=="object"&&typeof L.length=="number"){w=c.length||0;const F=L.length||0;c.length=w+F;for(let Q=0;Q<F;Q++)c[w+Q]=L[Q]}else c.push(L)}}class y{constructor(p,w){this.i=p,this.j=w,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(c){o.setTimeout(()=>{throw c},0)}function x(){var c=C;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class _{constructor(){this.h=this.g=null}add(p,w){const R=T.get();R.set(p,w),this.h?this.h.next=R:this.g=R,this.h=R}}var T=new y(()=>new N,c=>c.reset());class N{constructor(){this.next=this.g=this.h=null}set(p,w){this.h=p,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let O,M=!1,C=new _,S=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(I)}};function I(){for(var c;c=x();){try{c.h.call(c.g)}catch(w){E(w)}var p=T;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}M=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};o.addEventListener("test",w,p),o.removeEventListener("test",w,p)}catch{}return c}();function P(c){return/^[\s\xa0]*$/.test(c)}function H(c,p){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}h(H,k),H.prototype.init=function(c,p){const w=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(w=="mouseover"?p=c.fromElement:w=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(c,p,w,R,L){this.listener=c,this.proxy=null,this.src=p,this.type=w,this.capture=!!R,this.ha=L,this.key=++U,this.da=this.fa=!1}function V(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function j(c,p,w){for(const R in c)p.call(w,c[R],R,c)}function G(c,p){for(const w in c)p.call(void 0,c[w],w,c)}function J(c){const p={};for(const w in c)p[w]=c[w];return p}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,p){let w,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(w in R)c[w]=R[w];for(let F=0;F<X.length;F++)w=X[F],Object.prototype.hasOwnProperty.call(R,w)&&(c[w]=R[w])}}function ie(c){this.src=c,this.g={},this.h=0}ie.prototype.add=function(c,p,w,R,L){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const Q=Oe(c,p,R,L);return Q>-1?(p=c[Q],w||(p.fa=!1)):(p=new W(p,this.src,F,!!R,L),p.fa=w,c.push(p)),p};function Ie(c,p){const w=p.type;if(w in c.g){var R=c.g[w],L=Array.prototype.indexOf.call(R,p,void 0),F;(F=L>=0)&&Array.prototype.splice.call(R,L,1),F&&(V(p),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Oe(c,p,w,R){for(let L=0;L<c.length;++L){const F=c[L];if(!F.da&&F.listener==p&&F.capture==!!w&&F.ha==R)return L}return-1}var Y="closure_lm_"+(Math.random()*1e6|0),be={};function Ve(c,p,w,R,L){if(Array.isArray(p)){for(let F=0;F<p.length;F++)Ve(c,p[F],w,R,L);return null}return w=Gr(w),c&&c[ne]?c.J(p,w,a(R)?!!R.capture:!!R,L):Te(c,p,w,!1,R,L)}function Te(c,p,w,R,L,F){if(!p)throw Error("Invalid event type");const Q=a(L)?!!L.capture:!!L;let pe=mn(c);if(pe||(c[Y]=pe=new ie(c)),w=pe.add(p,w,R,Q,F),w.proxy)return w;if(R=ge(),w.proxy=R,R.src=c,R.listener=w,c.addEventListener)D||(L=Q),L===void 0&&(L=!1),c.addEventListener(p.toString(),R,L);else if(c.attachEvent)c.attachEvent(jt(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ge(){function c(w){return p.call(c.src,c.listener,w)}const p=Er;return c}function _e(c,p,w,R,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)_e(c,p[F],w,R,L);else R=a(R)?!!R.capture:!!R,w=Gr(w),c&&c[ne]?(c=c.i,F=String(p).toString(),F in c.g&&(p=c.g[F],w=Oe(p,w,R,L),w>-1&&(V(p[w]),Array.prototype.splice.call(p,w,1),p.length==0&&(delete c.g[F],c.h--)))):c&&(c=mn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Oe(p,w,R,L)),(w=c>-1?p[c]:null)&&nt(w))}function nt(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ne])Ie(p.i,c);else{var w=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(w,R,c.capture):p.detachEvent?p.detachEvent(jt(w),R):p.addListener&&p.removeListener&&p.removeListener(R),(w=mn(p))?(Ie(w,c),w.h==0&&(w.src=null,p[Y]=null)):V(c)}}}function jt(c){return c in be?be[c]:be[c]="on"+c}function Er(c,p){if(c.da)c=!0;else{p=new H(p,this);const w=c.listener,R=c.ha||c.src;c.fa&&nt(c),c=w.call(R,p)}return c}function mn(c){return c=c[Y],c instanceof ie?c:null}var Cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gr(c){return typeof c=="function"?c:(c[Cn]||(c[Cn]=function(p){return c.handleEvent(p)}),c[Cn])}function He(){A.call(this),this.i=new ie(this),this.M=this,this.G=null}h(He,A),He.prototype[ne]=!0,He.prototype.removeEventListener=function(c,p,w,R){_e(this,c,p,w,R)};function pt(c,p){var w,R=c.G;if(R)for(w=[];R;R=R.G)w.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new k(p,c);else if(p instanceof k)p.target=p.target||c;else{var L=p;p=new k(R,c),se(p,L)}L=!0;let F,Q;if(w)for(Q=w.length-1;Q>=0;Q--)F=p.g=w[Q],L=qn(F,R,!0,p)&&L;if(F=p.g=c,L=qn(F,R,!0,p)&&L,L=qn(F,R,!1,p)&&L,w)for(Q=0;Q<w.length;Q++)F=p.g=w[Q],L=qn(F,R,!1,p)&&L}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const w=c.g[p];for(let R=0;R<w.length;R++)V(w[R]);delete c.g[p],c.h--}}this.G=null},He.prototype.J=function(c,p,w,R){return this.i.add(String(c),p,!1,w,R)},He.prototype.K=function(c,p,w,R){return this.i.add(String(c),p,!0,w,R)};function qn(c,p,w,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let F=0;F<p.length;++F){const Q=p[F];if(Q&&!Q.da&&Q.capture==w){const pe=Q.listener,lt=Q.ha||Q.src;Q.fa&&Ie(c.i,Q),L=pe.call(lt,R)!==!1&&L}}return L&&!R.defaultPrevented}function xc(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function Kn(c){c.g=xc(()=>{c.g=null,c.i&&(c.i=!1,Kn(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Xh extends A{constructor(p,w){super(),this.m=p,this.l=w,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(c){A.call(this),this.h=c,this.g={}}h(ri,A);var Ft=[];function br(c){j(c.g,function(p,w){this.g.hasOwnProperty(w)&&nt(p)},c),c.g={}}ri.prototype.N=function(){ri.Z.N.call(this),br(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ba=o.JSON.stringify,Jh=o.JSON.parse,Qi=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Ec(){}function Ta(){}var Tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gn(){k.call(this,"d")}h(Gn,k);function Yi(){k.call(this,"c")}h(Yi,k);var qt={},bc=null;function Xi(){return bc=bc||new He}qt.Ia="serverreachability";function Sa(c){k.call(this,qt.Ia,c)}h(Sa,k);function Qr(c){const p=Xi();pt(p,new Sa(p))}qt.STAT_EVENT="statevent";function Tc(c,p){k.call(this,qt.STAT_EVENT,c),this.stat=p}h(Tc,k);function at(c){const p=Xi();pt(p,new Tc(p,c))}qt.Ja="timingevent";function In(c,p){k.call(this,qt.Ja,c),this.size=p}h(In,k);function si(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function oe(){this.g=!0}oe.prototype.ua=function(){this.g=!1};function Re(c,p,w,R,L,F){c.info(function(){if(c.g)if(F){var Q="",pe=F.split("&");for(let De=0;De<pe.length;De++){var lt=pe[De].split("=");if(lt.length>1){const gt=lt[0];lt=lt[1];const Xn=gt.split("_");Q=Xn.length>=2&&Xn[1]=="type"?Q+(gt+"="+lt+"&"):Q+(gt+"=redacted&")}}}else Q=null;else Q=F;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+p+`
`+w+`
`+Q})}function Me(c,p,w,R,L,F,Q){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+p+`
`+w+`
`+F+" "+Q})}function mt(c,p,w,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Qn(c,w)+(R?" "+R:"")})}function rn(c,p){c.info(function(){return"TIMEOUT: "+p})}oe.prototype.info=function(){};function Qn(c,p){if(!c.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var w=F[c];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var L=R[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Q=1;Q<R.length;Q++)R[Q]=""}}}}return ba(F)}catch{return p}}var gn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rn;function Zh(){}h(Zh,Ec),Zh.prototype.g=function(){return new XMLHttpRequest},Rn=new Zh;function Ca(c){return encodeURIComponent(String(c))}function DR(c){var p=1;c=c.split(":");const w=[];for(;p>0&&c.length;)w.push(c.shift()),p--;return c.length&&w.push(c.join(":")),w}function Yr(c,p,w,R){this.j=c,this.i=p,this.l=w,this.S=R||1,this.V=new ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dv}function dv(){this.i=null,this.g="",this.h=!1}var hv={},ef={};function tf(c,p,w){c.M=1,c.A=Cc(Yn(p)),c.u=w,c.R=!0,fv(c,null)}function fv(c,p){c.F=Date.now(),Sc(c),c.B=Yn(c.A);var w=c.B,R=c.S;Array.isArray(R)||(R=[String(R)]),Cv(w.i,"t",R),c.C=0,w=c.j.L,c.h=new dv,c.g=Hv(c.j,w?p:null,!c.u),c.P>0&&(c.O=new Xh(u(c.Y,c,c.g),c.P)),p=c.V,w=c.g,R=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ft[0]=L.toString()),L=Ft);for(let F=0;F<L.length;F++){const Q=Ve(w,L[F],R||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=c.J?J(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Qr(),Re(c.i,c.v,c.B,c.l,c.S,c.u)}Yr.prototype.ba=function(c){c=c.target;const p=this.O;p&&Zr(c)==3?p.j():this.Y(c)},Yr.prototype.Y=function(c){try{if(c==this.g)e:{const pe=Zr(this.g),lt=this.g.ya(),De=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||Dv(this.g)))){this.K||pe!=4||lt==7||(lt==8||De<=0?Qr(3):Qr(2)),nf(this);var p=this.g.ca();this.X=p;var w=OR(this);if(this.o=p==200,Me(this.i,this.v,this.B,this.l,this.S,pe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var R,L=this.g;if((R=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var F=R;break t}}F=null}if(c=F)mt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rf(this,c);else{this.o=!1,this.m=3,at(12),ii(this),Ia(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<w.length;)if(gt=MR(this,w),gt==ef){pe==4&&(this.m=4,at(14),c=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==hv){this.m=4,at(15),mt(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else mt(this.i,this.l,gt,null),rf(this,gt);if(pv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||w.length!=0||this.h.h||(this.m=1,at(16),c=!1),this.o=this.o&&c,!c)mt(this.i,this.l,w,"[Invalid Chunked Response]"),ii(this),Ia(this);else if(w.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),hf(Q),Q.P=!0,at(11))}}else mt(this.i,this.l,w,null),rf(this,w);pe==4&&ii(this),this.o&&!this.K&&(pe==4?Uv(this.j,this):(this.o=!1,Sc(this)))}else QR(this.g),p==400&&w.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),ii(this),Ia(this)}}}catch{}finally{}};function OR(c){if(!pv(c))return c.g.la();const p=Dv(c.g);if(p==="")return"";let w="";const R=p.length,L=Zr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ii(c),Ia(c),"";c.h.i=new o.TextDecoder}for(let F=0;F<R;F++)c.h.h=!0,w+=c.h.i.decode(p[F],{stream:!(L&&F==R-1)});return p.length=0,c.h.g+=w,c.C=0,c.h.g}function pv(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function MR(c,p){var w=c.C,R=p.indexOf(`
`,w);return R==-1?ef:(w=Number(p.substring(w,R)),isNaN(w)?hv:(R+=1,R+w>p.length?ef:(p=p.slice(R,R+w),c.C=R+w,p)))}Yr.prototype.cancel=function(){this.K=!0,ii(this)};function Sc(c){c.T=Date.now()+c.H,mv(c,c.H)}function mv(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(u(c.aa,c),p)}function nf(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Yr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(rn(this.i,this.B),this.M!=2&&(Qr(),at(17)),ii(this),this.m=2,Ia(this)):mv(this,this.T-c)};function Ia(c){c.j.I==0||c.K||Uv(c.j,c)}function ii(c){nf(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,br(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function rf(c,p){try{var w=c.j;if(w.I!=0&&(w.g==c||sf(w.h,c))){if(!c.L&&sf(w.h,c)&&w.I==3){try{var R=w.Ba.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)kc(w),Ac(w);else break e;df(w),at(18)}}else w.xa=L[1],0<w.xa-w.K&&L[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=si(u(w.Va,w),6e3));vv(w.h)<=1&&w.ta&&(w.ta=void 0)}else ai(w,11)}else if((c.L||w.g==c)&&kc(w),!P(p))for(L=w.Ba.g.parse(p),p=0;p<L.length;p++){let De=L[p];const gt=De[0];if(!(gt<=w.K))if(w.K=gt,De=De[1],w.I==2)if(De[0]=="c"){w.M=De[1],w.ba=De[2];const Xn=De[3];Xn!=null&&(w.ka=Xn,w.j.info("VER="+w.ka));const li=De[4];li!=null&&(w.za=li,w.j.info("SVER="+w.za));const es=De[5];es!=null&&typeof es=="number"&&es>0&&(R=1.5*es,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const ts=c.g;if(ts){const Dc=ts.g?ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dc){var F=R.h;F.g||Dc.indexOf("spdy")==-1&&Dc.indexOf("quic")==-1&&Dc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(of(F,F.h),F.h=null))}if(R.G){const ff=ts.g?ts.g.getResponseHeader("X-HTTP-Session-Id"):null;ff&&(R.wa=ff,je(R.J,R.G,ff))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var Q=c;if(R.na=Bv(R,R.L?R.ba:null,R.W),Q.L){wv(R.h,Q);var pe=Q,lt=R.O;lt&&(pe.H=lt),pe.D&&(nf(pe),Sc(pe)),R.g=Q}else jv(R);w.i.length>0&&Pc(w)}else De[0]!="stop"&&De[0]!="close"||ai(w,7);else w.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ai(w,7):uf(w):De[0]!="noop"&&w.l&&w.l.qa(De),w.A=0)}}Qr(4)}catch{}}var LR=class{constructor(c,p){this.g=c,this.map=p}};function gv(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vv(c){return c.h?1:c.g?c.g.size:0}function sf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function of(c,p){c.g?c.g.add(p):c.h=p}function wv(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}gv.prototype.cancel=function(){if(this.i=_v(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _v(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const w of c.g.values())p=p.concat(w.G);return p}return g(c.i)}var xv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VR(c,p){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const R=c[w].indexOf("=");let L,F=null;R>=0?(L=c[w].substring(0,R),F=c[w].substring(R+1)):L=c[w],p(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Xr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Xr?(this.l=c.l,Ra(this,c.j),this.o=c.o,this.g=c.g,Aa(this,c.u),this.h=c.h,af(this,Iv(c.i)),this.m=c.m):c&&(p=String(c).match(xv))?(this.l=!1,Ra(this,p[1]||"",!0),this.o=Pa(p[2]||""),this.g=Pa(p[3]||"",!0),Aa(this,p[4]),this.h=Pa(p[5]||"",!0),af(this,p[6]||"",!0),this.m=Pa(p[7]||"")):(this.l=!1,this.i=new Na(null,this.l))}Xr.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ka(p,Ev,!0),":");var w=this.g;return(w||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ka(p,Ev,!0),"@"),c.push(Ca(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ka(w,w.charAt(0)=="/"?UR:FR,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ka(w,zR)),c.join("")},Xr.prototype.resolve=function(c){const p=Yn(this);let w=!!c.j;w?Ra(p,c.j):w=!!c.o,w?p.o=c.o:w=!!c.g,w?p.g=c.g:w=c.u!=null;var R=c.h;if(w)Aa(p,c.u);else if(w=!!c.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var L=p.h.lastIndexOf("/");L!=-1&&(R=p.h.slice(0,L+1)+R)}if(L=R,L==".."||L==".")R="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){R=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let Q=0;Q<L.length;){const pe=L[Q++];pe=="."?R&&Q==L.length&&F.push(""):pe==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),R&&Q==L.length&&F.push("")):(F.push(pe),R=!0)}R=F.join("/")}else R=L}return w?p.h=R:w=c.i.toString()!=="",w?af(p,Iv(c.i)):w=!!c.m,w&&(p.m=c.m),p};function Yn(c){return new Xr(c)}function Ra(c,p,w){c.j=w?Pa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Aa(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function af(c,p,w){p instanceof Na?(c.i=p,BR(c.i,c.l)):(w||(p=ka(p,$R)),c.i=new Na(p,c.l))}function je(c,p,w){c.i.set(p,w)}function Cc(c){return je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Pa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ka(c,p,w){return typeof c=="string"?(c=encodeURI(c).replace(p,jR),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ev=/[#\/\?@]/g,FR=/[#\?:]/g,UR=/[#\?]/g,$R=/[#\?@]/g,zR=/#/g;function Na(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function oi(c){c.g||(c.g=new Map,c.h=0,c.i&&VR(c.i,function(p,w){c.add(decodeURIComponent(p.replace(/\+/g," ")),w)}))}t=Na.prototype,t.add=function(c,p){oi(this),this.i=null,c=Ji(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(p),this.h+=1,this};function bv(c,p){oi(c),p=Ji(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Tv(c,p){return oi(c),p=Ji(c,p),c.g.has(p)}t.forEach=function(c,p){oi(this),this.g.forEach(function(w,R){w.forEach(function(L){c.call(p,L,R,this)},this)},this)};function Sv(c,p){oi(c);let w=[];if(typeof p=="string")Tv(c,p)&&(w=w.concat(c.g.get(Ji(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)w=w.concat(c[p]);return w}t.set=function(c,p){return oi(this),this.i=null,c=Ji(this,c),Tv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=Sv(this,c),c.length>0?String(c[0]):p):p};function Cv(c,p,w){bv(c,p),w.length>0&&(c.i=null,c.g.set(Ji(c,p),g(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let R=0;R<p.length;R++){var w=p[R];const L=Ca(w);w=Sv(this,w);for(let F=0;F<w.length;F++){let Q=L;w[F]!==""&&(Q+="="+Ca(w[F])),c.push(Q)}}return this.i=c.join("&")};function Iv(c){const p=new Na;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Ji(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function BR(c,p){p&&!c.j&&(oi(c),c.i=null,c.g.forEach(function(w,R){const L=R.toLowerCase();R!=L&&(bv(this,R),Cv(this,L,w))},c)),c.j=p}function HR(c,p){const w=new oe;if(o.Image){const R=new Image;R.onload=d(Jr,w,"TestLoadImage: loaded",!0,p,R),R.onerror=d(Jr,w,"TestLoadImage: error",!1,p,R),R.onabort=d(Jr,w,"TestLoadImage: abort",!1,p,R),R.ontimeout=d(Jr,w,"TestLoadImage: timeout",!1,p,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function WR(c,p){const w=new oe,R=new AbortController,L=setTimeout(()=>{R.abort(),Jr(w,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(F=>{clearTimeout(L),F.ok?Jr(w,"TestPingServer: ok",!0,p):Jr(w,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Jr(w,"TestPingServer: error",!1,p)})}function Jr(c,p,w,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(w)}catch{}}function qR(){this.g=new Qi}function lf(c){this.i=c.Sb||null,this.h=c.ab||!1}h(lf,Ec),lf.prototype.g=function(){return new Ic(this.i,this.h)};function Ic(c,p){He.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Ic,He),t=Ic.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Oa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Da(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rv(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rv(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Da(this):Oa(this),this.readyState==3&&Rv(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Da(this))},t.Na=function(c){this.g&&(this.response=c,Da(this))},t.ga=function(){this.g&&Da(this)};function Da(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Oa(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var w=p.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=p.next();return c.join(`\r
`)};function Oa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Av(c){let p="";return j(c,function(w,R){p+=R,p+=":",p+=w,p+=`\r
`}),p}function cf(c,p,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Av(w),typeof c=="string"?w!=null&&Ca(w):je(c,p,w))}function Ye(c){He.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ye,He);var KR=/^https?$/i,GR=["POST","PUT"];t=Ye.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){Pv(this,F);return}if(c=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)w.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())w.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(GR,p,void 0)>=0)||R||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Q]of w)this.g.setRequestHeader(F,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Pv(this,F)}};function Pv(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,kv(c),Rc(c)}function kv(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,pt(this,"complete"),pt(this,"abort"),Rc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rc(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Nv(this):this.Xa())},t.Xa=function(){Nv(this)};function Nv(c){if(c.h&&typeof i<"u"){if(c.v&&Zr(c)==4)setTimeout(c.Ca.bind(c),0);else if(pt(c,"readystatechange"),Zr(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var w;if(!(w=p)){var R;if(R=F===0){let Q=String(c.D).match(xv)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),R=!KR.test(Q?Q.toLowerCase():"")}w=R}if(w)pt(c,"complete"),pt(c,"success");else{c.o=6;try{var L=Zr(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",kv(c)}}finally{Rc(c)}}}}function Rc(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,p||pt(c,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Zr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Jh(p)}};function Dv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function QR(c){const p={};c=(c.g&&Zr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(P(c[R]))continue;var w=DR(c[R]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=p[L]||[];p[L]=F,F.push(w)}G(p,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(c,p,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||p}function Ov(c){this.za=0,this.i=[],this.j=new oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ma("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ma("baseRetryDelayMs",5e3,c),this.Za=Ma("retryDelaySeedMs",1e4,c),this.Ta=Ma("forwardChannelMaxRetries",2,c),this.va=Ma("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new gv(c&&c.concurrentRequestLimit),this.Ba=new qR,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ov.prototype,t.ka=8,t.I=1,t.connect=function(c,p,w,R){at(0),this.W=c,this.H=p||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=Bv(this,null,this.W),Pc(this)};function uf(c){if(Mv(c),c.I==3){var p=c.V++,w=Yn(c.J);if(je(w,"SID",c.M),je(w,"RID",p),je(w,"TYPE","terminate"),La(c,w),p=new Yr(c,c.j,p),p.M=2,p.A=Cc(Yn(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=p.A,w=!0),w||(p.g=Hv(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Sc(p)}zv(c)}function Ac(c){c.g&&(hf(c),c.g.cancel(),c.g=null)}function Mv(c){Ac(c),c.v&&(o.clearTimeout(c.v),c.v=null),kc(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Pc(c){if(!yv(c.h)&&!c.m){c.m=!0;var p=c.Ea;O||S(),M||(O(),M=!0),C.add(p,c),c.D=0}}function YR(c,p){return vv(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(u(c.Ea,c,p),$v(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Yr(this,this.j,c);let F=this.o;if(this.U&&(F?(F=J(F),se(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var p=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,p>4096){p=w;break e}if(p===4096||w===this.i.length-1){p=w+1;break e}}p=1e3}else p=1e3;p=Vv(this,L,p),w=Yn(this.J),je(w,"RID",c),je(w,"CVER",22),this.G&&je(w,"X-HTTP-Session-Id",this.G),La(this,w),F&&(this.R?p="headers="+Ca(Av(F))+"&"+p:this.u&&cf(w,this.u,F)),of(this.h,L),this.Ra&&je(w,"TYPE","init"),this.S?(je(w,"$req",p),je(w,"SID","null"),L.U=!0,tf(L,w,null)):tf(L,w,p),this.I=2}}else this.I==3&&(c?Lv(this,c):this.i.length==0||yv(this.h)||Lv(this))};function Lv(c,p){var w;p?w=p.l:w=c.V++;const R=Yn(c.J);je(R,"SID",c.M),je(R,"RID",w),je(R,"AID",c.K),La(c,R),c.u&&c.o&&cf(R,c.u,c.o),w=new Yr(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Vv(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),of(c.h,w),tf(w,R,p)}function La(c,p){c.H&&j(c.H,function(w,R){je(p,R,w)}),c.l&&j({},function(w,R){je(p,R,w)})}function Vv(c,p,w){w=Math.min(c.i.length,w);const R=c.l?u(c.l.Ka,c.l,c):null;e:{var L=c.i;let pe=-1;for(;;){const lt=["count="+w];pe==-1?w>0?(pe=L[0].g,lt.push("ofs="+pe)):pe=0:lt.push("ofs="+pe);let De=!0;for(let gt=0;gt<w;gt++){var F=L[gt].g;const Xn=L[gt].map;if(F-=pe,F<0)pe=Math.max(0,L[gt].g-100),De=!1;else try{F="req"+F+"_"||"";try{var Q=Xn instanceof Map?Xn:Object.entries(Xn);for(const[li,es]of Q){let ts=es;a(es)&&(ts=ba(es)),lt.push(F+li+"="+encodeURIComponent(ts))}}catch(li){throw lt.push(F+"type="+encodeURIComponent("_badmap")),li}}catch{R&&R(Xn)}}if(De){Q=lt.join("&");break e}}Q=void 0}return c=c.i.splice(0,w),p.G=c,Q}function jv(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;O||S(),M||(O(),M=!0),C.add(p,c),c.A=0}}function df(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(u(c.Da,c),$v(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Fv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),Ac(this),Fv(this))};function hf(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Fv(c){c.g=new Yr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Yn(c.na);je(p,"RID","rpc"),je(p,"SID",c.M),je(p,"AID",c.K),je(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&je(p,"TO",c.ia),je(p,"TYPE","xmlhttp"),La(c,p),c.u&&c.o&&cf(p,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Cc(Yn(p)),w.u=null,w.R=!0,fv(w,c)}t.Va=function(){this.C!=null&&(this.C=null,Ac(this),df(this),at(19))};function kc(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Uv(c,p){var w=null;if(c.g==p){kc(c),hf(c),c.g=null;var R=2}else if(sf(c.h,p))w=p.G,wv(c.h,p),R=1;else return;if(c.I!=0){if(p.o)if(R==1){w=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;R=Xi(),pt(R,new In(R,w)),Pc(c)}else jv(c);else if(L=p.m,L==3||L==0&&p.X>0||!(R==1&&YR(c,p)||R==2&&df(c)))switch(w&&w.length>0&&(p=c.h,p.i=p.i.concat(w)),L){case 1:ai(c,5);break;case 4:ai(c,10);break;case 3:ai(c,6);break;default:ai(c,2)}}}function $v(c,p){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*p}function ai(c,p){if(c.j.info("Error code "+p),p==2){var w=u(c.bb,c),R=c.Ua;const L=!R;R=new Xr(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ra(R,"https"),Cc(R),L?HR(R.toString(),w):WR(R.toString(),w)}else at(2);c.I=0,c.l&&c.l.pa(p),zv(c),Mv(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function zv(c){if(c.I=0,c.ja=[],c.l){const p=_v(c.h);(p.length!=0||c.i.length!=0)&&(b(c.ja,p),b(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function Bv(c,p,w){var R=w instanceof Xr?Yn(w):new Xr(w);if(R.g!="")p&&(R.g=p+"."+R.g),Aa(R,R.u);else{var L=o.location;R=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const F=new Xr(null);R&&Ra(F,R),p&&(F.g=p),L&&Aa(F,L),w&&(F.h=w),R=F}return w=c.G,p=c.wa,w&&p&&je(R,w,p),je(R,"VER",c.ka),La(c,R),R}function Hv(c,p,w){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Ye(new lf({ab:w})):new Ye(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wv(){}t=Wv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Nc(){}Nc.prototype.g=function(c,p){return new sn(c,p)};function sn(c,p){He.call(this),this.g=new Ov(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!P(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!P(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Zi(this)}h(sn,He),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){uf(this.g)},sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=ba(c),c=w);p.i.push(new LR(p.Ya++,c)),p.I==3&&Pc(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,uf(this.g),delete this.g,sn.Z.N.call(this)};function qv(c){Gn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const w in p){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}h(qv,Gn);function Kv(){Yi.call(this),this.status=1}h(Kv,Yi);function Zi(c){this.g=c}h(Zi,Wv),Zi.prototype.ra=function(){pt(this.g,"a")},Zi.prototype.qa=function(c){pt(this.g,new qv(c))},Zi.prototype.pa=function(c){pt(this.g,new Kv)},Zi.prototype.oa=function(){pt(this.g,"b")},Nc.prototype.createWebChannel=Nc.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,sS=function(){return new Nc},rS=function(){return Xi()},nS=qt,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gn.NO_ERROR=0,gn.TIMEOUT=8,gn.HTTP_ERROR=6,ku=gn,Kt.COMPLETE="complete",tS=Kt,Ta.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",He.prototype.listen=He.prototype.J,Za=Ta,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,eS=Ye}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="12.10.0";function tV(t){ya=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new wy("@firebase/firestore");function io(){return Oi.logLevel}function Z(t,...e){if(Oi.logLevel<=ye.DEBUG){const n=e.map(Ey);Oi.debug(`Firestore (${ya}): ${t}`,...n)}}function zr(t,...e){if(Oi.logLevel<=ye.ERROR){const n=e.map(Ey);Oi.error(`Firestore (${ya}): ${t}`,...n)}}function Mi(t,...e){if(Oi.logLevel<=ye.WARN){const n=e.map(Ey);Oi.warn(`Firestore (${ya}): ${t}`,...n)}}function Ey(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iS(t,r,n)}function iS(t,e,n){let r=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zr(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||iS(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class rV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sV{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new oS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class iV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new t_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new t_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function Rm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return ep(s)===ep(i)?ve(s,i):ep(s)?1:-1}return ve(t.length,e.length)}const cV=55296,uV=57343;function ep(t){const e=t.charCodeAt(0);return e>=cV&&e<=uV}function na(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="__name__";class er{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=er.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=er.isNumericId(e),s=er.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?er.extractNumericId(e).compare(er.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class qe extends er{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const dV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends er{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return dV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new Tt([n_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(qe.fromString(e))}static fromName(e){return new re(qe.fromString(e).popFirst(5))}static empty(){return new re(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fV(t,e,n,r){if(e===!0&&r===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function r_(t){if(!re.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ty(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function fc(t,e){if(!aS(t))throw new te(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new te(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=-62135596800,i_=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*i_);return new $e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s_)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:it("string",$e._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new $e(0,0))}static max(){return new ce(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function pV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Bs(s,re.empty(),e)}function mV(t){return new Bs(t.readTime,t.key,Kl)}class Bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bs(ce.min(),re.empty(),Kl)}static max(){return new Bs(ce.max(),re.empty(),Kl)}}function gV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==yV)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function wV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-1;function bh(t){return t==null}function bd(t){return t===0&&1/t==-1/0}function _V(t){return typeof t=="number"&&Number.isInteger(t)&&!bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="";function xV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=o_(e)),e=EV(t.get(n),e);return o_(e)}function EV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case lS:n+="";break;default:n+=i}}return n}function o_(t){return t+lS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??bt.RED,this.left=s??bt.EMPTY,this.right=i??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new bt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(e){return new l_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class l_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new cn([])}unionWith(e){let n=new ft(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new uS("Invalid base64 string: "+i):i}}(e);return new It(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const bV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=bV.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="server_timestamp",hS="__type__",fS="__previous_value__",pS="__local_write_time__";function Cy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hS])==null?void 0:r.stringValue)===dS}function Th(t){const e=t.mapValue.fields[fS];return Cy(e)?Th(e):e}function Gl(t){const e=Hs(t.mapValue.fields[pS].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,s,i,o,a,l,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=h}}const Td="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||Td}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===Td}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function SV(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="__type__",gS="__max__",iu={mapValue:{fields:{__type__:{stringValue:gS}}}},yS="__vector__",Sd="value";function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cy(t)?4:IV(t)?9007199254740991:CV(t)?10:11:ae(28295,{value:t})}function vr(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gl(t).isEqual(Gl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Hs(s.timestampValue),a=Hs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ws(s.bytesValue).isEqual(Ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ze(s.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(s.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ze(s.integerValue)===Ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ze(s.doubleValue),a=Ze(i.doubleValue);return o===a?bd(o)===bd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(a_(o)!==a_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!vr(o[l],a[l])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function Yl(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function ra(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ze(i.integerValue||i.doubleValue),l=Ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return c_(t.timestampValue,e.timestampValue);case 4:return c_(Gl(t),Gl(e));case 5:return Rm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ws(i),l=Ws(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ve(a[u],l[u]);if(d!==0)return d}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ve(Ze(i.latitude),Ze(o.latitude));return a!==0?a:ve(Ze(i.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return u_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,g,b,y;const a=i.fields||{},l=o.fields||{},u=(m=a[Sd])==null?void 0:m.arrayValue,d=(g=l[Sd])==null?void 0:g.arrayValue,h=ve(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return h!==0?h:u_(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===iu.mapValue&&o===iu.mapValue)return 0;if(i===iu.mapValue)return 1;if(o===iu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const m=Rm(l[h],d[h]);if(m!==0)return m;const g=ra(a[l[h]],u[d[h]]);if(g!==0)return g}return ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function c_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Hs(t),r=Hs(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function u_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ra(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function sa(t){return Am(t)}function Am(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Am(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Am(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function Nu(t){switch(qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(t);return e?16+Nu(e):16;case 5:return 2*t.stringValue.length;case 6:return Ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Nu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Zs(r.fields,(i,o)=>{s+=i.length+Nu(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function Pm(t){return!!t&&"integerValue"in t}function Iy(t){return!!t&&"arrayValue"in t}function d_(t){return!!t&&"nullValue"in t}function h_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Du(t){return!!t&&"mapValue"in t}function CV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mS])==null?void 0:r.stringValue)===yS}function gl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gl(t.arrayValue.values[n]);return e}return{...t}}function IV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=gl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Du(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Xt(gl(this.value))}}function vS(t){const e=[];return Zs(t.fields,(n,r)=>{const s=new Tt([n]);if(Du(r)){const i=vS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ce.min(),ce.min(),ce.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,ce.min(),ce.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ce.min(),ce.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.position=e,this.inclusive=n}}function f_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=ra(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function p_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n="asc"){this.field=e,this.dir=n}}function RV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{}class ut extends wS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PV(e,n,r):n==="array-contains"?new DV(e,r):n==="in"?new OV(e,r):n==="not-in"?new MV(e,r):n==="array-contains-any"?new LV(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kV(e,r):new NV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ra(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends wS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wr(e,n)}matches(e){return _S(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _S(t){return t.op==="and"}function xS(t){return AV(t)&&_S(t)}function AV(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function km(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+sa(t.value);if(xS(t))return t.filters.map(e=>km(e)).join(",");{const e=t.filters.map(n=>km(n)).join(",");return`${t.op}(${e})`}}function ES(t,e){return t instanceof ut?function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&vr(r.value,s.value)}(t,e):t instanceof wr?function(r,s){return s instanceof wr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ES(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function bS(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${sa(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(bS).join(" ,")+"}"}(t):"Filter"}class PV extends ut{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class kV extends ut{constructor(e,n){super(e,"in",n),this.keys=TS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NV extends ut{constructor(e,n){super(e,"not-in",n),this.keys=TS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class DV extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iy(n)&&Yl(n.arrayValue,this.value)}}class OV extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class MV extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class LV extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function m_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new VV(t,e,n,r,s,i,o)}function Ry(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>km(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sa(r)).join(",")),e.Te=n}return e.Te}function Ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ES(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p_(t.startAt,e.startAt)&&p_(t.endAt,e.endAt)}function Nm(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function jV(t,e,n,r,s,i,o,a){return new Sh(t,e,n,r,s,i,o,a)}function Ch(t){return new Sh(t)}function g_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FV(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function UV(t){return t.collectionGroup!==null}function yl(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(Tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Id(i,r))}),n.has(Tt.keyField().canonicalString())||e.Ie.push(new Id(Tt.keyField(),r))}return e.Ie}function dr(t){const e=de(t);return e.Ee||(e.Ee=$V(e,yl(t))),e.Ee}function $V(t,e){if(t.limitType==="F")return m_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Id(s.field,i)});const n=t.endAt?new Cd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cd(t.startAt.position,t.startAt.inclusive):null;return m_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dm(t,e,n){return new Sh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return Ay(dr(t),dr(e))&&t.limitType===e.limitType}function SS(t){return`${Ry(dr(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>bS(s)).join(", ")}]`),bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>sa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>sa(s)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function Rh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of yl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=f_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,yl(r),s)||r.endAt&&!function(o,a,l){const u=f_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,yl(r),s))}(t,e)}function zV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CS(t){return(e,n)=>{let r=!1;for(const s of yl(t)){const i=BV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function BV(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?ra(l,u):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return cS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=new Qe(re.comparator);function Br(){return HV}const IS=new Qe(re.comparator);function el(...t){let e=IS;for(const n of t)e=e.insert(n.key,n);return e}function RS(t){let e=IS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return vl()}function AS(){return vl()}function vl(){return new Ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const WV=new Qe(re.comparator),qV=new ft(re.comparator);function we(...t){let e=qV;for(const n of t)e=e.add(n);return e}const KV=new ft(ve);function GV(){return KV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function PS(t){return{integerValue:""+t}}function QV(t,e){return _V(e)?PS(e):Py(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function YV(t,e,n){return t instanceof Rd?function(s,i){const o={fields:{[hS]:{stringValue:dS},[pS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Cy(i)&&(i=Th(i)),i&&(o.fields[fS]=i),{mapValue:o}}(n,e):t instanceof Xl?NS(t,e):t instanceof Jl?DS(t,e):function(s,i){const o=kS(s,i),a=y_(o)+y_(s.Ae);return Pm(o)&&Pm(s.Ae)?PS(a):Py(s.serializer,a)}(t,e)}function XV(t,e,n){return t instanceof Xl?NS(t,e):t instanceof Jl?DS(t,e):n}function kS(t,e){return t instanceof Ad?function(r){return Pm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Rd extends Ah{}class Xl extends Ah{constructor(e){super(),this.elements=e}}function NS(t,e){const n=OS(e);for(const r of t.elements)n.some(s=>vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jl extends Ah{constructor(e){super(),this.elements=e}}function DS(t,e){let n=OS(e);for(const r of t.elements)n=n.filter(s=>!vr(s,r));return{arrayValue:{values:n}}}class Ad extends Ah{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function y_(t){return Ze(t.integerValue||t.doubleValue)}function OS(t){return Iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Xl&&s instanceof Xl||r instanceof Jl&&s instanceof Jl?na(r.elements,s.elements,vr):r instanceof Ad&&s instanceof Ad?vr(r.Ae,s.Ae):r instanceof Rd&&s instanceof Rd}(t.transform,e.transform)}class ZV{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ph{}function MS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VS(t.key,hr.none()):new pc(t.key,t.data,hr.none());{const n=t.data,r=Xt.empty();let s=new ft(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ei(t.key,r,new cn(s.toArray()),hr.none())}}function ej(t,e,n){t instanceof pc?function(s,i,o){const a=s.value.clone(),l=w_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ei?function(s,i,o){if(!Ou(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=w_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(LS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wl(t,e,n,r){return t instanceof pc?function(i,o,a,l){if(!Ou(i.precondition,o))return a;const u=i.value.clone(),d=__(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ei?function(i,o,a,l){if(!Ou(i.precondition,o))return a;const u=__(i.fieldTransforms,l,o),d=o.data;return d.setAll(LS(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Ou(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=kS(r.transform,s||null);i!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,i))}return n||null}function v_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&na(r,s,(i,o)=>JV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends Ph{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ei extends Ph{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function LS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function w_(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,XV(o,a,n[s]))}return r}function __(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,YV(i,o,e))}return r}class VS extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nj extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&ej(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=MS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(n,r)=>v_(n,r))&&na(this.baseMutations,e.baseMutations,(n,r)=>v_(n,r))}}class ky{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return WV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ky(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Ee;function oj(t){switch(t){case B.OK:return ae(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function jS(t){if(t===void 0)return zr("GRPC error has no .code"),B.UNKNOWN;switch(t){case rt.OK:return B.OK;case rt.CANCELLED:return B.CANCELLED;case rt.UNKNOWN:return B.UNKNOWN;case rt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case rt.INTERNAL:return B.INTERNAL;case rt.UNAVAILABLE:return B.UNAVAILABLE;case rt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case rt.NOT_FOUND:return B.NOT_FOUND;case rt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case rt.ABORTED:return B.ABORTED;case rt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case rt.DATA_LOSS:return B.DATA_LOSS;default:return ae(39323,{code:t})}}(Ee=rt||(rt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new Ls([4294967295,4294967295],0);function x_(t){const e=aj().encode(t),n=new ZT;return n.update(e),new Uint8Array(n.digest())}function E_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([s,i],0)]}class Ny{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tl(`Invalid padding: ${n}`);if(r<0)throw new tl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ls.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ls.fromNumber(r)));return s.compare(lj)===1&&(s=new Ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=x_(e),[r,s]=E_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ny(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=x_(e),[r,s]=E_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kh(ce.min(),s,new Qe(ve),Br(),we())}}class mc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class FS{constructor(e,n){this.targetId=e,this.Ce=n}}class US{constructor(e,n,r=It.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class b_{constructor(){this.ve=0,this.Fe=T_(),this.Me=It.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new mc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=T_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Br(),this.He=ou(),this.Je=ou(),this.Ze=new Qe(ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Nm(i))if(r===0){const o=new re(i.path);this.et(n,o,Mt.newNoDocument(o,ce.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ws(r).toUint8Array()}catch(l){if(l instanceof uS)return Mi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ny(o,s,i)}catch(l){return Mi(l instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Nm(a.target)){const l=new re(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Mt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=we();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new kh(e,n,this.Ze,this.je,r);return this.je=Br(),this.He=ou(),this.Je=ou(),this.Ze=new Qe(ve),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new b_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ft(ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ft(ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ou(){return new Qe(re.comparator)}function T_(){return new Qe(re.comparator)}const uj={asc:"ASCENDING",desc:"DESCENDING"},dj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hj={and:"AND",or:"OR"};class fj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function Pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $S(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pj(t,e){return Pd(t,e.toTimestamp())}function fr(t){return Ae(!!t,49232),ce.fromTimestamp(function(n){const r=Hs(n);return new $e(r.seconds,r.nanos)}(t))}function Dy(t,e){return Mm(t,e).canonicalString()}function Mm(t,e){const n=function(s){return new qe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zS(t){const e=qe.fromString(t);return Ae(KS(e),10190,{key:e.toString()}),e}function Lm(t,e){return Dy(t.databaseId,e.path)}function tp(t,e){const n=zS(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(HS(n))}function BS(t,e){return Dy(t.databaseId,e)}function mj(t){const e=zS(t);return e.length===4?qe.emptyPath():HS(e)}function Vm(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HS(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function S_(t,e,n){return{name:Lm(t,e),fields:n.value.mapValue.fields}}function gj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ae(d===void 0||typeof d=="string",58123),It.fromBase64String(d||"")):(Ae(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),It.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?B.UNKNOWN:jS(u.code);return new te(d,u.message||"")}(o);n=new US(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=tp(t,r.document.name),i=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):ce.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Mu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=tp(t,r.document),i=r.readTime?fr(r.readTime):ce.min(),o=Mt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Mu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=tp(t,r.document),i=r.removedTargetIds||[];n=new Mu([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new ij(s,i),a=r.targetId;n=new FS(a,o)}}return n}function yj(t,e){let n;if(e instanceof pc)n={update:S_(t,e.key,e.value)};else if(e instanceof VS)n={delete:Lm(t,e.key)};else if(e instanceof ei)n={update:S_(t,e.key,e.data),updateMask:Cj(e.fieldMask)};else{if(!(e instanceof nj))return ae(16599,{dt:e.type});n={verify:Lm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Rd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ad)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pj(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function vj(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?fr(s.updateTime):fr(i);return o.isEqual(ce.min())&&(o=fr(i)),new ZV(o,s.transformResults||[])}(n,e))):[]}function wj(t,e){return{documents:[BS(t,e.path)]}}function _j(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BS(t,s);const i=function(u){if(u.length!==0)return qS(wr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:ao(m.field),direction:bj(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Om(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function xj(t){let e=mj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=WS(h);return m instanceof wr&&xS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(b){return new Id(lo(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,bh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,g=h.values||[];return new Cd(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,g=h.values||[];return new Cd(g,m)}(n.endAt)),jV(e,s,o,i,a,"F",l,u)}function Ej(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=lo(n.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=lo(n.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lo(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return ut.create(lo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>WS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function bj(t){return uj[t]}function Tj(t){return dj[t]}function Sj(t){return hj[t]}function ao(t){return{fieldPath:t.canonicalString()}}function lo(t){return Tt.fromServerFormat(t.fieldPath)}function qS(t){return t instanceof ut?function(n){if(n.op==="=="){if(h_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(d_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(d_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:Tj(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(s=>qS(s));return r.length===1?r[0]:{compositeFilter:{op:Sj(n.op),filters:r}}}(t):ae(54877,{filter:t})}function Cj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function GS(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.yt=e}}function Rj(t){const e=xj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.Sn=new Pj}addToCollectionParentIndex(e,n){return this.Sn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Bs.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class Pj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ft(qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ft(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QS=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(QS,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ia(0)}static ar(){return new ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",kj=1048576;function R_([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class Nj{constructor(e){this.Pr=e,this.buffer=new ft(R_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();R_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Dj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Z(I_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wa(n)?Z(I_,"Ignoring IndexedDB error during garbage collection: ",n):await va(n)}await this.Ar(3e5)})}}class Oj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Eh.ce);const r=new Nj(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(C_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),io()<=ye.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function Mj(t,e){return new Oj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this.changes=new Ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&wl(r.mutation,s,cn.empty(),$e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=mi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=el();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Br();const o=vl(),a=function(){return vl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ei)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),wl(d.mutation,u,d.mutation.getFieldMask(),$e.now())):o.set(u.key,cn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new Vj(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=vl();let s=new Qe((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||cn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=AS();d.forEach(m=>{if(!i.has(m)){const g=MS(n.get(m),r.get(m));g!==null&&h.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return FV(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(mi());let a=Kl,l=i;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,we())).next(d=>({batchId:a,changes:RS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=el();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=el();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(h,m){return new Sh(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Mt.newInvalidDocument(d)))});let a=el();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&wl(d.mutation,u,cn.empty(),$e.now()),Rh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:fr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:Rj(s.bundledQuery),readTime:fr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.overlays=new Qe(re.comparator),this.Lr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mi();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=mi(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=mi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=mi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return z.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sj(n,r));let i=this.Lr.get(n);i===void 0&&(i=we(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.kr=new ft(yt.Kr),this.qr=new ft(yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new yt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new re(new qe([])),r=new yt(n,e),s=new yt(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new re(new qe([])),r=new yt(n,e),s=new yt(n,e+1);let i=we();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new yt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return re.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ft(yt.Kr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new yt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Sy:this.Yn-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(ve);return n.forEach(s=>{const i=new yt(s,0),o=new yt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new yt(new re(i),0);let a=new ft(ve);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Hr)),!0)},o),z.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return z.forEach(n.mutations,s=>{const i=new yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new yt(n,0),s=this.Jr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.ti=e,this.docs=function(){return new Qe(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Br();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||gV(mV(d),r)<=0||(s.has(d.key)||Rh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ni(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Hj(this)}getSize(e){return z.resolve(this.size)}}class Hj extends Lj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.persistence=e,this.ri=new Ki(n=>Ry(n),Ay),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.ii=0,this.si=new Oy,this.targetCount=0,this.oi=ia._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ia(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.lr(n),z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this._i={},this.overlays={},this.ai=new Eh(0),this.ui=!1,this.ui=!0,this.ci=new $j,this.referenceDelegate=e(this),this.li=new Wj(this),this.indexManager=new Aj,this.remoteDocumentCache=function(s){return new Bj(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Ij(n),this.Pi=new Fj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Uj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new zj(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new qj(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return z.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class qj extends vV{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.Ri=new Oy,this.Ai=null}static Vi(e){return new My(e)}get di(){if(this.Ai)return this.Ai;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,r=>{const s=re.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class kd{constructor(e,n){this.persistence=e,this.fi=new Ki(r=>xV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Mj(this,n)}static Vi(e,n){return new kd(e,n)}Ti(){}Ii(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return z.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nu(e.data.value)),n}wr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ly(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return VL()?8:wV(Vt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Kj;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(io()<=ye.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(io()<=ye.DEBUG&&Z("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(io()<=ye.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):z.resolve())}gs(e,n){if(g_(n))return z.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Dm(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ss(n,u,o,l.readTime)?this.gs(e,Dm(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,s){return g_(n)||s.isEqual(ce.min())?z.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?z.resolve(null):(io()<=ye.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),oo(n)),this.Ds(e,o,n,pV(s,Kl)).next(a=>a))})}bs(e,n){let r=new ft(CS(e));return n.forEach((s,i)=>{Rh(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return io()<=ye.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",oo(n)),this.fs.getDocumentsMatchingQuery(e,n,Bs.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LocalStore",Qj=3e8;class Yj{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Qe(ve),this.Fs=new Ki(i=>Ry(i),Ay),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function Xj(t,e,n,r){return new Yj(t,e,n,r)}async function XS(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function Jj(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,m=h.keys();let g=z.resolve();return m.forEach(b=>{g=g.next(()=>d.getEntry(l,b)).next(y=>{const E=u.docVersions.get(b);Ae(E!==null,48541),y.version.compareTo(E)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function JS(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function Zj(t,e){const n=de(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;a.push(n.li.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,h)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(It.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(y,E,x){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=Qj?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,g,d)&&a.push(n.li.updateTargetData(i,g))});let l=Br(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(e5(i,o,e.documentUpdates).next(d=>{l=d.Bs,u=d.Ls})),!r.isEqual(ce.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(h=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.vs=s,i))}function e5(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Br();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z(Vy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function t5(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function n5(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new Ts(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function jm(t,e,n){const r=de(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wa(o))throw o;Z(Vy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function A_(t,e,n){const r=de(t);let s=ce.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=de(l),m=h.Fs.get(d);return m!==void 0?z.resolve(h.vs.get(m)):h.li.getTargetData(u,d)}(r,o,dr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:we())).next(a=>(r5(r,zV(e),a),{documents:a,ks:i})))}function r5(t,e,n){let r=t.Ms.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class P_{constructor(){this.activeTargetIds=GV()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s5{constructor(){this.vo=new P_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new P_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class N_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Z(k_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Z(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function Fm(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",o5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class a5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Td?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Fm(),a=this.Qo(e,n.toUriEncodedString());Z(np,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:u}=new URL(a),d=ma(u);return this.zo(e,a,l,r,d).then(h=>(Z(np,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Mi(np,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=o5[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection",Ka=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class ko extends a5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ko.c_){const e=rS();Ka(e,nS.STAT_EVENT,n=>{n.stat===Im.PROXY?Z(kt,"STAT_EVENT: detected buffering proxy"):n.stat===Im.NOPROXY&&Z(kt,"STAT_EVENT: detected no buffering proxy")}),ko.c_=!0}}zo(e,n,r,s,i){const o=Fm();return new Promise((a,l)=>{const u=new eS;u.setWithCredentials(!0),u.listenOnce(tS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ku.NO_ERROR:const h=u.getResponseJson();Z(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case ku.TIMEOUT:Z(kt,`RPC '${e}' ${o} timed out`),l(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case ku.HTTP_ERROR:const m=u.getStatus();if(Z(kt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const y=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(b.status);l(new te(y,b.message))}else l(new te(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new te(B.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Z(kt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Z(kt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Fm(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");Z(kt,`Creating RPC '${e}' stream ${s}: ${u}`,a);const d=o.createWebChannel(u,a);this.I_(d);let h=!1,m=!1;const g=new l5({Ho:b=>{m?Z(kt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(h||(Z(kt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),Z(kt,`RPC '${e}' stream ${s} sending:`,b),d.send(b))},Jo:()=>d.close()});return Ka(d,Za.EventType.OPEN,()=>{m||(Z(kt,`RPC '${e}' stream ${s} transport opened.`),g.i_())}),Ka(d,Za.EventType.CLOSE,()=>{m||(m=!0,Z(kt,`RPC '${e}' stream ${s} transport closed`),g.o_(),this.E_(d))}),Ka(d,Za.EventType.ERROR,b=>{m||(m=!0,Mi(kt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),g.o_(new te(B.UNAVAILABLE,"The operation could not be completed")))}),Ka(d,Za.EventType.MESSAGE,b=>{var y;if(!m){const E=b.data[0];Ae(!!E,16349);const x=E,_=(x==null?void 0:x.error)||((y=x[0])==null?void 0:y.error);if(_){Z(kt,`RPC '${e}' stream ${s} received error:`,_);const T=_.status;let N=function(C){const S=rt[C];if(S!==void 0)return jS(S)}(T),O=_.message;T==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&Mi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),N===void 0&&(N=B.INTERNAL,O="Unknown error status: "+T+" with message "+_.message),m=!0,g.o_(new te(N,O)),d.close()}else Z(kt,`RPC '${e}' stream ${s} received:`,E),g.__(E)}}),ko.u_(),setTimeout(()=>{g.s_()},0),g}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return sS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){return new ko(t)}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){return new fj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko.c_=!1;class ZS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="PersistentStream";class eC{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(D_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Z(D_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u5 extends eC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gj(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?fr(o.readTime):ce.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Vm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Nm(l)?{documents:wj(i,l)}:{query:_j(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$S(i,o.resumeToken);const u=Om(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Pd(i,o.snapshotVersion.toTimestamp());const u=Om(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Ej(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.K_(n)}}class d5 extends eC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vj(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Vm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yj(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{}class f5 extends h5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Mm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(B.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Mm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function p5(t,e,n,r){return new f5(t,e,n,r)}class m5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="RemoteStore";class g5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Gi(this)&&(Z(Li,"Restarting streams for network reachability change."),await async function(l){const u=de(l);u.Ea.add(4),await gc(u),u.Va.set("Unknown"),u.Ea.delete(4),await Dh(u)}(this))})}),this.Va=new m5(r,s)}}async function Dh(t){if(Gi(t))for(const e of t.Ra)await e(!0)}async function gc(t){for(const e of t.Ra)await e(!1)}function tC(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$y(n)?Uy(n):_a(n).O_()&&Fy(n,e))}function jy(t,e){const n=de(t),r=_a(n);n.Ia.delete(e),r.O_()&&nC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Gi(n)&&n.Va.set("Unknown"))}function Fy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).Z_(e)}function nC(t,e){t.da.$e(e),_a(t).X_(e)}function Uy(t){t.da=new cj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.Va.ua()}function $y(t){return Gi(t)&&!_a(t).x_()&&t.Ia.size>0}function Gi(t){return de(t).Ea.size===0}function rC(t){t.da=void 0}async function y5(t){t.Va.set("Online")}async function v5(t){t.Ia.forEach((e,n)=>{Fy(t,e)})}async function w5(t,e){rC(t),$y(t)?(t.Va.ha(e),Uy(t)):t.Va.set("Unknown")}async function _5(t,e,n){if(t.Va.set("Online"),e instanceof US&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){Z(Li,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nd(t,r)}else if(e instanceof Mu?t.da.Xe(e):e instanceof FS?t.da.st(e):t.da.tt(e),!n.isEqual(ce.min()))try{const r=await JS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(It.EMPTY_BYTE_STRING,d.snapshotVersion)),nC(i,l);const h=new Ts(d.target,l,u,d.sequenceNumber);Fy(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(Li,"Failed to raise snapshot:",r),await Nd(t,r)}}async function Nd(t,e,n){if(!wa(e))throw e;t.Ea.add(1),await gc(t),t.Va.set("Offline"),n||(n=()=>JS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(Li,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dh(t)})}function sC(t,e){return e().catch(n=>Nd(t,n,e))}async function Oh(t){const e=de(t),n=Ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sy;for(;x5(e);)try{const s=await t5(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,E5(e,s)}catch(s){await Nd(e,s)}iC(e)&&oC(e)}function x5(t){return Gi(t)&&t.Ta.length<10}function E5(t,e){t.Ta.push(e);const n=Ks(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function iC(t){return Gi(t)&&!Ks(t).x_()&&t.Ta.length>0}function oC(t){Ks(t).start()}async function b5(t){Ks(t).ra()}async function T5(t){const e=Ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function S5(t,e,n){const r=t.Ta.shift(),s=ky.from(r,e,n);await sC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Oh(t)}async function C5(t,e){e&&Ks(t).Y_&&await async function(r,s){if(function(o){return oj(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Ks(r).B_(),await sC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Oh(r)}}(t,e),iC(t)&&oC(t)}async function O_(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),Z(Li,"RemoteStore received new credentials");const r=Gi(n);n.Ea.add(3),await gc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dh(n)}async function I5(t,e){const n=de(t);e?(n.Ea.delete(2),await Dh(n)):e||(n.Ea.add(2),await gc(n),n.Va.set("Unknown"))}function _a(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new u5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:y5.bind(null,t),Yo:v5.bind(null,t),t_:w5.bind(null,t),J_:_5.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),$y(t)?Uy(t):t.Va.set("Unknown")):(await t.ma.stop(),rC(t))})),t.ma}function Ks(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new d5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:b5.bind(null,t),t_:C5.bind(null,t),ta:T5.bind(null,t),na:S5.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Oh(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(Li,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new zy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(t,e){if(zr("AsyncQueue",`${e}: ${t}`),wa(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=el(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.ga=new Qe(re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class oa{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oa(e,n,No.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class A5{constructor(){this.queries=L_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=L_(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function L_(){return new Ki(t=>SS(t),Ih)}async function aC(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new R5,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=By(o,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Hy(n)}async function lC(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function P5(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&Hy(n)}function k5(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Hy(t){t.Ca.forEach(e=>{e.next()})}var Um,V_;(V_=Um||(Um={})).Ma="default",V_.Cache="cache";class cC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.key=e}}class dC{constructor(e){this.key=e}}class N5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=we(),this.mutatedKeys=we(),this.eu=CS(e),this.tu=new No(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new M_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),g=Rh(this.query,h)?h:null,b=!!m&&this.mutatedKeys.has(m.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;m&&g?m.data.isEqual(g.data)?b!==y&&(r.track({type:3,doc:g}),E=!0):this.su(m,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),E=!0):m&&!g&&(r.track({type:1,doc:m}),E=!0,(l||u)&&(a=!0)),E&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(g,b){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Vt:E})}};return y(g)-y(b)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,u=l!==this.Xa;return this.Xa=l,o.length!==0||u?{snapshot:new oa(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new dC(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new uC(r))}),n}cu(e){this.Za=e.ks,this.Ya=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wy="SyncEngine";class D5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class O5{constructor(e){this.key=e,this.hu=!1}}class M5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ki(a=>SS(a),Ih),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qe(re.comparator),this.Au=new Map,this.Vu=new Oy,this.du={},this.mu=new Map,this.fu=ia.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L5(t,e,n=!0){const r=yC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await hC(r,e,n,!0),s}async function V5(t,e){const n=yC(t);await hC(n,e,!0,!1)}async function hC(t,e,n,r){const s=await n5(t.localStore,dr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await j5(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&tC(t.remoteStore,s),a}async function j5(t,e,n,r,s){t.pu=(h,m,g)=>async function(y,E,x,_){let T=E.view.ru(x);T.Ss&&(T=await A_(y.localStore,E.query,!1).then(({documents:C})=>E.view.ru(C,T)));const N=_&&_.targetChanges.get(E.targetId),O=_&&_.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,y.isPrimaryClient,N,O);return F_(y,E.targetId,M.au),M.snapshot}(t,h,m,g);const i=await A_(t.localStore,e,!0),o=new N5(e,i.ks),a=o.ru(i.documents),l=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);F_(t,n,u.au);const d=new D5(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function F5(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Ih(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&jy(r.remoteStore,s.targetId),$m(r,s.targetId)}).catch(va)):($m(r,s.targetId),await jm(r.localStore,s.targetId,!0))}async function U5(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jy(n.remoteStore,r.targetId))}async function $5(t,e,n){const r=G5(t);try{const s=await function(o,a){const l=de(o),u=$e.now(),d=a.reduce((g,b)=>g.add(b.key),we());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Br(),y=we();return l.xs.getEntries(g,d).next(E=>{b=E,b.forEach((x,_)=>{_.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(E=>{h=E;const x=[];for(const _ of a){const T=tj(_,h.get(_.key).overlayedDocument);T!=null&&x.push(new ei(_.key,T,vS(T.value.mapValue),hr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,x,a)}).next(E=>{m=E;const x=E.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(g,E.batchId,x)})}).then(()=>({batchId:m.batchId,changes:RS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.du[o.currentUser.toKey()];u||(u=new Qe(ve)),u=u.insert(a,l),o.du[o.currentUser.toKey()]=u}(r,s.batchId,n),await yc(r,s.changes),await Oh(r.remoteStore)}catch(s){const i=By(s,"Failed to persist write");n.reject(i)}}async function fC(t,e){const n=de(t);try{const r=await Zj(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ae(o.hu,14607):s.removedDocuments.size>0&&(Ae(o.hu,42227),o.hu=!1))}),await yc(n,r,e)}catch(r){await va(r)}}function j_(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const m of h.ba)m.va(a)&&(u=!0)}),u&&Hy(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function z5(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Qe(re.comparator);o=o.insert(i,Mt.newNoDocument(i,ce.min()));const a=we().add(i),l=new kh(ce.min(),new Map,new Qe(ve),o,a);await fC(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),qy(r)}else await jm(r.localStore,e,!1).then(()=>$m(r,e,n)).catch(va)}async function B5(t,e){const n=de(t),r=e.batch.batchId;try{const s=await Jj(n.localStore,e);mC(n,r,null),pC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yc(n,s)}catch(s){await va(s)}}async function H5(t,e,n){const r=de(t);try{const s=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ae(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);mC(r,e,n),pC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yc(r,s)}catch(s){await va(s)}}function pC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function mC(t,e,n){const r=de(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function $m(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||gC(t,r)})}function gC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(jy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),qy(t))}function F_(t,e,n){for(const r of n)r instanceof uC?(t.Vu.addReference(r.key,e),W5(t,r)):r instanceof dC?(Z(Wy,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||gC(t,r.key)):ae(19791,{wu:r})}function W5(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Z(Wy,"New document in limbo: "+n),t.Eu.add(r),qy(t))}function qy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new re(qe.fromString(e)),r=t.fu.next();t.Au.set(r,new O5(n)),t.Ru=t.Ru.insert(n,r),tC(t.remoteStore,new Ts(dr(Ch(n.path)),r,"TargetPurposeLimboResolution",Eh.ce))}}async function yc(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Ly.Es(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,u){const d=de(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,m=>z.forEach(m.Ts,g=>d.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>z.forEach(m.Is,g=>d.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!wa(h))throw h;Z(Vy,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const g=d.vs.get(m),b=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(b);d.vs=d.vs.insert(m,y)}}}(r.localStore,i))}async function q5(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){Z(Wy,"User change. New user:",e.toKey());const r=await XS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new te(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yc(n,r.Ns)}}function K5(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let s=we();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function yC(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z5.bind(null,e),e.Pu.J_=P5.bind(null,e.eventManager),e.Pu.yu=k5.bind(null,e.eventManager),e}function G5(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H5.bind(null,e),e}class Dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Xj(this.persistence,new Gj,e.initialUser,this.serializer)}Cu(e){return new YS(My.Vi,this.serializer)}Du(e){return new s5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dd.provider={build:()=>new Dd};class Q5 extends Dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof kd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Dj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new YS(r=>kd.Vi(r,n),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=q5.bind(null,this.syncEngine),await I5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A5}()}createDatastore(e){const n=Nh(e.databaseInfo.databaseId),r=c5(e.databaseInfo);return p5(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new g5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>j_(this.syncEngine,n,0),function(){return N_.v()?new N_:new i5}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new M5(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);Z(Li,"RemoteStore shutting down."),i.Ea.add(5),await gc(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class Y5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=by.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(Gs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(Gs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=By(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sp(t,e){t.asyncQueue.verifyOperationInProgress(),Z(Gs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await XS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function U_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X5(t);Z(Gs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>O_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>O_(e.remoteStore,s)),t._onlineComponents=e}async function X5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(Gs,"Using user provided OfflineComponentProvider");try{await sp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Mi("Error using user provided cache. Falling back to memory cache: "+n),await sp(t,new Dd)}}else Z(Gs,"Using default OfflineComponentProvider"),await sp(t,new Q5(void 0));return t._offlineComponents}async function wC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(Gs,"Using user provided OnlineComponentProvider"),await U_(t,t._uninitializedComponentsProvider._online)):(Z(Gs,"Using default OnlineComponentProvider"),await U_(t,new zm))),t._onlineComponents}function J5(t){return wC(t).then(e=>e.syncEngine)}async function Bm(t){const e=await wC(t),n=e.eventManager;return n.onListen=L5.bind(null,e.syncEngine),n.onUnlisten=F5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U5.bind(null,e.syncEngine),n}function Z5(t,e,n,r){const s=new vC(r),i=new cC(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>aC(await Bm(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>lC(await Bm(t),i))}}function e3(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new vC({next:m=>{d.Nu(),o.enqueueAndForget(()=>lC(i,h));const g=m.docs.has(a);!g&&m.fromCache?u.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new cC(Ch(a.path),d,{includeMetadataChanges:!0,Ka:!0});return aC(i,h)}(await Bm(t),t.asyncQueue,e,n,r)),r.promise}function t3(t,e){const n=new Vs;return t.asyncQueue.enqueueAndForget(async()=>$5(await J5(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="ComponentProvider",$_=new Map;function r3(t,e,n,r,s){return new TV(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,_C(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firestore.googleapis.com",z_=!0;class B_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xC,this.ssl=z_}else this.host=e.host,this.ssl=e.ssl??z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kj)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_C(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ky{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nV;switch(r.type){case"firstParty":return new oV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$_.get(n);r&&(Z(n3,"Removing Datastore"),$_.delete(n),r.terminate())}(this),Promise.resolve()}}function s3(t,e,n,r={}){var u;t=ur(t,Ky);const s=ma(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(WT(`https://${a}`),qT("Firestore",!0)),i.host!==xC&&i.host!==a&&Mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Ni(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Dt.MOCK_USER;else{d=RL(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Dt(m)}t._authCredentials=new rV(new oS(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fc(n,ot._jsonSchema))return new ot(e,r||null,new re(qe.fromString(n.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:it("string",ot._jsonSchemaVersion),referencePath:it("string")};class Zl extends Mh{constructor(e,n,r){super(e,n,Ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new re(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function Lh(t,e,...n){if(t=nn(t),arguments.length===1&&(e=by.newId()),hV("doc","path",e),t instanceof Ky){const r=qe.fromString(e,...n);return r_(r),new ot(t,null,new re(r))}{if(!(t instanceof ot||t instanceof Zl))throw new te(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return r_(r),new ot(t.firestore,t instanceof Zl?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class W_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZS(this,"async_queue_retry"),this._c=()=>{const r=rp();r&&Z(H_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Vs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!wa(e))throw e;Z(H_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",q_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=zy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function q_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class aa extends Ky{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new W_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W_(e),this._firestoreClient=void 0,await e}}}function i3(t,e){const n=typeof t=="object"?t:YT(),r=typeof t=="string"?t:Td,s=xy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=CL("firestore");i&&s3(s,...i)}return s}function Gy(t){if(t._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o3(t),t._firestoreClient}function o3(t){var r,s,i,o;const e=t._freezeSettings(),n=r3(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Y5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(It.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _n(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:it("string",_n._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(fc(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:it("string",pr._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new zn(e.vectorValues);throw new te(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zn._jsonSchemaVersion="firestore/vectorValue/1.0",zn._jsonSchema={type:it("string",zn._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=/^__.*__$/;class l3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class EC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{dataSource:t})}}class Xy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Od(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(bC(this.dataSource)&&a3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class c3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nh(e)}createContext(e,n,r,s=!1){return new Xy({dataSource:e,methodName:n,targetDoc:r,path:Tt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TC(t){const e=t._freezeSettings(),n=Nh(t._databaseId);return new c3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u3(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);Jy("Data must be an object, but it was:",o,r);const a=SC(r,o);let l,u;if(i.merge)l=new cn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const m=ec(e,h,n);if(!o.contains(m))throw new te(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);RC(d,m)||d.push(m)}l=new cn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new l3(new Xt(a),l,u)}class Vh extends Yy{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function d3(t,e,n,r){const s=t.createContext(1,e,n);Jy("Data must be an object, but it was:",s,r);const i=[],o=Xt.empty();Zs(r,(l,u)=>{const d=IC(e,l,n);u=nn(u);const h=s.childContextForFieldPath(d);if(u instanceof Vh)i.push(d);else{const m=jh(u,h);m!=null&&(i.push(d),o.set(d,m))}});const a=new cn(i);return new EC(o,a,s.fieldTransforms)}function h3(t,e,n,r,s,i){const o=t.createContext(1,e,n),a=[ec(e,r,n)],l=[s];if(i.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(ec(e,i[m])),l.push(i[m+1]);const u=[],d=Xt.empty();for(let m=a.length-1;m>=0;--m)if(!RC(u,a[m])){const g=a[m];let b=l[m];b=nn(b);const y=o.childContextForFieldPath(g);if(b instanceof Vh)u.push(g);else{const E=jh(b,y);E!=null&&(u.push(g),d.set(g,E))}}const h=new cn(u);return new EC(d,h,o.fieldTransforms)}function jh(t,e){if(CC(t=nn(t)))return Jy("Unsupported field value:",e,t),SC(t,e);if(t instanceof Yy)return function(r,s){if(!bC(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=jh(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$e.fromDate(r);return{timestampValue:Pd(s.serializer,i)}}if(r instanceof $e){const i=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pd(s.serializer,i)}}if(r instanceof pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _n)return{bytesValue:$S(s.serializer,r._byteString)};if(r instanceof ot){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Dy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof zn)return function(o,a){const l=o instanceof zn?o.toArray():o;return{mapValue:{fields:{[mS]:{stringValue:yS},[Sd]:{arrayValue:{values:l.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return Py(a.serializer,d)})}}}}}}(r,s);if(GS(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Ty(r)}`)}(t,e)}function SC(t,e){const n={};return cS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,s)=>{const i=jh(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function CC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof pr||t instanceof _n||t instanceof ot||t instanceof Yy||t instanceof zn||GS(t))}function Jy(t,e,n){if(!CC(n)||!aS(n)){const r=Ty(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function ec(t,e,n){if((e=nn(e))instanceof Qy)return e._internalPath;if(typeof e=="string")return IC(t,e);throw Od("Field path arguments must be of type string or ",t,!1,void 0,n)}const f3=new RegExp("[~\\*/\\[\\]]");function IC(t,e,n){if(e.search(f3)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qy(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Od(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new te(B.INVALID_ARGUMENT,a+t+l)}function RC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Sd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ze(o.doubleValue));return new zn(n)}convertGeoPoint(e){return new pr(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ae(KS(r),9688,{name:e});const s=new Ql(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||zr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC extends p3{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}const K_="@firebase/firestore",G_="4.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ec("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m3 extends PC{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function y3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Si extends PC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ec("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Si._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Si._jsonSchemaVersion="firestore/documentSnapshot/1.0",Si._jsonSchema={type:it("string",Si._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class Lu extends Si{data(e={}){return super.data(e)}}class Do{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lu(this._firestore,this._userDataWriter,r.key,r,new nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Lu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new nl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Lu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new nl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:v3(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Do._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=by.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:it("string",Do._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){t=ur(t,ot);const e=ur(t.firestore,aa),n=Gy(e);return e3(n,t._key).then(r=>NC(e,t,r))}function _3(t,e,n){t=ur(t,ot);const r=ur(t.firestore,aa),s=y3(t.converter,e),i=TC(r);return kC(r,[u3(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,hr.none())])}function x3(t,e,n,...r){t=ur(t,ot);const s=ur(t.firestore,aa),i=TC(s);let o;return o=typeof(e=nn(e))=="string"||e instanceof Qy?h3(i,"updateDoc",t._key,e,n,r):d3(i,"updateDoc",t._key,e),kC(s,[o.toMutation(t._key,hr.exists(!0))])}function E3(t,...e){var u,d,h;t=nn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Q_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Q_(e[r])){const m=e[r];e[r]=(u=m.next)==null?void 0:u.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let i,o,a;if(t instanceof ot)o=ur(t.firestore,aa),a=Ch(t._key.path),i={next:m=>{e[r]&&e[r](NC(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=ur(t,Mh);o=ur(m.firestore,aa),a=m._query;const g=new AC(o);i={next:b=>{e[r]&&e[r](new Do(o,g,m,b))},error:e[r+1],complete:e[r+2]},g3(t._query)}const l=Gy(o);return Z5(l,a,s,i)}function kC(t,e){const n=Gy(t);return t3(n,e)}function NC(t,e,n){const r=n.docs.get(e._key),s=new AC(t);return new Si(t,s,e._key,r,new nl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){tV(ga),ta(new Di("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new aa(new sV(r.getProvider("auth-internal")),new aV(o,r.getProvider("app-check-internal")),SV(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ms(K_,G_,e),Ms(K_,G_,"esm2020")})();var b3="firebase",T3="12.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(b3,T3,"app");const S3={apiKey:"AIzaSyDT3dBdcw9FERAJBASNDvSiH5DGH-carL0",authDomain:"saudia-connect-play.firebaseapp.com",projectId:"saudia-connect-play",storageBucket:"saudia-connect-play.firebasestorage.app",messagingSenderId:"872875755443",appId:"1:872875755443:web:4186cbbe1b677ce91eedc6",measurementId:"G-897NVF66RD"};function DC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C3=DC,OC=new dc("auth","Firebase",DC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new wy("@firebase/auth");function I3(t,...e){Md.logLevel<=ye.WARN&&Md.warn(`Auth (${ga}): ${t}`,...e)}function Vu(t,...e){Md.logLevel<=ye.ERROR&&Md.error(`Auth (${ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,...e){throw Zy(t,...e)}function mr(t,...e){return Zy(t,...e)}function MC(t,e,n){const r={...C3(),[e]:n};return new dc("auth","Firebase",r).create(e,{appName:t.name})}function js(t){return MC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OC.create(t,...e)}function le(t,e,...n){if(!t)throw Zy(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function Wr(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function R3(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R3()||OL()||"connection"in navigator)?navigator.onLine:!0}function P3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=kL()||ML()}get(){return A3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D3=new vc(3e4,6e4);function Fh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function xa(t,e,n,r,s={}){return VC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=hc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return DL()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ma(t.emulatorConfig.host)&&(u.credentials="include"),LC.fetch()(await FC(t,t.config.apiHost,n,a),u)})}async function VC(t,e,n){t._canInitEmulator=!1;const r={...k3,...e};try{const s=new O3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw lu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw lu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw lu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw MC(t,d,u);Hr(t,d)}}catch(s){if(s instanceof Kr)throw s;Hr(t,"network-request-failed",{message:String(s)})}}async function jC(t,e,n,r,s={}){const i=await xa(t,e,n,r,s);return"mfaPendingCredential"in i&&Hr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function FC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?ev(t.config,s):`${t.config.apiScheme}://${s}`;return N3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class O3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),D3.get())})}}function lu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e){return xa(t,"POST","/v1/accounts:delete",e)}async function Ld(t,e){return xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L3(t,e=!1){const n=nn(t),r=await n.getIdToken(e),s=tv(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_l(ip(s.auth_time)),issuedAtTime:_l(ip(s.iat)),expirationTime:_l(ip(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ip(t){return Number(t)*1e3}function tv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const s=$T(n);return s?JSON.parse(s):(Vu("Failed to decode base64 JWT payload"),null)}catch(s){return Vu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function X_(t){const e=tv(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kr&&V3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function V3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t){var h;const e=t.auth,n=await t.getIdToken(),r=await tc(t,Ld(e,{idToken:n}));le(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?UC(s.providerUserInfo):[],o=U3(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Wm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function F3(t){const e=nn(t);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function UC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e){const n=await VC(t,{},async()=>{const r=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await FC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ma(t.emulatorConfig.host)&&(l.credentials="include"),LC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z3(t,e){return xa(t,"POST","/v2/accounts:revokeToken",Fh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=X_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Oo;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new j3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L3(this,e)}reload(){return F3(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await tc(this,M3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:g,providerData:b,stsTokenManager:y}=n;le(h&&y,e,"internal-error");const E=Oo.fromJSON(this.name,y);le(typeof h=="string",e,"internal-error"),is(r,e.name),is(s,e.name),le(typeof m=="boolean",e,"internal-error"),le(typeof g=="boolean",e,"internal-error"),is(i,e.name),is(o,e.name),is(a,e.name),is(l,e.name),is(u,e.name),is(d,e.name);const x=new Fn({uid:h,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:d});return b&&Array.isArray(b)&&(x.providerData=b.map(_=>({..._}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new Oo;s.updateFromServerResponse(n);const i=new Fn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Vd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?UC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Oo;a.updateFromIdToken(r);const l=new Fn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Wm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;function Dr(t){Wr(t instanceof Function,"Expected a class definition");let e=J_.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$C.type="NONE";const Z_=$C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){return`firebase:${t}:${e}:${n}`}class Mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ju(this.userKey,s.apiKey,i),this.fullPersistenceKey=ju("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ld(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mo(Dr(Z_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Dr(Z_);const o=ju(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const m=await Ld(e,{idToken:d}).catch(()=>{});if(!m)break;h=await Fn._fromGetAccountInfoResponse(e,m,d)}else h=Fn._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Mo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Mo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KC(e))return"Blackberry";if(GC(e))return"Webos";if(BC(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(qC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zC(t=Vt()){return/firefox\//i.test(t)}function BC(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(t=Vt()){return/crios\//i.test(t)}function WC(t=Vt()){return/iemobile/i.test(t)}function qC(t=Vt()){return/android/i.test(t)}function KC(t=Vt()){return/blackberry/i.test(t)}function GC(t=Vt()){return/webos/i.test(t)}function nv(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B3(t=Vt()){var e;return nv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function H3(){return LL()&&document.documentMode===10}function QC(t=Vt()){return nv(t)||qC(t)||GC(t)||KC(t)||/windows phone/i.test(t)||WC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e=[]){let n;switch(t){case"Browser":n=ex(Vt());break;case"Worker":n=`${ex(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e={}){return xa(t,"GET","/v2/passwordPolicy",Fh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=6;class G3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tx(this),this.idTokenSubscription=new tx(this),this.beforeStateQueue=new W3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ld(this,{idToken:e}),r=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(js(this));const n=e?nn(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q3(this),n=new G3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&I3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Uh(t){return nn(t)}class tx{constructor(e){this.auth=e,this.observer=null,this.addObserver=HL(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y3(t){rv=t}function X3(t){return rv.loadJS(t)}function J3(){return rv.gapiScript}function Z3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e){const n=xy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ni(i,e??{}))return s;Hr(s,"already-initialized")}return n.initialize({options:e})}function tF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nF(t,e,n){const r=Uh(t);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=XC(e),{host:o,port:a}=rF(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(Ni(u,r.config.emulator)&&Ni(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ma(o)?(WT(`${i}//${o}${l}`),qT("Auth",!0)):sF()}function XC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rF(t){const e=XC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:nx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:nx(o)}}}function nx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return jC(t,"POST","/v1/accounts:signInWithIdp",Fh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="http://localhost";class Vi extends JC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Vi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:iF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends ZC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends wc{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends wc{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends wc{constructor(){super("twitter.com")}static credential(e,n){return Vi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e){return jC(t,"POST","/v1/accounts:signUp",Fh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Fn._fromIdTokenResponse(e,r,s),o=rx(r);return new Qs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=rx(r);return new Qs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function rx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t){var s;if(jn(t.app))return Promise.reject(js(t));const e=Uh(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new Qs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await oF(e,{returnSecureToken:!0}),r=await Qs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Kr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new jd(e,n,r,s)}}function eI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,i,e,r):i})}async function lF(t,e,n=!1){const r=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(js(r));const s="reauthenticate";try{const i=await tc(t,eI(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=tv(i.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),Qs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Hr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e,n=!1){if(jn(t.app))return Promise.reject(js(t));const r="signIn",s=await eI(t,r,e),i=await Qs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function dF(t,e,n,r){return nn(t).onIdTokenChanged(e,n,r)}function hF(t,e,n){return nn(t).beforeAuthStateChanged(e,n)}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=1e3,pF=10;class nI extends tI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);H3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nI.type="LOCAL";const mF=nI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends tI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rI.type="SESSION";const sI=rI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await gF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=sv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function vF(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function wF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _F(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function xF(){return iI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebaseLocalStorageDb",EF=1,Ud="firebaseLocalStorage",aI="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function bF(){const t=indexedDB.deleteDatabase(oI);return new _c(t).toPromise()}function qm(){const t=indexedDB.open(oI,EF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ud,{keyPath:aI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),await bF(),e(await qm()))})})}async function sx(t,e,n){const r=zh(t,!0).put({[aI]:e,value:n});return new _c(r).toPromise()}async function TF(t,e){const n=zh(t,!1).get(e),r=await new _c(n).toPromise();return r===void 0?null:r.value}function ix(t,e){const n=zh(t,!0).delete(e);return new _c(n).toPromise()}const SF=800,CF=3;class lI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(xF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await wF(),!this.activeServiceWorker)return;this.sender=new yF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_F()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await sx(e,Fd,"1"),await ix(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ix(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=zh(s,!1).getAll();return new _c(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lI.type="LOCAL";const IF=lI;new vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t,e){return e?Dr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends JC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AF(t){return uF(t.auth,new iv(t),t.bypassAuthState)}function PF(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),cF(n,new iv(t),t.bypassAuthState)}async function kF(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),lF(n,new iv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AF;case"linkViaPopup":case"linkViaRedirect":return kF;case"reauthViaPopup":case"reauthViaRedirect":return PF;default:Hr(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new vc(2e3,1e4);class Eo extends cI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NF.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="pendingRedirect",Fu=new Map;class OF extends cI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fu.get(this.auth._key());if(!e){try{const r=await MF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fu.set(this.auth._key(),e)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MF(t,e){const n=jF(e),r=VF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function LF(t,e){Fu.set(t._key(),e)}function VF(t){return Dr(t._redirectPersistence)}function jF(t){return ju(DF,t.config.apiKey,t.name)}async function FF(t,e,n=!1){if(jn(t.app))return Promise.reject(js(t));const r=Uh(t),s=RF(r,e),o=await new OF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=10*60*1e3;class $F{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UF&&this.cachedEventUids.clear(),this.cachedEventUids.has(ox(e))}saveEventToCache(e){this.cachedEventUids.add(ox(e)),this.lastProcessedEventTime=Date.now()}}function ox(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e={}){return xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WF=/^https?/;async function qF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BF(t);for(const n of e)try{if(KF(n))return}catch{}Hr(t,"unauthorized-domain")}function KF(t){const e=Hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WF.test(n))return!1;if(HF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new vc(3e4,6e4);function ax(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QF(t){return new Promise((e,n)=>{var s,i,o;function r(){ax(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ax(),n(mr(t,"network-request-failed"))},timeout:GF.get()})}if((i=(s=gr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=gr().gapi)!=null&&o.load)r();else{const a=Z3("iframefcb");return gr()[a]=()=>{gapi.load?r():n(mr(t,"network-request-failed"))},X3(`${J3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function YF(t){return Uu=Uu||QF(t),Uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new vc(5e3,15e3),JF="__/auth/iframe",ZF="emulator/auth/iframe",e6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n6(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ev(e,ZF):`https://${t.config.authDomain}/${JF}`,r={apiKey:e.apiKey,appName:t.name,v:ga},s=t6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${hc(r).slice(1)}`}async function r6(t){const e=await YF(t),n=gr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:n6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=mr(t,"network-request-failed"),a=gr().setTimeout(()=>{i(o)},XF.get());function l(){gr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i6=500,o6=600,a6="_blank",l6="http://localhost";class lx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c6(t,e,n,r=i6,s=o6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...s6,width:r.toString(),height:s.toString(),top:i,left:o},u=Vt().toLowerCase();n&&(a=HC(u)?a6:n),zC(u)&&(e=e||l6,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(B3(u)&&a!=="_self")return u6(e||"",a),new lx(null);const h=window.open(e||"",a,d);le(h,t,"popup-blocked");try{h.focus()}catch{}return new lx(h)}function u6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="__/auth/handler",h6="emulator/auth/handler",f6=encodeURIComponent("fac");async function cx(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ga,eventId:s};if(e instanceof ZC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",BL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof wc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${f6}=${encodeURIComponent(l)}`:"";return`${p6(t)}?${hc(a).slice(1)}${u}`}function p6({config:t}){return t.emulator?ev(t,h6):`https://${t.authDomain}/${d6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class m6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sI,this._completeRedirectFn=FF,this._overrideRedirectResult=LF}async _openPopup(e,n,r,s){var o;Wr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await cx(e,n,r,Hm(),s);return c6(e,i,sv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await cx(e,n,r,Hm(),s);return vF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Wr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await r6(e),r=new $F(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(op,{type:op},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[op];i!==void 0&&n(!!i),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QC()||BC()||nv()}}const g6=m6;var ux="@firebase/auth",dx="1.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w6(t){ta(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YC(t)},u=new Q3(r,s,i,l);return tF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ta(new Di("auth-internal",e=>{const n=Uh(e.getProvider("auth").getImmediate());return(r=>new y6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(ux,dx,v6(t)),Ms(ux,dx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=5*60,x6=HT("authIdTokenMaxAge")||_6;let hx=null;const E6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>x6)return;const s=n==null?void 0:n.token;hx!==s&&(hx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function b6(t=YT()){const e=xy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eF(t,{popupRedirectResolver:g6,persistence:[IF,mF,sI]}),r=HT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=E6(i.toString());hF(n,o,()=>o(n.currentUser)),dF(n,a=>o(a))}}const s=zT("auth");return s&&nF(n,`http://${s}`),n}function T6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Y3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",T6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w6("Browser");const dI=QT(S3),Bh=i3(dI),S6=b6(dI);function C6(){return aF(S6)}async function I6(t){const e=Lh(Bh,"games",t.roomCode);await _3(e,{...t,createdAt:new Date})}async function R6(t){const e=Lh(Bh,"games",t),n=await w3(e);return n.exists()?n.data():null}async function $u(t,e){const n=Lh(Bh,"games",t);await x3(n,e)}function A6(t,e){const n=Lh(Bh,"games",t);return E3(n,r=>{r.exists()&&e(r.data())})}const P6=()=>{const t=_h(),[e,n]=v.useState(""),[r,s]=v.useState(""),[i,o]=v.useState("home"),[a,l]=v.useState(!1),[u,d]=v.useState(!1),h=async()=>{if(e.trim()){l(!0);try{const g=jT(e.trim());await I6(g),sessionStorage.setItem("playerId",g.hostId),t(`/game/${g.roomCode}`)}finally{l(!1)}}},m=async()=>{if(!(!e.trim()||!r.trim())){d(!0);try{const g=r.trim().toUpperCase(),b=await R6(g);if(!b)return;const y=crypto.randomUUID();b.players.push({id:y,name:e.trim(),team:"red",isSpymaster:!1,isHost:!1}),await $u(g,{players:b.players}),sessionStorage.setItem("playerId",y),t(`/game/${g}`)}finally{d(!1)}}};return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 opacity-[0.06] pointer-events-none",style:{backgroundImage:`url(${vy})`,backgroundSize:"300px"}}),f.jsx("div",{className:"absolute top-[-15%] right-[-10%] w-80 h-80 rounded-full bg-team-red/10 blur-3xl pointer-events-none"}),f.jsx("div",{className:"absolute bottom-[-15%] left-[-10%] w-80 h-80 rounded-full bg-team-blue/10 blur-3xl pointer-events-none"}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-primary/5 blur-3xl pointer-events-none"}),f.jsxs("div",{className:"relative z-10 w-full max-w-sm mx-auto animate-fade-in",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-primary shadow-[0_8px_32px_hsl(var(--primary)/0.35)] mb-5",children:f.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:""})}),f.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2 tracking-tight",children:" "}),f.jsx("p",{className:"text-muted-foreground text-base",children:"  "})]}),i==="home"&&f.jsxs("div",{className:"space-y-3 animate-fade-in",children:[f.jsxs("button",{onClick:()=>o("create"),className:"w-full h-14 rounded-2xl bg-primary text-primary-foreground font-bold text-base flex items-center justify-center gap-2.5 shadow-[0_4px_24px_hsl(var(--primary)/0.35)] hover:shadow-[0_6px_32px_hsl(var(--primary)/0.45)] hover:scale-[1.01] active:scale-[0.99] transition-all duration-200",children:[f.jsx(Ib,{className:"w-5 h-5"}),"  "]}),f.jsxs("button",{onClick:()=>o("join"),className:"w-full h-14 rounded-2xl bg-card border border-border/60 text-foreground font-bold text-base flex items-center justify-center gap-2.5 hover:border-primary/40 hover:bg-secondary/60 transition-all duration-200",children:[f.jsx(DN,{className:"w-5 h-5"})," "]}),f.jsxs("button",{onClick:()=>t("/rules"),className:"w-full h-12 rounded-2xl bg-transparent border border-border/40 text-muted-foreground font-medium text-sm flex items-center justify-center gap-2 hover:border-primary/30 hover:text-foreground transition-all duration-200",children:[f.jsx(EN,{className:"w-4 h-4"})," "]}),f.jsxs("div",{className:"flex items-center justify-center gap-1.5 pt-1 text-xs text-muted-foreground",children:[f.jsx(ey,{className:"w-3.5 h-3.5"}),f.jsx("span",{children:"    "})]})]}),i==="create"&&f.jsxs("div",{className:"space-y-3 animate-fade-in",children:[f.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-5 shadow-sm space-y-4",children:[f.jsx("h2",{className:"text-lg font-bold text-center",children:" "}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block font-medium",children:""}),f.jsx(pl,{placeholder:" ...",value:e,onChange:g=>n(g.target.value),onKeyDown:g=>g.key==="Enter"&&h(),className:"h-12 text-center text-base",dir:"rtl",autoFocus:!0})]}),f.jsx("button",{onClick:h,disabled:!e.trim()||a,className:`w-full h-12 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200
                  ${e.trim()&&!a?"bg-primary text-primary-foreground shadow-[0_4px_20px_hsl(var(--primary)/0.3)] hover:scale-[1.01] active:scale-[0.99]":"bg-muted text-muted-foreground cursor-not-allowed"}`,children:a?f.jsx("span",{className:"animate-pulse",children:" ..."}):f.jsxs(f.Fragment,{children:["  ",f.jsx(dm,{className:"w-4 h-4"})]})})]}),f.jsx("button",{onClick:()=>o("home"),className:"w-full py-2.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:""})]}),i==="join"&&f.jsxs("div",{className:"space-y-3 animate-fade-in",children:[f.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-5 shadow-sm space-y-4",children:[f.jsx("h2",{className:"text-lg font-bold text-center",children:" "}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block font-medium",children:""}),f.jsx(pl,{placeholder:" ...",value:e,onChange:g=>n(g.target.value),className:"h-12 text-center text-base",dir:"rtl",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block font-medium",children:" "}),f.jsx(pl,{placeholder:"X X X X X",value:r,onChange:g=>s(g.target.value.toUpperCase()),onKeyDown:g=>g.key==="Enter"&&m(),className:"h-12 text-center text-xl tracking-[0.4em] font-mono font-bold",maxLength:6,dir:"ltr"})]}),f.jsx("button",{onClick:m,disabled:!e.trim()||r.length<5||u,className:`w-full h-12 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200
                  ${e.trim()&&r.length>=5&&!u?"bg-primary text-primary-foreground shadow-[0_4px_20px_hsl(var(--primary)/0.3)] hover:scale-[1.01] active:scale-[0.99]":"bg-muted text-muted-foreground cursor-not-allowed"}`,children:u?f.jsx("span",{className:"animate-pulse",children:" ..."}):f.jsxs(f.Fragment,{children:[" ",f.jsx(dm,{className:"w-4 h-4"})]})})]}),f.jsx("button",{onClick:()=>o("home"),className:"w-full py-2.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:""})]})]})]})},k6=({currentPlayer:t,cards:e,isSpymaster:n,onCardClick:r,onRightClick:s,currentTeam:i,canGuess:o})=>{const[a,l]=v.useState(new Set),u=v.useRef(e);v.useEffect(()=>{const b=u.current,y=[];if(e.forEach((E,x)=>{var _;E.revealed&&!((_=b[x])!=null&&_.revealed)&&y.push(x)}),y.length>0){l(x=>{const _=new Set(x);return y.forEach(T=>_.add(T)),_});const E=setTimeout(()=>{l(x=>{const _=new Set(x);return y.forEach(T=>_.delete(T)),_})},650);return()=>clearTimeout(E)}u.current=e},[e]),v.useEffect(()=>{u.current=e},[e]);const d=b=>{if(n)switch(b.type){case"red":return"bg-red-900/50 text-red-300/60 border-red-900/40 opacity-50 line-through";case"blue":return"bg-blue-900/50 text-blue-300/60 border-blue-900/40 opacity-50 line-through";case"assassin":return"bg-gray-950 text-gray-600 border-gray-800 opacity-50 line-through";default:return"bg-muted/30 text-muted-foreground/40 border-muted/20 opacity-50 line-through"}switch(b.type){case"red":return"bg-team-red text-white border-team-red shadow-inner";case"blue":return"bg-team-blue text-white border-team-blue shadow-inner";case"assassin":return"bg-gray-900 text-white border-gray-900 dark:bg-black dark:border-black";default:return"bg-muted text-muted-foreground border-muted opacity-70"}},h=b=>{if(b.revealed)return d(b);if(n){let x="";switch(b.type){case"red":x="bg-red-500 dark:bg-red-700 text-white border-red-600 font-bold";break;case"blue":x="bg-blue-500 dark:bg-blue-700 text-white border-blue-600 font-bold";break;case"assassin":x="bg-gray-900 dark:bg-black text-white border-gray-700 font-bold";break;default:x="bg-stone-100 dark:bg-muted text-stone-500 dark:text-muted-foreground border-stone-300 dark:border-border"}const _=b.highlighted?"ring-[3px] ring-gold border-gold shadow-[0_0_24px_hsl(var(--gold)/0.8),inset_0_0_12px_hsl(var(--gold)/0.25)] z-10 brightness-110":"";return`${x} ${_}`}const y=b.highlighted?"ring-2 ring-gold shadow-[0_0_12px_hsl(var(--gold)/0.4)]":"";return`bg-card border-border/70 text-foreground transition-all duration-200 ${o&&(t==null?void 0:t.team)===i&&!n?"cursor-pointer hover:bg-secondary hover:border-primary/40 hover:shadow-md hover:-translate-y-0.5 active:scale-[0.97] active:translate-y-0":"cursor-default"} ${y}`},m=(b,y)=>{b.preventDefault(),e[y].revealed||s(y)},g=o&&(t==null?void 0:t.team)===i&&!(t!=null&&t.isSpymaster);return f.jsxs("div",{className:"flex-1 px-2 py-3 sm:px-3 sm:py-4",children:[f.jsx("style",{children:`
        @keyframes card-flip {
          0%   { transform: rotateY(0deg) scale(1); }
          40%  { transform: rotateY(90deg) scale(1.08); }
          60%  { transform: rotateY(90deg) scale(1.08); }
          100% { transform: rotateY(0deg) scale(1); }
        }
        .card-flipping {
          animation: card-flip 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
          transform-style: preserve-3d;
          backface-visibility: hidden;
        }
      `}),f.jsx("div",{className:"w-full max-w-3xl mx-auto grid grid-cols-5 gap-1.5 sm:gap-2",style:{gridAutoRows:"1fr",aspectRatio:"5 / 5"},children:e.map((b,y)=>{var E;return f.jsxs("button",{onClick:()=>{!(b!=null&&b.word)||!g||b.revealed||r(y)},onContextMenu:x=>m(x,y),disabled:!g||b.revealed,className:`
              relative rounded-xl border-2 p-1.5 sm:p-2.5
              min-h-0 min-w-0 aspect-square
              flex items-center justify-center text-center
              font-semibold text-[10px] sm:text-xl
              animate-scale-in select-none
              ${a.has(y)?"card-flipping":"transition-all duration-300"}
              ${!g||b.revealed?"cursor-default":"cursor-pointer"}
              ${h(b)}
            `,style:{animationDelay:a.has(y)?"0ms":`${y*18}ms`},children:[f.jsx("span",{className:"leading-tight break-words w-full px-0.5",children:((E=b==null?void 0:b.word)==null?void 0:E.word)??""}),(b==null?void 0:b.revealed)&&b.type==="assassin"&&f.jsx("span",{className:"absolute top-1 right-1 text-[10px]",children:""}),(b==null?void 0:b.revealed)&&n&&f.jsx("span",{className:"absolute inset-0 flex items-center justify-center rounded-xl pointer-events-none",children:f.jsx("span",{className:"text-lg opacity-40",children:""})}),!(b!=null&&b.revealed)&&n&&b.highlighted&&f.jsx("span",{className:"absolute top-1 right-1 flex items-center justify-center w-4 h-4 rounded-full bg-gold text-[9px] font-black text-black shadow-md",children:""})]},y)})})]})},N6=Sb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xl=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Pk:"button";return f.jsx(o,{className:tt(N6({variant:e,size:n,className:t})),ref:i,...s})});xl.displayName="Button";function D6(t,e,n){const r=v.useMemo(()=>t.lobbySettings??{...VT},[t.lobbySettings]),s=v.useCallback(d=>{e&&n({...r,...d})},[e,n,r]),i=v.useCallback(()=>{e&&s({timeLimitEnabled:!r.timeLimitEnabled})},[e,s,r.timeLimitEnabled]),o=v.useCallback(()=>{if(!e)return;const d=!r.spymasterTimerEnabled,h=r.normalTimerEnabled,m=d||h?r.timeLimitEnabled:!1;s({spymasterTimerEnabled:d,timeLimitEnabled:m})},[e,s,r]),a=v.useCallback(()=>{if(!e)return;const d=!r.normalTimerEnabled,h=r.spymasterTimerEnabled,m=d||h?r.timeLimitEnabled:!1;s({normalTimerEnabled:d,timeLimitEnabled:m})},[e,s,r]),l=v.useCallback(d=>{e&&s({spymasterDuration:d})},[e,s]),u=v.useCallback(d=>{e&&s({normalDuration:d})},[e,s]);return{settings:r,toggleTimeLimit:i,toggleSpymasterTimer:o,toggleNormalTimer:a,setSpymasterDuration:l,setNormalDuration:u}}function hI(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Hh="Switch",[O6,ZU]=Bi(Hh),[M6,L6]=O6(Hh),fI=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=t,[m,g]=v.useState(null),b=Pe(e,T=>g(T)),y=v.useRef(!1),E=m?d||!!m.closest("form"):!0,[x,_]=pd({prop:s,defaultProp:i??!1,onChange:u,caller:Hh});return f.jsxs(M6,{scope:n,checked:x,disabled:a,children:[f.jsx(xe.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":yI(x),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:b,onClick:ue(t.onClick,T=>{_(N=>!N),E&&(y.current=T.isPropagationStopped(),y.current||T.stopPropagation())})}),E&&f.jsx(gI,{control:m,bubbles:!y.current,name:r,value:l,checked:x,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});fI.displayName=Hh;var pI="SwitchThumb",mI=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=L6(pI,n);return f.jsx(xe.span,{"data-state":yI(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});mI.displayName=pI;var V6="SwitchBubbleInput",gI=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=v.useRef(null),a=Pe(o,i),l=hI(n),u=Zb(e);return v.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&g){const b=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(b)}},[l,n,r]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gI.displayName=V6;function yI(t){return t?"checked":"unchecked"}var vI=fI,j6=mI;const wI=v.forwardRef(({className:t,...e},n)=>f.jsx(vI,{className:tt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:f.jsx(j6,{className:tt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:-translate-x-5 data-[state=unchecked]:translate-x-0")})}));wI.displayName=vI.displayName;function Km(t,[e,n]){return Math.min(n,Math.max(e,t))}var F6=v.createContext(void 0);function _I(t){const e=v.useContext(F6);return t||e||"ltr"}var ap=0;function U6(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fx()),document.body.insertAdjacentElement("beforeend",t[1]??fx()),ap++,()=>{ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ap--}},[])}function fx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lp="focusScope.autoFocusOnMount",cp="focusScope.autoFocusOnUnmount",px={bubbles:!1,cancelable:!0},$6="FocusScope",xI=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),u=wt(s),d=wt(i),h=v.useRef(null),m=Pe(e,y=>l(y)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(T){if(g.paused||!a)return;const N=T.target;a.contains(N)?h.current=N:as(h.current,{select:!0})},E=function(T){if(g.paused||!a)return;const N=T.relatedTarget;N!==null&&(a.contains(N)||as(h.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&as(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const _=new MutationObserver(x);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),_.disconnect()}}},[r,a,g.paused]),v.useEffect(()=>{if(a){gx.add(g);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(lp,px);a.addEventListener(lp,u),a.dispatchEvent(x),x.defaultPrevented||(z6(K6(EI(a)),{select:!0}),document.activeElement===y&&as(a))}return()=>{a.removeEventListener(lp,u),setTimeout(()=>{const x=new CustomEvent(cp,px);a.addEventListener(cp,d),a.dispatchEvent(x),x.defaultPrevented||as(y??document.body,{select:!0}),a.removeEventListener(cp,d),gx.remove(g)},0)}}},[a,u,d,g]);const b=v.useCallback(y=>{if(!n&&!r||g.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(E&&x){const _=y.currentTarget,[T,N]=B6(_);T&&N?!y.shiftKey&&x===N?(y.preventDefault(),n&&as(T,{select:!0})):y.shiftKey&&x===T&&(y.preventDefault(),n&&as(N,{select:!0})):x===_&&y.preventDefault()}},[n,r,g.paused]);return f.jsx(xe.div,{tabIndex:-1,...o,ref:m,onKeyDown:b})});xI.displayName=$6;function z6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(as(r,{select:e}),document.activeElement!==n)return}function B6(t){const e=EI(t),n=mx(e,t),r=mx(e.reverse(),t);return[n,r]}function EI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mx(t,e){for(const n of t)if(!H6(n,{upTo:e}))return n}function H6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function W6(t){return t instanceof HTMLInputElement&&"select"in t}function as(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&W6(t)&&e&&t.select()}}var gx=q6();function q6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=yx(t,e),t.unshift(e)},remove(e){var n;t=yx(t,e),(n=t[0])==null||n.resume()}}}function yx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function K6(t){return t.filter(e=>e.tagName!=="A")}var G6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},to=new WeakMap,cu=new WeakMap,uu={},up=0,bI=function(t){return t&&(t.host||bI(t.parentNode))},Q6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Y6=function(t,e,n,r){var s=Q6(e,Array.isArray(t)?t:[t]);uu[n]||(uu[n]=new WeakMap);var i=uu[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))d(m);else try{var g=m.getAttribute(r),b=g!==null&&g!=="false",y=(to.get(m)||0)+1,E=(i.get(m)||0)+1;to.set(m,y),i.set(m,E),o.push(m),y===1&&b&&cu.set(m,!0),E===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(e),a.clear(),up++,function(){o.forEach(function(h){var m=to.get(h)-1,g=i.get(h)-1;to.set(h,m),i.set(h,g),m||(cu.has(h)||h.removeAttribute(r),cu.delete(h)),g||h.removeAttribute(n)}),up--,up||(to=new WeakMap,to=new WeakMap,cu=new WeakMap,uu={})}},X6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=G6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Y6(r,s,n,"aria-hidden")):function(){return null}},ir=function(){return ir=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ir.apply(this,arguments)};function TI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function J6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var zu="right-scroll-bar-position",Bu="width-before-scroll-bar",Z6="with-scroll-bars-hidden",e9="--removed-body-scroll-bar-size";function dp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function t9(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var n9=typeof window<"u"?v.useLayoutEffect:v.useEffect,vx=new WeakMap;function r9(t,e){var n=t9(null,function(r){return t.forEach(function(s){return dp(s,r)})});return n9(function(){var r=vx.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||dp(a,null)}),i.forEach(function(a){s.has(a)||dp(a,o)})}vx.set(n,t)},[t]),n}function s9(t){return t}function i9(t,e){e===void 0&&(e=s9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function o9(t){t===void 0&&(t={});var e=i9(null);return e.options=ir({async:!0,ssr:!1},t),e}var SI=function(t){var e=t.sideCar,n=TI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,ir({},n))};SI.isSideCarExport=!0;function a9(t,e){return t.useMedium(e),SI}var CI=o9(),hp=function(){},Wh=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:hp,onWheelCapture:hp,onTouchMoveCapture:hp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,g=t.noRelative,b=t.noIsolation,y=t.inert,E=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,T=t.gapMode,N=TI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=m,M=r9([n,e]),C=ir(ir({},N),s);return v.createElement(v.Fragment,null,d&&v.createElement(O,{sideCar:CI,removeScrollBar:u,shards:h,noRelative:g,noIsolation:b,inert:y,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:T}),o?v.cloneElement(v.Children.only(a),ir(ir({},C),{ref:M})):v.createElement(_,ir({},C,{className:l,ref:M}),a))});Wh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wh.classNames={fullWidth:Bu,zeroRight:zu};var l9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=l9();return e&&t.setAttribute("nonce",e),t}function u9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function d9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var h9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=c9())&&(u9(e,n),d9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},f9=function(){var t=h9();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},II=function(){var t=f9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},p9={left:0,top:0,right:0,gap:0},fp=function(t){return parseInt(t||"",10)||0},m9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[fp(n),fp(r),fp(s)]},g9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return p9;var e=m9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},y9=II(),Vo="data-scroll-locked",v9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Z6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Vo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zu," .").concat(zu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bu," .").concat(Bu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vo,`] {
    `).concat(e9,": ").concat(a,`px;
  }
`)},wx=function(){var t=parseInt(document.body.getAttribute(Vo)||"0",10);return isFinite(t)?t:0},w9=function(){v.useEffect(function(){return document.body.setAttribute(Vo,(wx()+1).toString()),function(){var t=wx()-1;t<=0?document.body.removeAttribute(Vo):document.body.setAttribute(Vo,t.toString())}},[])},_9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;w9();var i=v.useMemo(function(){return g9(s)},[s]);return v.createElement(y9,{styles:v9(i,!e,s,n?"":"!important")})},Gm=!1;if(typeof window<"u")try{var du=Object.defineProperty({},"passive",{get:function(){return Gm=!0,!0}});window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{Gm=!1}var no=Gm?{passive:!1}:!1,x9=function(t){return t.tagName==="TEXTAREA"},RI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!x9(t)&&n[e]==="visible")},E9=function(t){return RI(t,"overflowY")},b9=function(t){return RI(t,"overflowX")},_x=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=AI(t,r);if(s){var i=PI(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},T9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},S9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},AI=function(t,e){return t==="v"?E9(e):b9(e)},PI=function(t,e){return t==="v"?T9(e):S9(e)},C9=function(t,e){return t==="h"&&e==="rtl"?-1:1},I9=function(t,e,n,r,s){var i=C9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,m=0;do{if(!a)break;var g=PI(t,a),b=g[0],y=g[1],E=g[2],x=y-E-i*b;(b||x)&&AI(t,a)&&(h+=x,m+=b);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},hu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xx=function(t){return[t.deltaX,t.deltaY]},Ex=function(t){return t&&"current"in t?t.current:t},R9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},A9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},P9=0,ro=[];function k9(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(P9++)[0],i=v.useState(II)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=J6([t.lockRef.current],(t.shards||[]).map(Ex),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=hu(y),_=n.current,T="deltaX"in y?y.deltaX:_[0]-x[0],N="deltaY"in y?y.deltaY:_[1]-x[1],O,M=y.target,C=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in y&&C==="h"&&M.type==="range")return!1;var S=_x(C,M);if(!S)return!0;if(S?O=C:(O=C==="v"?"h":"v",S=_x(C,M)),!S)return!1;if(!r.current&&"changedTouches"in y&&(T||N)&&(r.current=O),!O)return!0;var I=r.current||O;return I9(I,E,y,I==="h"?T:N,!0)},[]),l=v.useCallback(function(y){var E=y;if(!(!ro.length||ro[ro.length-1]!==i)){var x="deltaY"in E?xx(E):hu(E),_=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&R9(O.delta,x)})[0];if(_&&_.should){E.cancelable&&E.preventDefault();return}if(!_){var T=(o.current.shards||[]).map(Ex).filter(Boolean).filter(function(O){return O.contains(E.target)}),N=T.length>0?a(E,T[0]):!o.current.noIsolation;N&&E.cancelable&&E.preventDefault()}}},[]),u=v.useCallback(function(y,E,x,_){var T={name:y,delta:E,target:x,should:_,shadowParent:N9(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),d=v.useCallback(function(y){n.current=hu(y),r.current=void 0},[]),h=v.useCallback(function(y){u(y.type,xx(y),y.target,a(y,t.lockRef.current))},[]),m=v.useCallback(function(y){u(y.type,hu(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return ro.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,no),document.addEventListener("touchmove",l,no),document.addEventListener("touchstart",d,no),function(){ro=ro.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,no),document.removeEventListener("touchmove",l,no),document.removeEventListener("touchstart",d,no)}},[]);var g=t.removeScrollBar,b=t.inert;return v.createElement(v.Fragment,null,b?v.createElement(i,{styles:A9(s)}):null,g?v.createElement(_9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function N9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const D9=a9(CI,k9);var kI=v.forwardRef(function(t,e){return v.createElement(Wh,ir({},t,{ref:e,sideCar:D9}))});kI.classNames=Wh.classNames;var O9=[" ","Enter","ArrowUp","ArrowDown"],M9=[" ","Enter"],ji="Select",[qh,Kh,L9]=JE(ji),[Ea,e$]=Bi(ji,[L9,hh]),Gh=hh(),[V9,ti]=Ea(ji),[j9,F9]=Ea(ji),NI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:m,required:g,form:b}=t,y=Gh(e),[E,x]=v.useState(null),[_,T]=v.useState(null),[N,O]=v.useState(!1),M=_I(u),[C,S]=pd({prop:r,defaultProp:s??!1,onChange:i,caller:ji}),[I,A]=pd({prop:o,defaultProp:a,onChange:l,caller:ji}),k=v.useRef(null),D=E?b||!!E.closest("form"):!0,[P,H]=v.useState(new Set),ne=Array.from(P).map(U=>U.props.value).join(";");return f.jsx(TO,{...y,children:f.jsxs(V9,{required:g,scope:e,trigger:E,onTriggerChange:x,valueNode:_,onValueNodeChange:T,valueNodeHasChildren:N,onValueNodeHasChildrenChange:O,contentId:ny(),value:I,onValueChange:A,open:C,onOpenChange:S,dir:M,triggerPointerDownPosRef:k,disabled:m,children:[f.jsx(qh.Provider,{scope:e,children:f.jsx(j9,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(U=>{H(W=>new Set(W).add(U))},[]),onNativeOptionRemove:v.useCallback(U=>{H(W=>{const V=new Set(W);return V.delete(U),V})},[]),children:n})}),D?f.jsxs(nR,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:U=>A(U.target.value),disabled:m,form:b,children:[I===void 0?f.jsx("option",{value:""}):null,Array.from(P)]},ne):null]})})};NI.displayName=ji;var DI="SelectTrigger",OI=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Gh(n),o=ti(DI,n),a=o.disabled||r,l=Pe(e,o.onTriggerChange),u=Kh(n),d=v.useRef("touch"),[h,m,g]=sR(y=>{const E=u().filter(T=>!T.disabled),x=E.find(T=>T.value===o.value),_=iR(E,y,x);_!==void 0&&o.onValueChange(_.value)}),b=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(cT,{asChild:!0,...i,children:f.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":rR(o.value)?"":void 0,...s,ref:l,onClick:ue(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&b(y)}),onPointerDown:ue(s.onPointerDown,y=>{d.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:ue(s.onKeyDown,y=>{const E=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(E&&y.key===" ")&&O9.includes(y.key)&&(b(),y.preventDefault())})})})});OI.displayName=DI;var MI="SelectValue",LI=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ti(MI,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=Pe(e,l.onValueNodeChange);return xt(()=>{u(d)},[u,d]),f.jsx(xe.span,{...a,ref:h,style:{pointerEvents:"none"},children:rR(l.value)?f.jsx(f.Fragment,{children:o}):i})});LI.displayName=MI;var U9="SelectIcon",VI=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});VI.displayName=U9;var $9="SelectPortal",jI=t=>f.jsx(Qg,{asChild:!0,...t});jI.displayName=$9;var Fi="SelectContent",FI=v.forwardRef((t,e)=>{const n=ti(Fi,t.__scopeSelect),[r,s]=v.useState();if(xt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?zi.createPortal(f.jsx(UI,{scope:t.__scopeSelect,children:f.jsx(qh.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx($I,{...t,ref:e})});FI.displayName=Fi;var kn=10,[UI,ni]=Ea(Fi),z9="SelectContentImpl",B9=Fl("SelectContent.RemoveScroll"),$I=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:b,hideWhenDetached:y,avoidCollisions:E,...x}=t,_=ti(Fi,n),[T,N]=v.useState(null),[O,M]=v.useState(null),C=Pe(e,Y=>N(Y)),[S,I]=v.useState(null),[A,k]=v.useState(null),D=Kh(n),[P,H]=v.useState(!1),ne=v.useRef(!1);v.useEffect(()=>{if(T)return X6(T)},[T]),U6();const U=v.useCallback(Y=>{const[be,...Ve]=D().map(_e=>_e.ref.current),[Te]=Ve.slice(-1),ge=document.activeElement;for(const _e of Y)if(_e===ge||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===be&&O&&(O.scrollTop=0),_e===Te&&O&&(O.scrollTop=O.scrollHeight),_e==null||_e.focus(),document.activeElement!==ge))return},[D,O]),W=v.useCallback(()=>U([S,T]),[U,S,T]);v.useEffect(()=>{P&&W()},[P,W]);const{onOpenChange:V,triggerPointerDownPosRef:j}=_;v.useEffect(()=>{if(T){let Y={x:0,y:0};const be=Te=>{var ge,_e;Y={x:Math.abs(Math.round(Te.pageX)-(((ge=j.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((_e=j.current)==null?void 0:_e.y)??0))}},Ve=Te=>{Y.x<=10&&Y.y<=10?Te.preventDefault():T.contains(Te.target)||V(!1),document.removeEventListener("pointermove",be),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[T,V,j]),v.useEffect(()=>{const Y=()=>V(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[V]);const[G,J]=sR(Y=>{const be=D().filter(ge=>!ge.disabled),Ve=be.find(ge=>ge.ref.current===document.activeElement),Te=iR(be,Y,Ve);Te&&setTimeout(()=>Te.ref.current.focus())}),X=v.useCallback((Y,be,Ve)=>{const Te=!ne.current&&!Ve;(_.value!==void 0&&_.value===be||Te)&&(I(Y),Te&&(ne.current=!0))},[_.value]),se=v.useCallback(()=>T==null?void 0:T.focus(),[T]),ie=v.useCallback((Y,be,Ve)=>{const Te=!ne.current&&!Ve;(_.value!==void 0&&_.value===be||Te)&&k(Y)},[_.value]),Ie=r==="popper"?Qm:zI,Oe=Ie===Qm?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:b,hideWhenDetached:y,avoidCollisions:E}:{};return f.jsx(UI,{scope:n,content:T,viewport:O,onViewportChange:M,itemRefCallback:X,selectedItem:S,onItemLeave:se,itemTextRefCallback:ie,focusSelectedItem:W,selectedItemText:A,position:r,isPositioned:P,searchRef:G,children:f.jsx(kI,{as:B9,allowPinchZoom:!0,children:f.jsx(xI,{asChild:!0,trapped:_.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:ue(s,Y=>{var be;(be=_.trigger)==null||be.focus({preventScroll:!0}),Y.preventDefault()}),children:f.jsx(oh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:f.jsx(Ie,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Y=>Y.preventDefault(),...x,...Oe,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ue(x.onKeyDown,Y=>{const be=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!be&&Y.key.length===1&&J(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Te=D().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ge=Y.target,_e=Te.indexOf(ge);Te=Te.slice(_e+1)}setTimeout(()=>U(Te)),Y.preventDefault()}})})})})})})});$I.displayName=z9;var H9="SelectItemAlignedPosition",zI=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ti(Fi,n),o=ni(Fi,n),[a,l]=v.useState(null),[u,d]=v.useState(null),h=Pe(e,C=>d(C)),m=Kh(n),g=v.useRef(!1),b=v.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:x,focusSelectedItem:_}=o,T=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&E&&x){const C=i.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(i.dir!=="rtl"){const ge=A.left-S.left,_e=I.left-ge,nt=C.left-_e,jt=C.width+nt,Er=Math.max(jt,S.width),mn=window.innerWidth-kn,Cn=Km(_e,[kn,Math.max(kn,mn-Er)]);a.style.minWidth=jt+"px",a.style.left=Cn+"px"}else{const ge=S.right-A.right,_e=window.innerWidth-I.right-ge,nt=window.innerWidth-C.right-_e,jt=C.width+nt,Er=Math.max(jt,S.width),mn=window.innerWidth-kn,Cn=Km(_e,[kn,Math.max(kn,mn-Er)]);a.style.minWidth=jt+"px",a.style.right=Cn+"px"}const k=m(),D=window.innerHeight-kn*2,P=y.scrollHeight,H=window.getComputedStyle(u),ne=parseInt(H.borderTopWidth,10),U=parseInt(H.paddingTop,10),W=parseInt(H.borderBottomWidth,10),V=parseInt(H.paddingBottom,10),j=ne+U+P+V+W,G=Math.min(E.offsetHeight*5,j),J=window.getComputedStyle(y),X=parseInt(J.paddingTop,10),se=parseInt(J.paddingBottom,10),ie=C.top+C.height/2-kn,Ie=D-ie,Oe=E.offsetHeight/2,Y=E.offsetTop+Oe,be=ne+U+Y,Ve=j-be;if(be<=ie){const ge=k.length>0&&E===k[k.length-1].ref.current;a.style.bottom="0px";const _e=u.clientHeight-y.offsetTop-y.offsetHeight,nt=Math.max(Ie,Oe+(ge?se:0)+_e+W),jt=be+nt;a.style.height=jt+"px"}else{const ge=k.length>0&&E===k[0].ref.current;a.style.top="0px";const nt=Math.max(ie,ne+y.offsetTop+(ge?X:0)+Oe)+Ve;a.style.height=nt+"px",y.scrollTop=be-ie+y.offsetTop}a.style.margin=`${kn}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,a,u,y,E,x,i.dir,r]);xt(()=>T(),[T]);const[N,O]=v.useState();xt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const M=v.useCallback(C=>{C&&b.current===!0&&(T(),_==null||_(),b.current=!1)},[T,_]);return f.jsx(q9,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:M,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:f.jsx(xe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});zI.displayName=H9;var W9="SelectPopperPosition",Qm=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=kn,...i}=t,o=Gh(n);return f.jsx(uT,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qm.displayName=W9;var[q9,ov]=Ea(Fi,{}),Ym="SelectViewport",BI=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ni(Ym,n),o=ov(Ym,n),a=Pe(e,i.onViewportChange),l=v.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(qh.Slot,{scope:n,children:f.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const g=Math.abs(l.current-d.scrollTop);if(g>0){const b=window.innerHeight-kn*2,y=parseFloat(h.style.minHeight),E=parseFloat(h.style.height),x=Math.max(y,E);if(x<b){const _=x+g,T=Math.min(b,_),N=_-T;h.style.height=T+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});BI.displayName=Ym;var HI="SelectGroup",[K9,G9]=Ea(HI),Q9=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ny();return f.jsx(K9,{scope:n,id:s,children:f.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Q9.displayName=HI;var WI="SelectLabel",qI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=G9(WI,n);return f.jsx(xe.div,{id:s.id,...r,ref:e})});qI.displayName=WI;var $d="SelectItem",[Y9,KI]=Ea($d),GI=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ti($d,n),l=ni($d,n),u=a.value===r,[d,h]=v.useState(i??""),[m,g]=v.useState(!1),b=Pe(e,_=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,_,r,s)}),y=ny(),E=v.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Y9,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:v.useCallback(_=>{h(T=>T||((_==null?void 0:_.textContent)??"").trim())},[]),children:f.jsx(qh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:f.jsx(xe.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:ue(o.onFocus,()=>g(!0)),onBlur:ue(o.onBlur,()=>g(!1)),onClick:ue(o.onClick,()=>{E.current!=="mouse"&&x()}),onPointerUp:ue(o.onPointerUp,()=>{E.current==="mouse"&&x()}),onPointerDown:ue(o.onPointerDown,_=>{E.current=_.pointerType}),onPointerMove:ue(o.onPointerMove,_=>{var T;E.current=_.pointerType,s?(T=l.onItemLeave)==null||T.call(l):E.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,_=>{var T;_.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:ue(o.onKeyDown,_=>{var N;((N=l.searchRef)==null?void 0:N.current)!==""&&_.key===" "||(M9.includes(_.key)&&x(),_.key===" "&&_.preventDefault())})})})})});GI.displayName=$d;var rl="SelectItemText",QI=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ti(rl,n),a=ni(rl,n),l=KI(rl,n),u=F9(rl,n),[d,h]=v.useState(null),m=Pe(e,x=>h(x),l.onItemTextChange,x=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,x,l.value,l.disabled)}),g=d==null?void 0:d.textContent,b=v.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=u;return xt(()=>(y(b),()=>E(b)),[y,E,b]),f.jsxs(f.Fragment,{children:[f.jsx(xe.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zi.createPortal(i.children,o.valueNode):null]})});QI.displayName=rl;var YI="SelectItemIndicator",XI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return KI(YI,n).isSelected?f.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});XI.displayName=YI;var Xm="SelectScrollUpButton",JI=v.forwardRef((t,e)=>{const n=ni(Xm,t.__scopeSelect),r=ov(Xm,t.__scopeSelect),[s,i]=v.useState(!1),o=Pe(e,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(eR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});JI.displayName=Xm;var Jm="SelectScrollDownButton",ZI=v.forwardRef((t,e)=>{const n=ni(Jm,t.__scopeSelect),r=ov(Jm,t.__scopeSelect),[s,i]=v.useState(!1),o=Pe(e,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(eR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});ZI.displayName=Jm;var eR=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ni("SelectScrollButton",n),o=v.useRef(null),a=Kh(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),xt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ue(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{l()})})}),X9="SelectSeparator",tR=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});tR.displayName=X9;var Zm="SelectArrow",J9=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gh(n),i=ti(Zm,n),o=ni(Zm,n);return i.open&&o.position==="popper"?f.jsx(dT,{...s,...r,ref:e}):null});J9.displayName=Zm;var Z9="SelectBubbleInput",nR=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=v.useRef(null),i=Pe(r,s),o=hI(e);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),f.jsx(xe.select,{...n,style:{...rb,...n.style},ref:i,defaultValue:e})});nR.displayName=Z9;function rR(t){return t===""||t===void 0}function sR(t){const e=wt(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function iR(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=eU(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function eU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tU=NI,oR=OI,nU=LI,rU=VI,sU=jI,aR=FI,iU=BI,lR=qI,cR=GI,oU=QI,aU=XI,uR=JI,dR=ZI,hR=tR;const lU=tU,cU=nU,fR=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(oR,{ref:r,className:tt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(rU,{asChild:!0,children:f.jsx(Zg,{className:"h-4 w-4 opacity-50"})})]}));fR.displayName=oR.displayName;const pR=v.forwardRef(({className:t,...e},n)=>f.jsx(uR,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(CN,{className:"h-4 w-4"})}));pR.displayName=uR.displayName;const mR=v.forwardRef(({className:t,...e},n)=>f.jsx(dR,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(Zg,{className:"h-4 w-4"})}));mR.displayName=dR.displayName;const gR=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(sU,{children:f.jsxs(aR,{ref:s,className:tt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(pR,{}),f.jsx(iU,{className:tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(mR,{})]})}));gR.displayName=aR.displayName;const uU=v.forwardRef(({className:t,...e},n)=>f.jsx(lR,{ref:n,className:tt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));uU.displayName=lR.displayName;const yR=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(cR,{ref:r,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(aU,{children:f.jsx(bN,{className:"h-4 w-4"})})}),f.jsx(oU,{children:e})]}));yR.displayName=cR.displayName;const dU=v.forwardRef(({className:t,...e},n)=>f.jsx(hR,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",t),...e}));dU.displayName=hR.displayName;const pp=t=>f.jsx(wI,{...t,className:"h-4 w-8 [&>span]:h-3 [&>span]:w-3 [&>span]:data-[state=checked]:-translate-x-4"}),bx=({value:t,onChange:e,disabled:n})=>f.jsxs(lU,{value:String(t),onValueChange:n?void 0:r=>e(Number(r)),disabled:n,children:[f.jsx(fR,{className:"h-7 text-xs w-28 rounded-lg border-border/60",children:f.jsx(cU,{})}),f.jsx(gR,{children:fL.map(r=>f.jsx(yR,{value:String(r.value),children:r.label},r.value))})]}),hU=({settings:t,isHost:e,onToggleTimeLimit:n,onToggleSpymasterTimer:r,onToggleNormalTimer:s,onSetSpymasterDuration:i,onSetNormalDuration:o})=>f.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-4 shadow-sm space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[f.jsx(Rb,{className:"w-4 h-4 text-muted-foreground"}),f.jsx("span",{children:" "})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-muted-foreground",children:t.timeLimitEnabled?"":""}),f.jsx(pp,{checked:t.timeLimitEnabled,onCheckedChange:e?n:void 0,disabled:!e,"aria-label":"  "})]})]}),t.timeLimitEnabled&&f.jsxs("div",{className:"space-y-3 pt-2 border-t border-border/40",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(pp,{checked:t.spymasterTimerEnabled,onCheckedChange:e?r:void 0,disabled:!e}),f.jsx("span",{className:"text-xs text-muted-foreground",children:" "})]}),f.jsx(bx,{value:t.spymasterDuration,onChange:i,disabled:!e||!t.spymasterTimerEnabled})]}),f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(pp,{checked:t.normalTimerEnabled,onCheckedChange:e?s:void 0,disabled:!e}),f.jsx("span",{className:"text-xs text-muted-foreground",children:" "})]}),f.jsx(bx,{value:t.normalDuration,onChange:o,disabled:!e||!t.normalTimerEnabled})]})]}),!e&&f.jsx("p",{className:"text-[10px] text-muted-foreground/60 text-center",children:"    "})]}),fU=({game:t,playerId:e,onStart:n,onSwitchTeam:r,onToggleSpymaster:s,onSettingsChange:i})=>{const o=t.hostId===e,a=t.players.filter(S=>S.team==="red"),l=t.players.filter(S=>S.team==="blue"),u=_h(),d=t.players.find(S=>S.id===e),{settings:h,toggleTimeLimit:m,toggleSpymasterTimer:g,toggleNormalTimer:b,setSpymasterDuration:y,setNormalDuration:E}=D6(t,o,i),x=()=>{navigator.clipboard.writeText(t.roomCode),H2.success("  ")},_=()=>{const S=`https://wa.me/?text=${encodeURIComponent(`   ! 
 : ${t.roomCode}`)}`;window.open(S,"_blank")},T=a.some(S=>S.isSpymaster),N=l.some(S=>S.isSpymaster),O=a.some(S=>!S.isSpymaster),M=l.some(S=>!S.isSpymaster),C=T&&N&&O&&M;return f.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4 py-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-[-10%] left-[-5%] w-72 h-72 rounded-full bg-team-red/10 blur-3xl pointer-events-none"}),f.jsx("div",{className:"absolute bottom-[-10%] right-[-5%] w-72 h-72 rounded-full bg-team-blue/10 blur-3xl pointer-events-none"}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-primary/5 blur-3xl pointer-events-none"}),f.jsxs("div",{className:"w-full max-w-xl mx-auto animate-fade-in space-y-5 relative z-10",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(xl,{variant:"ghost",size:"sm",onClick:()=>u("/"),className:"text-muted-foreground hover:text-foreground gap-1 text-sm",children:[f.jsx(SN,{className:"w-4 h-4"}),""]}),f.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground text-xs",children:[f.jsx(ey,{className:"w-3.5 h-3.5"}),f.jsx("span",{children:(()=>{const S=t.players.length;return S===1?"":S===2?"":S>=11?`${S} `:`${S} `})()})]})]}),f.jsxs("div",{className:"text-center space-y-1",children:[f.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:f.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:" "})}),f.jsx("p",{className:"text-muted-foreground text-sm",children:"    "})]}),f.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-5 shadow-sm space-y-4",children:[f.jsx("p",{className:"text-xs text-muted-foreground text-center font-medium uppercase tracking-widest",children:" "}),f.jsxs("div",{className:"flex items-center justify-center gap-3",children:[f.jsx("span",{className:"text-4xl font-mono font-black tracking-[0.25em] text-primary select-all",children:t.roomCode}),f.jsx("button",{onClick:x,className:"p-2.5 rounded-xl bg-secondary hover:bg-secondary/80 transition-all hover:scale-105 active:scale-95",title:" ",children:f.jsx(RN,{className:"w-4 h-4 text-muted-foreground"})})]}),f.jsxs(xl,{variant:"outline",size:"sm",onClick:_,className:"gap-2 w-full",children:[f.jsx(VN,{className:"w-4 h-4"}),"  "]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:`rounded-2xl p-4 border transition-all duration-200 ${(d==null?void 0:d.team)==="red"?"bg-team-red/15 border-team-red/40 shadow-[0_0_20px_hsl(var(--team-red)/0.12)]":"bg-card border-border/50"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h3",{className:"text-sm font-bold text-team-red",children:" "}),f.jsx("span",{className:"text-[10px] bg-team-red/10 text-team-red px-2 py-0.5 rounded-full font-semibold",children:a.length})]}),f.jsxs("div",{className:"space-y-1.5 min-h-[60px]",children:[a.length===0&&f.jsx("p",{className:"text-[11px] text-muted-foreground text-center py-3",children:"  "}),a.map(S=>f.jsxs("div",{className:`rounded-xl px-3 py-2 text-xs flex items-center justify-between gap-1 transition-colors ${S.id===e?"bg-team-red/20 border border-team-red/30":"bg-background/60"}`,children:[f.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[S.isSpymaster&&f.jsx(Au,{className:"w-3 h-3 text-gold flex-shrink-0"}),f.jsx("span",{className:"font-medium truncate",children:S.name}),S.id===t.hostId&&f.jsx(hw,{className:"w-2.5 h-2.5 text-muted-foreground flex-shrink-0"})]}),S.isSpymaster&&f.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1.5 py-0.5 rounded-full font-bold flex-shrink-0",children:""})]},S.id))]}),(d==null?void 0:d.team)!=="red"&&f.jsx("button",{onClick:()=>r(e,"red"),className:"mt-2 w-full text-[11px] text-team-red hover:bg-team-red/10 py-2 rounded-xl transition-colors font-semibold border border-dashed border-team-red/30 hover:border-team-red/50",children:"+  "})]}),f.jsxs("div",{className:`rounded-2xl p-4 border transition-all duration-200 ${(d==null?void 0:d.team)==="blue"?"bg-team-blue/15 border-team-blue/40 shadow-[0_0_20px_hsl(var(--team-blue)/0.12)]":"bg-card border-border/50"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h3",{className:"text-sm font-bold text-team-blue",children:" "}),f.jsx("span",{className:"text-[10px] bg-team-blue/10 text-team-blue px-2 py-0.5 rounded-full font-semibold",children:l.length})]}),f.jsxs("div",{className:"space-y-1.5 min-h-[60px]",children:[l.length===0&&f.jsx("p",{className:"text-[11px] text-muted-foreground text-center py-3",children:"  "}),l.map(S=>f.jsxs("div",{className:`rounded-xl px-3 py-2 text-xs flex items-center justify-between gap-1 transition-colors ${S.id===e?"bg-team-blue/20 border border-team-blue/30":"bg-background/60"}`,children:[f.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[S.isSpymaster&&f.jsx(Au,{className:"w-3 h-3 text-gold flex-shrink-0"}),f.jsx("span",{className:"font-medium truncate",children:S.name}),S.id===t.hostId&&f.jsx(hw,{className:"w-2.5 h-2.5 text-muted-foreground flex-shrink-0"})]}),S.isSpymaster&&f.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1.5 py-0.5 rounded-full font-bold flex-shrink-0",children:""})]},S.id))]}),(d==null?void 0:d.team)!=="blue"&&f.jsx("button",{onClick:()=>r(e,"blue"),className:"mt-2 w-full text-[11px] text-team-blue hover:bg-team-blue/10 py-2 rounded-xl transition-colors font-semibold border border-dashed border-team-blue/30 hover:border-team-blue/50",children:"+  "})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[f.jsxs("div",{className:`flex items-center gap-1.5 justify-center py-2 px-3 rounded-xl ${T&&O?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted/50 text-muted-foreground"}`,children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${T&&O?"bg-green-500":"bg-muted-foreground/40"}`})," ",T&&O?" ":" "]}),f.jsxs("div",{className:`flex items-center gap-1.5 justify-center py-2 px-3 rounded-xl ${N&&M?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted/50 text-muted-foreground"}`,children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${N&&M?"bg-green-500":"bg-muted-foreground/40"}`})," ",N&&M?" ":" "]})]}),f.jsx(hU,{settings:h,isHost:o,onToggleTimeLimit:m,onToggleSpymasterTimer:g,onToggleNormalTimer:b,onSetSpymasterDuration:y,onSetNormalDuration:E}),f.jsxs("button",{onClick:()=>s(e),className:`w-full py-3 rounded-2xl border text-sm font-semibold flex items-center justify-center gap-2 transition-all duration-200 ${d!=null&&d.isSpymaster?"bg-gold/15 border-gold/40 text-gold hover:bg-gold/20":"bg-card border-border/60 text-foreground hover:border-gold/40 hover:text-gold"}`,children:[f.jsx(Au,{className:"w-4 h-4"}),d!=null&&d.isSpymaster?"   ":"  "]}),o&&f.jsx(xl,{onClick:n,disabled:!C,className:`w-full h-14 text-base font-bold rounded-2xl tracking-wide transition-all duration-200 ${C?"shadow-[0_4px_24px_hsl(var(--primary)/0.35)] hover:shadow-[0_6px_32px_hsl(var(--primary)/0.45)] hover:scale-[1.01] active:scale-[0.99]":""}`,children:" "}),!o&&f.jsx("p",{className:"text-center text-xs text-muted-foreground pb-2",children:"    ..."})]})]})},pU=({game:t,onEndTurn:e})=>{const n=Math.floor(t.timer/60),r=t.timer%60,s=t.timer<=15,i=t.turnPhase==="guessing",o=t.turnPhase==="hint",a=t.maxTime>0&&(i||o),l=t.currentTeam==="red";return f.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border/50 px-4 py-2.5 sticky top-0 z-20",children:f.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[f.jsx("span",{className:`shrink-0 text-xs font-bold px-3 py-1.5 rounded-full transition-colors ${l?"bg-team-red text-team-red-foreground":"bg-team-blue text-team-blue-foreground"}`,children:l?"":""}),t.currentHint?f.jsxs("div",{className:"flex items-center gap-2 bg-secondary/80 rounded-xl px-3 py-1.5 min-w-0 overflow-hidden",children:[f.jsx("span",{className:"font-bold text-sm text-foreground truncate",children:t.currentHint.word}),f.jsxs("span",{className:"text-xs text-muted-foreground shrink-0",children:["(",t.currentHint.count,")"]}),i&&f.jsxs("span",{className:"text-xs font-semibold text-gold shrink-0",children:[" ",t.guessesRemaining," "]})]}):f.jsx("span",{className:"text-xs text-muted-foreground",children:t.turnPhase==="hint"?"  ...":""})]}),a&&f.jsxs("div",{className:`flex items-center gap-1.5 shrink-0 font-mono font-bold text-lg tabular-nums transition-colors ${s?"text-destructive animate-pulse":"text-foreground"}`,children:[f.jsx(Rb,{className:`w-4 h-4 ${s?"text-destructive":"text-muted-foreground"}`}),n,":",r.toString().padStart(2,"0")]}),i&&f.jsxs("button",{onClick:e,className:"shrink-0 flex items-center gap-1.5 text-xs font-semibold px-3 py-2 rounded-xl border border-border/60 bg-background/60 hover:bg-secondary/80 hover:border-border transition-all duration-150 active:scale-95",children:[" ",f.jsx(TN,{className:"w-3.5 h-3.5"})]})]})})},mU=({winner:t,scores:e,onRestart:n,onHome:r})=>{const s=t==="red";return f.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative overflow-hidden",children:[f.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl pointer-events-none ${s?"bg-team-red/15":"bg-team-blue/15"}`}),f.jsxs("div",{className:"relative z-10 bg-card border border-border/60 rounded-2xl p-8 max-w-sm w-full text-center animate-scale-in shadow-xl space-y-6",children:[f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(Ab,{className:"h-10 w-full"}),f.jsx("div",{className:`text-xs font-bold tracking-widest uppercase px-3 py-1 rounded-full ${s?"bg-team-red/15 text-team-red":"bg-team-blue/15 text-team-blue"}`,children:" "}),f.jsxs("h2",{className:"text-2xl font-bold mt-1",children:[" ",s?" ":" ","!"]})]}),f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsxs("div",{className:"text-center flex-1",children:[f.jsx("div",{className:`w-full py-3 rounded-xl font-black text-2xl flex items-center justify-center transition-all ${s?"bg-team-red text-team-red-foreground ring-2 ring-team-red/50 shadow-lg":"bg-team-red/10 text-team-red"}`,children:e.red}),f.jsx("span",{className:"text-[11px] text-muted-foreground mt-1.5 block font-medium",children:""})]}),f.jsx("span",{className:"text-muted-foreground/40 font-bold text-lg pb-5",children:""}),f.jsxs("div",{className:"text-center flex-1",children:[f.jsx("div",{className:`w-full py-3 rounded-xl font-black text-2xl flex items-center justify-center transition-all ${s?"bg-team-blue/10 text-team-blue":"bg-team-blue text-team-blue-foreground ring-2 ring-team-blue/50 shadow-lg"}`,children:e.blue}),f.jsx("span",{className:"text-[11px] text-muted-foreground mt-1.5 block font-medium",children:""})]})]}),f.jsxs("div",{className:"space-y-2.5 pt-1",children:[f.jsxs("button",{onClick:n,className:`w-full h-12 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200 hover:scale-[1.01] active:scale-[0.99]
              ${s?"bg-team-red text-team-red-foreground shadow-[0_4px_20px_hsl(var(--team-red)/0.35)]":"bg-team-blue text-team-blue-foreground shadow-[0_4px_20px_hsl(var(--team-blue)/0.35)]"}`,children:[f.jsx(LN,{className:"w-4 h-4"})," "]}),f.jsxs("button",{onClick:r,className:"w-full h-11 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 border border-border/60 bg-background/60 hover:bg-secondary/60 transition-all duration-200 text-muted-foreground hover:text-foreground",children:[f.jsx(NN,{className:"w-4 h-4"})," "]})]})]})]})},fu=({game:t,team:e})=>{const n=t.players.filter(u=>u.team===e),r=t.currentTeam===e,s=t.scores[e],i=t.targetScores[e],o=Math.round(s/i*100),l=e==="red"?{bg:"bg-team-red/10",border:"border-team-red/25",text:"text-team-red",badge:"bg-team-red",bar:"bg-team-red",label:""}:{bg:"bg-team-blue/10",border:"border-team-blue/25",text:"text-team-blue",badge:"bg-team-blue",bar:"bg-team-blue",label:""};return f.jsxs("div",{className:`
      ${l.bg} border ${l.border} rounded-2xl p-3
      ${r?"ring-2 ring-gold shadow-[0_0_16px_hsl(var(--gold)/0.2)]":""}
      transition-all duration-300
    `,children:[r&&f.jsx("div",{className:`text-[9px] text-center font-bold ${l.text} mb-2 tracking-widest uppercase`,children:"  "}),f.jsxs("div",{className:"text-center mb-3",children:[f.jsxs("div",{className:`${l.badge} text-white rounded-xl py-2 px-4 inline-flex items-baseline gap-1.5`,children:[f.jsx("span",{className:"text-2xl font-black",children:s}),f.jsxs("span",{className:"text-xs opacity-70 font-medium",children:["/ ",i]})]}),f.jsx("div",{className:`text-[11px] font-bold mt-1.5 ${l.text}`,children:l.label})]}),f.jsx("div",{className:"w-full h-1.5 bg-background/60 rounded-full mb-3 overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${l.bar} transition-all duration-500`,style:{width:`${o}%`}})}),f.jsx("div",{className:"space-y-1",children:n.map(u=>f.jsxs("div",{className:"bg-background/50 rounded-xl px-2.5 py-1.5 text-[11px] flex items-center justify-between gap-1",children:[f.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[u.isSpymaster&&f.jsx(Au,{className:"w-2.5 h-2.5 text-gold flex-shrink-0"}),f.jsx("span",{className:"font-medium truncate",children:u.name})]}),u.isSpymaster&&f.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1.5 py-0.5 rounded-full font-bold shrink-0",children:""})]},u.id))}),r&&t.currentHint&&f.jsxs("div",{className:`mt-2.5 p-2.5 rounded-xl border ${l.border} ${l.bg} text-center`,children:[f.jsx("div",{className:"text-[9px] text-muted-foreground mb-0.5 tracking-wide",children:" "}),f.jsx("div",{className:`font-bold text-sm ${l.text}`,children:t.currentHint.word}),f.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[t.currentHint.count," "]})]})]})};function gU(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var av="ScrollArea",[vR,t$]=Bi(av),[yU,Sn]=vR(av),wR=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=v.useState(null),[u,d]=v.useState(null),[h,m]=v.useState(null),[g,b]=v.useState(null),[y,E]=v.useState(null),[x,_]=v.useState(0),[T,N]=v.useState(0),[O,M]=v.useState(!1),[C,S]=v.useState(!1),I=Pe(e,k=>l(k)),A=_I(s);return f.jsx(yU,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:O,onScrollbarXEnabledChange:M,scrollbarY:y,onScrollbarYChange:E,scrollbarYEnabled:C,onScrollbarYEnabledChange:S,onCornerWidthChange:_,onCornerHeightChange:N,children:f.jsx(xe.div,{dir:A,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});wR.displayName=av;var _R="ScrollAreaViewport",xR=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Sn(_R,n),a=v.useRef(null),l=Pe(e,a,o.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),f.jsx(xe.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});xR.displayName=_R;var xr="ScrollAreaScrollbar",lv=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Sn(xr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?f.jsx(vU,{...r,ref:e,forceMount:n}):s.type==="scroll"?f.jsx(wU,{...r,ref:e,forceMount:n}):s.type==="auto"?f.jsx(ER,{...r,ref:e,forceMount:n}):s.type==="always"?f.jsx(cv,{...r,ref:e}):null});lv.displayName=xr;var vU=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Sn(xr,t.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),f.jsx(Hi,{present:n||i,children:f.jsx(ER,{"data-state":i?"visible":"hidden",...r,ref:e})})}),wU=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Sn(xr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Yh(()=>l("SCROLL_END"),100),[a,l]=gU("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const g=u[d];h!==g&&(l("SCROLL"),o()),h=g};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,i,l,o]),f.jsx(Hi,{present:n||a!=="hidden",children:f.jsx(cv,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ue(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ue(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ER=v.forwardRef((t,e)=>{const n=Sn(xr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=v.useState(!1),a=t.orientation==="horizontal",l=Yh(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return la(n.viewport,l),la(n.content,l),f.jsx(Hi,{present:r||i,children:f.jsx(cv,{"data-state":i?"visible":"hidden",...s,ref:e})})}),cv=v.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Sn(xr,t.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=IR(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,g){return SU(m,o.current,a,g)}return n==="horizontal"?f.jsx(_U,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,g=Tx(m,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?f.jsx(xU,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,g=Tx(m,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),_U=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Sn(xr,t.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),u=Pe(e,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(TR,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qh(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),AR(m,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Bd(o.paddingLeft),paddingEnd:Bd(o.paddingRight)}})}})}),xU=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Sn(xr,t.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),u=Pe(e,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(TR,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qh(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),AR(m,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Bd(o.paddingTop),paddingEnd:Bd(o.paddingBottom)}})}})}),[EU,bR]=vR(xr),TR=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=t,g=Sn(xr,n),[b,y]=v.useState(null),E=Pe(e,I=>y(I)),x=v.useRef(null),_=v.useRef(""),T=g.viewport,N=r.content-r.viewport,O=wt(d),M=wt(l),C=Yh(h,10);function S(I){if(x.current){const A=I.clientX-x.current.left,k=I.clientY-x.current.top;u({x:A,y:k})}}return v.useEffect(()=>{const I=A=>{const k=A.target;(b==null?void 0:b.contains(k))&&O(A,N)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[T,b,N,O]),v.useEffect(M,[r,M]),la(b,C),la(g.content,C),f.jsx(EU,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:wt(i),onThumbPointerUp:wt(o),onThumbPositionChange:M,onThumbPointerDown:wt(a),children:f.jsx(xe.div,{...m,ref:E,style:{position:"absolute",...m.style},onPointerDown:ue(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=b.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),S(I))}),onPointerMove:ue(t.onPointerMove,S),onPointerUp:ue(t.onPointerUp,I=>{const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=_.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),zd="ScrollAreaThumb",SR=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bR(zd,t.__scopeScrollArea);return f.jsx(Hi,{present:n||s.hasThumb,children:f.jsx(bU,{ref:e,...r})})}),bU=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Sn(zd,n),o=bR(zd,n),{onThumbPositionChange:a}=o,l=Pe(e,h=>o.onThumbChange(h)),u=v.useRef(void 0),d=Yh(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(d(),!u.current){const g=CU(h,a);u.current=g,a()}};return a(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,d,a]),f.jsx(xe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ue(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),b=h.clientX-g.left,y=h.clientY-g.top;o.onThumbPointerDown({x:b,y})}),onPointerUp:ue(t.onPointerUp,o.onThumbPointerUp)})});SR.displayName=zd;var uv="ScrollAreaCorner",CR=v.forwardRef((t,e)=>{const n=Sn(uv,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(TU,{...t,ref:e}):null});CR.displayName=uv;var TU=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Sn(uv,n),[i,o]=v.useState(0),[a,l]=v.useState(0),u=!!(i&&a);return la(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),la(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?f.jsx(xe.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Bd(t){return t?parseInt(t,10):0}function IR(t,e){const n=t/e;return isNaN(n)?0:n}function Qh(t){const e=IR(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function SU(t,e,n,r="ltr"){const s=Qh(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return RR([l,u],h)(t)}function Tx(t,e,n="ltr"){const r=Qh(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=Km(t,l);return RR([0,o],[0,a])(u)}function RR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function AR(t,e){return t>0&&t<e}var CU=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Yh(t,e){const n=wt(t),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function la(t,e){const n=wt(e);xt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var PR=wR,IU=xR,RU=CR;const kR=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(PR,{ref:r,className:tt("relative overflow-hidden",t),...n,children:[f.jsx(IU,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(NR,{}),f.jsx(RU,{})]}));kR.displayName=PR.displayName;const NR=v.forwardRef(({className:t,orientation:e="vertical",...n},r)=>f.jsx(lv,{ref:r,orientation:e,className:tt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:f.jsx(SR,{className:"relative flex-1 rounded-full bg-border"})}));NR.displayName=lv.displayName;const Sx={red:"text-team-red font-semibold",blue:"text-team-blue font-semibold",neutral:"text-foreground",assassin:"text-foreground font-bold"},Cx={red:"bg-team-red/10 border-team-red/20",blue:"bg-team-blue/10 border-team-blue/20",neutral:"bg-secondary/40 border-border/30",assassin:"bg-foreground/10 border-foreground/20"},AU={red:"",blue:"",neutral:"",assassin:""};function PU({entry:t}){const e=t.team==="red";return f.jsxs("div",{className:`rounded-xl border px-3 py-2 text-xs ${e?"bg-team-red/10 border-team-red/20":"bg-team-blue/10 border-team-blue/20"}`,children:[f.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wide ${e?"text-team-red":"text-team-blue"}`,children:e?" ":" "}),f.jsxs("div",{className:"mt-0.5 flex items-baseline gap-1.5",children:[f.jsx("span",{className:"font-bold text-foreground text-sm",children:t.word}),f.jsxs("span",{className:"text-muted-foreground",children:["(",t.amount,")"]})]})]})}function kU({entry:t}){return f.jsxs("div",{className:`rounded-xl border px-3 py-2 text-xs ${Cx[t.color]}`,children:[f.jsxs("span",{className:"text-muted-foreground",children:[t.player," :"]}),f.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[f.jsx("span",{className:`text-sm ${Sx[t.color]}`,children:t.word}),f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-md border ${Cx[t.color]} ${Sx[t.color]}`,children:AU[t.color]})]})]})}function NU({entry:t}){const e=t.team==="red",n=t.reason==="timeout"?" ":" ";return f.jsxs("div",{className:"flex items-center gap-2 px-1 py-0.5",children:[f.jsx("div",{className:"flex-1 h-px bg-border/40"}),f.jsx("span",{className:`text-[10px] font-medium shrink-0 ${e?"text-team-red/70":"text-team-blue/70"}`,children:n}),f.jsx("div",{className:"flex-1 h-px bg-border/40"})]})}const DU=({history:t})=>{const e=v.useRef(null);return v.useEffect(()=>{var n;(n=e.current)==null||n.scrollIntoView({behavior:"smooth"})},[t.length]),f.jsxs("div",{className:"flex flex-col h-full bg-card/60 border border-border/50 rounded-2xl overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 border-b border-border/40 shrink-0",children:[f.jsx(kN,{className:"w-3.5 h-3.5 text-muted-foreground"}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground",children:""})]}),f.jsx(kR,{className:"flex-1 px-2 py-2",children:t.length===0?f.jsx("p",{className:"text-[11px] text-muted-foreground/50 text-center mt-4",children:"   "}):f.jsxs("div",{className:"space-y-1.5",children:[t.map((n,r)=>n.type==="hint"?f.jsx(PU,{entry:n},r):n.type==="guess"?f.jsx(kU,{entry:n},r):f.jsx(NU,{entry:n},r)),f.jsx("div",{ref:e})]})})]})},OU=({currentTeam:t,onSubmitHint:e})=>{const[n,r]=v.useState(""),[s,i]=v.useState(1),o=()=>{n.trim()&&(e(n.trim(),s),r(""),i(1))},a=t==="red";return f.jsxs("div",{className:`
      mx-auto max-w-lg rounded-2xl border-2 p-4 animate-fade-in
      ${a?"border-team-red/30 bg-team-red/5":"border-team-blue/30 bg-team-blue/5"}
    `,children:[f.jsx("h3",{className:"text-sm font-bold text-center mb-3 text-muted-foreground",children:" "}),f.jsxs("div",{className:"flex gap-2 items-end",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"text-[11px] text-muted-foreground mb-1 block font-medium",children:""}),f.jsx(pl,{value:n,onChange:l=>r(l.target.value),onKeyDown:l=>l.key==="Enter"&&o(),placeholder:"...",className:"h-10 text-center font-semibold",dir:"rtl",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-[11px] text-muted-foreground mb-1 block font-medium text-center",children:""}),f.jsxs("div",{className:"flex items-center gap-1 h-10",children:[f.jsx("button",{onClick:()=>i(l=>Math.max(1,l-1)),className:"w-8 h-8 rounded-lg bg-secondary hover:bg-secondary/80 flex items-center justify-center transition-colors active:scale-90",children:f.jsx(ON,{className:"w-3 h-3"})}),f.jsx("span",{className:"w-8 text-center font-bold text-base tabular-nums",children:s}),f.jsx("button",{onClick:()=>i(l=>Math.min(8,l+1)),className:"w-8 h-8 rounded-lg bg-secondary hover:bg-secondary/80 flex items-center justify-center transition-colors active:scale-90",children:f.jsx(Ib,{className:"w-3 h-3"})})]})]}),f.jsxs("button",{onClick:o,disabled:!n.trim(),className:`h-10 px-4 rounded-xl font-bold text-sm flex items-center gap-1.5 transition-all duration-200 active:scale-95
            ${n.trim()?a?"bg-team-red text-team-red-foreground hover:opacity-90":"bg-team-blue text-team-blue-foreground hover:opacity-90":"bg-muted text-muted-foreground cursor-not-allowed"}
          `,children:["",f.jsx(dm,{className:"w-3.5 h-3.5"})]})]})]})},MU=({team:t,onComplete:e})=>{const[n,r]=v.useState(!0),[s,i]=v.useState(!1),o=v.useRef(e);if(o.current=e,v.useEffect(()=>{const l=setTimeout(()=>i(!0),1600),u=setTimeout(()=>{r(!1),o.current()},2e3);return()=>{clearTimeout(l),clearTimeout(u)}},[]),!n)return null;const a=t==="red";return f.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm transition-opacity duration-300 ${s?"opacity-0":"opacity-100 animate-fade-in"} ${a?"bg-team-red/20":"bg-team-blue/20"}`,children:[f.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl pointer-events-none ${a?"bg-team-red/30":"bg-team-blue/30"}`}),f.jsxs("div",{className:`
        relative rounded-2xl px-12 py-10 text-center animate-scale-in shadow-2xl border
        ${a?"bg-team-red border-team-red/20":"bg-team-blue border-team-blue/20"}
      `,children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:a?" ":" "}),f.jsx("p",{className:"text-white/70 text-base font-medium",children:"   !"}),f.jsx("div",{className:"mt-5 w-full h-1 bg-white/20 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-white/60 rounded-full",style:{animation:"shrink 1.6s linear forwards"}})})]}),f.jsx("style",{children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},LU=({losingTeam:t,word:e,onComplete:n})=>{const[r,s]=v.useState("enter");v.useEffect(()=>{const o=setTimeout(()=>s("hold"),100),a=setTimeout(()=>s("exit"),3200),l=setTimeout(()=>n(),3700);return()=>{clearTimeout(o),clearTimeout(a),clearTimeout(l)}},[n]);const i=t==="red";return f.jsxs("div",{className:`
        fixed inset-0 z-50 flex items-center justify-center
        transition-opacity duration-500
        ${r==="enter"?"opacity-0":r==="hold"?"opacity-100":"opacity-0"}
        bg-black/90 backdrop-blur-md
      `,children:[f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:f.jsx("div",{className:"w-[600px] h-[600px] rounded-full bg-gray-900 blur-3xl opacity-80 animate-pulse"})}),f.jsxs("div",{className:`
          relative z-10 text-center px-10 py-12 rounded-3xl border border-gray-700
          bg-gray-950 shadow-2xl max-w-sm w-full mx-4
          transform transition-all duration-500
          ${r==="hold"?"scale-100 opacity-100":"scale-90 opacity-0"}
        `,children:[f.jsx("div",{className:"text-7xl mb-5 animate-bounce",style:{animationDuration:"1.5s"},children:""}),f.jsx("div",{className:"text-white/40 text-sm font-medium mb-1",children:""}),f.jsx("div",{className:"text-white text-2xl font-black mb-4 tracking-wide",children:e}),f.jsx("div",{className:"w-16 h-px bg-gray-700 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400 text-sm font-medium mb-2",children:" !"}),f.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full font-bold text-base ${i?"bg-team-red/20 text-team-red border border-team-red/30":"bg-team-blue/20 text-team-blue border border-team-blue/30"}`,children:[i?" ":" "," "]}),f.jsx("div",{className:"mt-6 w-full h-0.5 bg-gray-800 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gray-500 rounded-full",style:{animation:"shrink 3.2s linear forwards"}})})]}),f.jsx("style",{children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},VU=({team:t,phase:e,onComplete:n})=>{const[r,s]=v.useState("enter"),i=v.useRef(n);i.current=n,v.useEffect(()=>{const l=setTimeout(()=>s("hold"),80),u=setTimeout(()=>s("exit"),2400),d=setTimeout(()=>i.current(),2800);return()=>{clearTimeout(l),clearTimeout(u),clearTimeout(d)}},[]);const o=t==="red",a=e==="hint";return f.jsxs("div",{className:`
        fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm
        transition-opacity duration-300
        ${r==="enter"?"opacity-0":r==="hold"?"opacity-100":"opacity-0"}
        ${o?"bg-team-red/15":"bg-team-blue/15"}
      `,children:[f.jsxs("div",{className:`
          relative z-10 text-center px-10 py-8 rounded-3xl border shadow-2xl max-w-xs w-full mx-4
          transform transition-all duration-300
          ${r==="hold"?"scale-100 opacity-100":"scale-90 opacity-0"}
          ${o?"bg-team-red border-team-red/20":"bg-team-blue border-team-blue/20"}
        `,children:[f.jsx("div",{className:"text-5xl mb-4",children:""}),f.jsx("h2",{className:"text-xl font-black text-white mb-1",children:" !"}),f.jsx("p",{className:"text-white/70 text-sm",children:a?`  ${o?" ":" "}    `:`  ${o?" ":" "} `}),f.jsx("div",{className:"mt-5 w-full h-0.5 bg-white/20 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-white/60 rounded-full",style:{animation:"shrink 2.4s linear forwards"}})})]}),f.jsx("style",{children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})};function jU(t){return{history:(t==null?void 0:t.history)??[],buildHintEntry:(s,i,o)=>({type:"hint",team:s,word:i,amount:o,timestamp:Date.now()}),buildGuessEntry:(s,i,o)=>({type:"guess",player:s,word:i,color:o,timestamp:Date.now()})}}const FU=()=>{const{roomCode:t}=HM(),e=_h(),[n,r]=v.useState(null),[s,i]=v.useState(!1),[o,a]=v.useState("red"),[l,u]=v.useState(null),[d,h]=v.useState(null),m=sessionStorage.getItem("playerId")||"";v.useEffect(()=>{if(!t)return;const U=A6(t,W=>r(W));return()=>U()},[t]);const g=v.useCallback(async U=>{r(U),await $u(U.roomCode,U)},[]),b=(U,W)=>[...U.history??[],W],y=U=>({...U,cards:U.cards.map(W=>({...W,highlighted:!1}))}),E=()=>{if(!n)return;const U=n.lobbySettings,W=U!=null&&U.timeLimitEnabled&&(U!=null&&U.spymasterTimerEnabled)?U.spymasterDuration:0,V={...n,phase:"playing",turnPhase:"hint",maxTime:W,timer:W};g(V),a("red"),i(!0)},x=(U,W)=>{if(!n)return;const V=n.lobbySettings,G=(V==null?void 0:V.timeLimitEnabled)&&(V==null?void 0:V.normalTimerEnabled)?V.normalDuration:0,J={type:"hint",team:n.currentTeam,word:U,amount:W,timestamp:Date.now()};g({...n,turnPhase:"guessing",currentHint:{word:U,count:W},guessesRemaining:W+1,maxTime:G,timer:G,history:b(n,J)})},_=U=>{if(!n||n.phase!=="playing"||n.turnPhase!=="guessing")return;const W=n.players.find(X=>X.id===m);if(!W||W.team!==n.currentTeam||W.isSpymaster)return;const V=n.cards[U];if(V.revealed)return;const j={type:"guess",player:W.name,word:V.word.word,color:V.type,timestamp:Date.now()},G=n.currentTeam;let J=gL(n,U);if(J.phase==="playing"&&J.turnPhase==="hint"){const X=n.lobbySettings,se=X!=null&&X.timeLimitEnabled&&(X!=null&&X.spymasterTimerEnabled)?X.spymasterDuration:0;J={...J,timer:se,maxTime:se}}if(J={...J,history:b(J,j)},V.type==="assassin"){const X={...J,phase:"playing"};g(X),setTimeout(()=>{u({losingTeam:G,word:V.word.word,onDone:()=>{u(null),g(J)}})},650)}else g(J),setTimeout(()=>{J.phase==="playing"&&J.currentTeam!==G&&(g(y(J)),a(J.currentTeam),i(!0))},700)},T=U=>{if(!n)return;const W=n.players.find(j=>j.id===m);!W||!(n.turnPhase==="guessing"&&W.team===n.currentTeam&&!W.isSpymaster)||g(yL(n,U))},N=()=>{if(!n)return;const U=n.currentTeam==="red"?"blue":"red",W=n.lobbySettings,V=W!=null&&W.timeLimitEnabled&&(W!=null&&W.spymasterTimerEnabled)?W.spymasterDuration:0,j={type:"turn_end",team:n.currentTeam,reason:"manual",timestamp:Date.now()};g(y({...n,currentTeam:U,timer:V,maxTime:V,turnPhase:"hint",currentHint:null,guessesRemaining:0,history:b(n,j)})),a(U),i(!0)},O=()=>{const U=n.players.find(V=>V.id===m);if(!n||!U)return;const W=jT(U.name);W.roomCode=n.roomCode,W.players=n.players,W.hostId=n.hostId,g(W)},M=(U,W)=>{if(!n)return;const V=n.players.map(j=>j.id===U?{...j,team:W}:j);g({...n,players:V})},C=U=>{n&&g({...n,lobbySettings:U})},S=U=>{if(!n)return;const W=n.players.find(j=>j.id===U);if(!W)return;const V=n.players.map(j=>j.id===U?{...j,isSpymaster:!j.isSpymaster}:j.team===W.team&&j.isSpymaster?{...j,isSpymaster:!1}:j);g({...n,players:V})},I=n==null?void 0:n.players.find(U=>U.id===m),A=I==null?void 0:I.isHost,{history:k}=jU(n);if(v.useEffect(()=>{if(!n||!A||n.phase!=="playing"||!n.maxTime||n.maxTime===0)return;const U=n.lobbySettings,W=(U==null?void 0:U.timeLimitEnabled)&&(U==null?void 0:U.spymasterTimerEnabled),V=(U==null?void 0:U.timeLimitEnabled)&&(U==null?void 0:U.normalTimerEnabled),j=n.turnPhase==="hint",G=n.turnPhase==="guessing";if(j&&!W||G&&!V)return;const J=setInterval(async()=>{if(n.timer<=0){const X=n.currentTeam==="red"?"blue":"red",se=W?U.spymasterDuration:0,ie={type:"turn_end",team:n.currentTeam,reason:"timeout",timestamp:Date.now()};h({team:n.currentTeam,phase:j?"hint":"guessing"}),await $u(n.roomCode,{currentTeam:X,timer:se,maxTime:se,turnPhase:"hint",currentHint:null,guessesRemaining:0,cards:n.cards.map(Ie=>({...Ie,highlighted:!1})),history:b(n,ie)})}else await $u(n.roomCode,{timer:n.timer-1})},1e3);return()=>clearInterval(J)},[n,A,m]),!n)return null;const D=(I==null?void 0:I.isSpymaster)||!1,P=(I==null?void 0:I.team)===n.currentTeam,H=D&&P,ne=n.turnPhase==="guessing";return f.jsxs("div",{className:"min-h-screen flex flex-col relative bg-background",children:[f.jsx("div",{className:"absolute inset-0 opacity-[0.04] pointer-events-none",style:{backgroundImage:`url(${vy})`,backgroundSize:"300px"}}),f.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[n.phase==="lobby"&&f.jsx(fU,{game:n,playerId:m,onStart:E,onSwitchTeam:M,onToggleSpymaster:S,onSettingsChange:C}),n.phase==="playing"&&f.jsxs(f.Fragment,{children:[f.jsx(pU,{game:n,onEndTurn:N}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f.jsxs("div",{className:"hidden md:flex flex-col w-48 p-3 gap-3 shrink-0",children:[f.jsx(fu,{game:n,team:"red"}),f.jsx(fu,{game:n,team:"blue"})]}),f.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[!H&&I&&!P&&f.jsx("div",{className:"px-3 pt-3",children:f.jsx("div",{className:"bg-secondary/50 border border-border/40 rounded-xl py-2.5 px-4 text-center",children:f.jsx("span",{className:"text-muted-foreground text-sm font-medium",children:"    "})})}),n.turnPhase==="hint"&&H&&f.jsx("div",{className:"p-3",children:f.jsx(OU,{currentTeam:n.currentTeam,onSubmitHint:x})}),n.turnPhase==="hint"&&!H&&P&&f.jsx("div",{className:"px-3 pt-3",children:f.jsx("div",{className:`border rounded-xl py-2.5 px-4 text-center animate-pulse ${n.currentTeam==="red"?"bg-team-red/5 border-team-red/20":"bg-team-blue/5 border-team-blue/20"}`,children:f.jsx("span",{className:"text-sm text-muted-foreground",children:"    ..."})})}),n.turnPhase==="guessing"&&n.currentHint&&f.jsx("div",{className:"px-3 pt-3",children:f.jsx("div",{className:`border rounded-xl py-2.5 px-5 text-center ${n.currentTeam==="red"?"bg-team-red/5 border-team-red/20":"bg-team-blue/5 border-team-blue/20"}`,children:f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-muted-foreground",children:":"}),f.jsx("span",{className:"font-bold text-base text-foreground",children:n.currentHint.word}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Mb(n.currentHint.count),")"]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsx("span",{className:"text-muted-foreground",children:_2(n.currentHint.count,n.players.filter(U=>U.team===n.currentTeam&&!U.isSpymaster).length)}),f.jsxs("span",{className:"text-gold font-semibold",children:[" ",n.guessesRemaining," "]})]})]})})}),f.jsx(k6,{cards:n.cards,isSpymaster:D,onCardClick:_,currentPlayer:I,onRightClick:T,currentTeam:n.currentTeam,canGuess:ne})]}),f.jsx("div",{className:"hidden md:flex flex-col w-44 p-3 shrink-0",children:f.jsx(DU,{history:k})})]}),f.jsxs("div",{className:"md:hidden flex gap-2 px-3 pb-3",children:[f.jsx("div",{className:"flex-1",children:f.jsx(fu,{game:n,team:"red"})}),f.jsx("div",{className:"flex-1",children:f.jsx(fu,{game:n,team:"blue"})})]})]}),n.phase==="finished"&&f.jsx(mU,{winner:n.winner,scores:n.scores,onRestart:O,onHome:()=>e("/")})]}),s&&f.jsx(MU,{team:o,onComplete:()=>i(!1)}),l&&f.jsx(LU,{losingTeam:l.losingTeam,word:l.word,onComplete:l.onDone}),d&&f.jsx(VU,{team:d.team,phase:d.phase,onComplete:()=>{const U=d.team==="red"?"blue":"red";h(null),a(U),i(!0)}},`${d.team}-${d.phase}`)]})},UU=()=>{const t=yy();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},so=({icon:t,title:e,children:n,accent:r="primary"})=>{const[s,i]=v.useState(!0),o={primary:"text-primary border-primary/30 bg-primary/8",red:"text-team-red border-team-red/30 bg-team-red/8",blue:"text-team-blue border-team-blue/30 bg-team-blue/8",gold:"text-gold border-gold/30 bg-gold/8",assassin:"text-foreground border-border bg-card-neutral/60"},a={primary:"bg-primary/15 text-primary",red:"bg-team-red/15 text-team-red",blue:"bg-team-blue/15 text-team-blue",gold:"bg-gold/15 text-gold",assassin:"bg-muted text-muted-foreground"};return f.jsxs("div",{className:`rounded-2xl border ${o[r]} backdrop-blur-sm overflow-hidden transition-all duration-300`,children:[f.jsxs("button",{onClick:()=>i(l=>!l),className:"w-full flex items-center gap-3 p-4 text-right",children:[f.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ${a[r]}`,children:t}),f.jsx("span",{className:"flex-1 font-bold text-base text-foreground",children:e}),f.jsx(Zg,{className:`w-4 h-4 text-muted-foreground transition-transform duration-300 ${s?"rotate-180":""}`})]}),f.jsx("div",{className:`overflow-hidden transition-all duration-300 ${s?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:f.jsx("div",{className:"px-4 pb-4 pt-0 text-sm text-foreground/80 leading-relaxed space-y-2 border-t border-current/10",children:n})})]})},pu=({color:t,label:e,count:n})=>f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg flex-shrink-0 ${t} shadow-sm`}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm text-foreground",children:e}),f.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})]}),$U=()=>{const t=_h();return f.jsxs("div",{className:"min-h-screen flex flex-col items-center px-4 py-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 opacity-[0.05] pointer-events-none",style:{backgroundImage:`url(${vy})`,backgroundSize:"300px"}}),f.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-72 h-72 rounded-full bg-team-red/10 blur-3xl pointer-events-none"}),f.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-72 h-72 rounded-full bg-team-blue/10 blur-3xl pointer-events-none"}),f.jsxs("div",{className:"relative z-10 w-full max-w-sm mx-auto animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[f.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 rounded-xl bg-card border border-border/60 flex items-center justify-center hover:bg-secondary/60 transition-colors",children:f.jsx(dw,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-foreground leading-tight",children:" "}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"    "})]}),f.jsx("div",{className:"mr-auto",children:f.jsx(IN,{className:"w-6 h-6 text-muted-foreground/50"})})]}),f.jsx("div",{className:"bg-primary/10 border border-primary/25 rounded-2xl p-4 mb-5",children:f.jsx("p",{className:"text-sm text-foreground/90 leading-relaxed text-center font-medium",children:"      .      !"})}),f.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-4 mb-5",children:[f.jsx("h3",{className:"font-bold text-sm text-muted-foreground mb-3 uppercase tracking-wider",children:" "}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx(pu,{color:"bg-team-red",label:" ",count:"- "}),f.jsx(pu,{color:"bg-team-blue",label:" ",count:"- "}),f.jsx(pu,{color:"bg-card-neutral border border-border",label:"",count:" "}),f.jsx(pu,{color:"bg-card-assassin border border-border",label:" ",count:" "})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs(so,{icon:f.jsx(ey,{className:"w-4 h-4"}),title:" ",accent:"primary",children:[f.jsxs("p",{className:"mt-2",children:["   ",f.jsx("strong",{children:":  "}),".    ",f.jsx("strong",{children:"  (Spymaster)"}),"    ",f.jsx("strong",{children:" "}),"."]}),f.jsx("p",{children:"          ."})]}),f.jsxs(so,{icon:f.jsx(PN,{className:"w-4 h-4"}),title:"  ",accent:"gold",children:[f.jsxs("p",{className:"mt-2",children:["      ",f.jsx("strong",{children:"  + "}),"."]}),f.jsxs("ul",{className:"space-y-1 list-none",children:[f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-gold font-bold",children:""}),f.jsx("span",{children:":    "})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-gold font-bold",children:""}),f.jsx("span",{children:":       "})]})]}),f.jsx("p",{className:"bg-gold/10 border border-gold/20 rounded-xl px-3 py-2 text-xs mt-2",children:': " "         '})]}),f.jsxs(so,{icon:f.jsx(UN,{className:"w-4 h-4"}),title:"  ",accent:"blue",children:[f.jsx("p",{className:"mt-2",children:"      :"}),f.jsxs("ul",{className:"space-y-1 list-none",children:[f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-team-blue font-bold",children:""}),f.jsxs("span",{children:[f.jsx("strong",{children:" "})," -    (  + )"]})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-muted-foreground font-bold",children:""}),f.jsxs("span",{children:[f.jsx("strong",{children:" "})," -  "]})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-team-red font-bold",children:""}),f.jsxs("span",{children:[f.jsx("strong",{children:"  "})," -    !"]})]})]})]}),f.jsxs(so,{icon:f.jsx(jN,{className:"w-4 h-4"}),title:"  ",accent:"assassin",children:[f.jsxs("p",{className:"mt-2",children:["   ",f.jsx("strong",{children:" "}),"   !"]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"     -   ."})]}),f.jsxs(so,{icon:f.jsx(AN,{className:"w-4 h-4"}),title:"  ",accent:"primary",children:[f.jsx("p",{className:"mt-2",children:"   :"}),f.jsxs("ul",{className:"space-y-1 list-none",children:[f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-destructive font-bold",children:""}),f.jsx("span",{children:"    "})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-destructive font-bold",children:""}),f.jsx("span",{children:"    "})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-destructive font-bold",children:""}),f.jsx("span",{children:"    "})]})]})]}),f.jsxs(so,{icon:f.jsx(Ab,{className:"w-4 h-4"}),title:" ",accent:"gold",children:[f.jsxs("p",{className:"mt-2",children:[f.jsx("strong",{children:""}),"        ."]}),f.jsxs("p",{children:[f.jsx("strong",{children:" "})," :"]}),f.jsxs("ul",{className:"space-y-1 list-none",children:[f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-destructive font-bold",children:""}),f.jsx("span",{children:"  "})]}),f.jsxs("li",{className:"flex gap-2",children:[f.jsx("span",{className:"text-destructive font-bold",children:""}),f.jsx("span",{children:"     "})]})]})]})]}),f.jsx("div",{className:"mt-6 mb-4",children:f.jsxs("button",{onClick:()=>t("/"),className:"w-full h-14 rounded-2xl bg-primary text-primary-foreground font-bold text-base flex items-center justify-center gap-2.5 shadow-[0_4px_24px_hsl(var(--primary)/0.35)] hover:shadow-[0_6px_32px_hsl(var(--primary)/0.45)] hover:scale-[1.01] active:scale-[0.99] transition-all duration-200",children:["  ",f.jsx(dw,{className:"w-5 h-5 rotate-180"})]})})]})]})},zU=()=>{const{theme:t,toggleTheme:e}=uL();return f.jsx(xl,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full w-12 h-12 hover:bg-transparent","aria-label":" ",children:t==="dark"?f.jsx(FN,{className:"h-5 w-5 text-gold"}):f.jsx(MN,{className:"h-5 w-5 text-primary"})})},BU=new hM,HU=()=>(v.useEffect(()=>{C6().catch(console.error)},[]),f.jsx(cL,{children:f.jsx(pM,{client:BU,children:f.jsxs(zO,{children:[f.jsx(T2,{}),f.jsx(rD,{}),f.jsxs(lL,{children:[f.jsx("div",{className:"fixed top-1 left-4 z-50",children:f.jsx(zU,{})}),f.jsxs(iL,{children:[f.jsx(Ja,{path:"/",element:f.jsx(P6,{})}),f.jsx(Ja,{path:"/rules",element:f.jsx($U,{})}),f.jsx(Ja,{path:"/game/:roomCode",element:f.jsx(FU,{})}),f.jsx(Ja,{path:"*",element:f.jsx(UU,{})})]})]})]})})}));QE(document.getElementById("root")).render(f.jsx(HU,{}));
