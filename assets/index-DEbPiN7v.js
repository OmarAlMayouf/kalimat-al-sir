var kg=t=>{throw TypeError(t)};var Vd=(t,e,n)=>e.has(t)||kg("Cannot "+n);var F=(t,e,n)=>(Vd(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?kg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(Vd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),gt=(t,e,n)=>(Vd(t,e,"access private method"),n);var Dl=(t,e,n,r)=>({set _(s){ae(t,e,s,n)},get _(){return F(t,e,r)}});function GT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function U0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var z0={exports:{}},Sc={},B0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=Symbol.for("react.element"),KT=Symbol.for("react.portal"),YT=Symbol.for("react.fragment"),XT=Symbol.for("react.strict_mode"),JT=Symbol.for("react.profiler"),ZT=Symbol.for("react.provider"),eb=Symbol.for("react.context"),tb=Symbol.for("react.forward_ref"),nb=Symbol.for("react.suspense"),rb=Symbol.for("react.memo"),sb=Symbol.for("react.lazy"),Ng=Symbol.iterator;function ib(t){return t===null||typeof t!="object"?null:(t=Ng&&t[Ng]||t["@@iterator"],typeof t=="function"?t:null)}var H0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W0=Object.assign,q0={};function vo(t,e,n){this.props=t,this.context=e,this.refs=q0,this.updater=n||H0}vo.prototype.isReactComponent={};vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q0(){}Q0.prototype=vo.prototype;function Zf(t,e,n){this.props=t,this.context=e,this.refs=q0,this.updater=n||H0}var ep=Zf.prototype=new Q0;ep.constructor=Zf;W0(ep,vo.prototype);ep.isPureReactComponent=!0;var Dg=Array.isArray,G0=Object.prototype.hasOwnProperty,tp={current:null},K0={key:!0,ref:!0,__self:!0,__source:!0};function Y0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)G0.call(e,r)&&!K0.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:al,type:t,key:i,ref:o,props:s,_owner:tp.current}}function ob(t,e){return{$$typeof:al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function np(t){return typeof t=="object"&&t!==null&&t.$$typeof===al}function ab(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vg=/\/+/g;function Od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ab(""+t.key):e.toString(36)}function lu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case al:case KT:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Od(o,0):r,Dg(s)?(n="",t!=null&&(n=t.replace(Vg,"$&/")+"/"),lu(s,e,n,"",function(c){return c})):s!=null&&(np(s)&&(s=ob(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Dg(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Od(i,l);o+=lu(i,e,n,u,s)}else if(u=ib(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Od(i,l++),o+=lu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vl(t,e,n){if(t==null)return t;var r=[],s=0;return lu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function lb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},uu={transition:null},ub={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:uu,ReactCurrentOwner:tp};function X0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Vl,forEach:function(t,e,n){Vl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vl(t,function(){e++}),e},toArray:function(t){return Vl(t,function(e){return e})||[]},only:function(t){if(!np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=vo;he.Fragment=YT;he.Profiler=JT;he.PureComponent=Zf;he.StrictMode=XT;he.Suspense=nb;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ub;he.act=X0;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=W0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=tp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)G0.call(e,u)&&!K0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:al,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:eb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZT,_context:t},t.Consumer=t};he.createElement=Y0;he.createFactory=function(t){var e=Y0.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:tb,render:t}};he.isValidElement=np;he.lazy=function(t){return{$$typeof:sb,_payload:{_status:-1,_result:t},_init:lb}};he.memo=function(t,e){return{$$typeof:rb,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=uu.transition;uu.transition={};try{t()}finally{uu.transition=e}};he.unstable_act=X0;he.useCallback=function(t,e){return Pt.current.useCallback(t,e)};he.useContext=function(t){return Pt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Pt.current.useEffect(t,e)};he.useId=function(){return Pt.current.useId()};he.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Pt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};he.useRef=function(t){return Pt.current.useRef(t)};he.useState=function(t){return Pt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Pt.current.useTransition()};he.version="18.3.1";B0.exports=he;var k=B0.exports;const W=U0(k),J0=GT({__proto__:null,default:W},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb=k,db=Symbol.for("react.element"),hb=Symbol.for("react.fragment"),fb=Object.prototype.hasOwnProperty,pb=cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mb={key:!0,ref:!0,__self:!0,__source:!0};function Z0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fb.call(e,r)&&!mb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:db,type:t,key:i,ref:o,props:s,_owner:pb.current}}Sc.Fragment=hb;Sc.jsx=Z0;Sc.jsxs=Z0;z0.exports=Sc;var x=z0.exports,ew={exports:{}},Jt={},tw={exports:{}},nw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var Q=j.length;j.push(U);e:for(;0<Q;){var ne=Q-1>>>1,X=j[ne];if(0<s(X,U))j[ne]=U,j[Q]=X,Q=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],Q=j.pop();if(Q!==U){j[0]=Q;e:for(var ne=0,X=j.length,ce=X>>>1;ne<ce;){var le=2*(ne+1)-1,ke=j[le],He=le+1,me=j[He];if(0>s(ke,Q))He<X&&0>s(me,ke)?(j[ne]=me,j[He]=Q,ne=He):(j[ne]=ke,j[le]=Q,ne=le);else if(He<X&&0>s(me,Q))j[ne]=me,j[He]=Q,ne=He;else break e}}return U}function s(j,U){var Q=j.sortIndex-U.sortIndex;return Q!==0?Q:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,m=3,p=!1,C=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function D(j){if(_=!1,T(j),!C)if(n(u)!==null)C=!0,te(V);else{var U=n(c);U!==null&&ie(D,U.startTime-j)}}function V(j,U){C=!1,_&&(_=!1,v(w),w=-1),p=!0;var Q=m;try{for(T(U),f=n(u);f!==null&&(!(f.expirationTime>U)||j&&!R());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var X=ne(f.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(u)&&r(u),T(U)}else r(u);f=n(u)}if(f!==null)var ce=!0;else{var le=n(c);le!==null&&ie(D,le.startTime-U),ce=!1}return ce}finally{f=null,m=Q,p=!1}}var M=!1,b=null,w=-1,I=5,A=-1;function R(){return!(t.unstable_now()-A<I)}function N(){if(b!==null){var j=t.unstable_now();A=j;var U=!0;try{U=b(!0,j)}finally{U?P():(M=!1,b=null)}}else M=!1}var P;if(typeof y=="function")P=function(){y(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,se=H.port2;H.port1.onmessage=N,P=function(){se.postMessage(null)}}else P=function(){E(N,0)};function te(j){b=j,M||(M=!0,P())}function ie(j,U){w=E(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){C||p||(C=!0,te(V))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var Q=m;m=U;try{return j()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=m;m=j;try{return U()}finally{m=Q}},t.unstable_scheduleCallback=function(j,U,Q){var ne=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Q+X,j={id:d++,callback:U,priorityLevel:j,startTime:Q,expirationTime:X,sortIndex:-1},Q>ne?(j.sortIndex=Q,e(c,j),n(u)===null&&j===n(c)&&(_?(v(w),w=-1):_=!0,ie(D,Q-ne))):(j.sortIndex=X,e(u,j),C||p||(C=!0,te(V))),j},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(j){var U=m;return function(){var Q=m;m=U;try{return j.apply(this,arguments)}finally{m=Q}}}})(nw);tw.exports=nw;var gb=tw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=k,Xt=gb;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rw=new Set,Ca={};function li(t,e){no(t,e),no(t+"Capture",e)}function no(t,e){for(Ca[t]=e,t=0;t<e.length;t++)rw.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bh=Object.prototype.hasOwnProperty,vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Og={},Mg={};function wb(t){return bh.call(Mg,t)?!0:bh.call(Og,t)?!1:vb.test(t)?Mg[t]=!0:(Og[t]=!0,!1)}function _b(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xb(t,e,n,r){if(e===null||typeof e>"u"||_b(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rp=/[\-:]([a-z])/g;function sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rp,sp);pt[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rp,sp);pt[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rp,sp);pt[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ip(t,e,n,r){var s=pt.hasOwnProperty(e)?pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xb(e,n,s,r)&&(n=null),r||s===null?wb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var br=yb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),sw=Symbol.for("react.provider"),iw=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),Ih=Symbol.for("react.suspense_list"),lp=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),ow=Symbol.for("react.offscreen"),Lg=Symbol.iterator;function Ho(t){return t===null||typeof t!="object"?null:(t=Lg&&t[Lg]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Md;function ta(t){if(Md===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Md=e&&e[1]||""}return`
`+Md+t}var Ld=!1;function jd(t,e){if(!t||Ld)return"";Ld=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Ld=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ta(t):""}function Eb(t){switch(t.tag){case 5:return ta(t.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return t=jd(t.type,!1),t;case 11:return t=jd(t.type.render,!1),t;case 1:return t=jd(t.type,!0),t;default:return""}}function Ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Si:return"Fragment";case bi:return"Portal";case Sh:return"Profiler";case op:return"StrictMode";case Ch:return"Suspense";case Ih:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iw:return(t.displayName||"Context")+".Consumer";case sw:return(t._context.displayName||"Context")+".Provider";case ap:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lp:return e=t.displayName||null,e!==null?e:Ah(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return Ah(t(e))}catch{}}return null}function Tb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ah(e);case 8:return e===op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bb(t){var e=aw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ml(t){t._valueTracker||(t._valueTracker=bb(t))}function lw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uw(t,e){e=e.checked,e!=null&&ip(t,"checked",e,!1)}function Ph(t,e){uw(t,e);var n=cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kh(t,e.type,n):e.hasOwnProperty("defaultValue")&&kh(t,e.type,cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kh(t,e,n){(e!=="number"||Nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var na=Array.isArray;function Mi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+cs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Nh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $g(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(na(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cs(n)}}function cw(t,e){var n=cs(e.value),r=cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ug(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ll,hw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ll=Ll||document.createElement("div"),Ll.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ll.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sb=["Webkit","ms","Moz","O"];Object.keys(ua).forEach(function(t){Sb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ua[e]=ua[t]})});function fw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ua.hasOwnProperty(t)&&ua[t]?(""+e).trim():e+"px"}function pw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Cb=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vh(t,e){if(e){if(Cb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Oh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=null;function up(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lh=null,Li=null,ji=null;function zg(t){if(t=cl(t)){if(typeof Lh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Pc(e),Lh(t.stateNode,t.type,e))}}function mw(t){Li?ji?ji.push(t):ji=[t]:Li=t}function gw(){if(Li){var t=Li,e=ji;if(ji=Li=null,zg(t),e)for(t=0;t<e.length;t++)zg(e[t])}}function yw(t,e){return t(e)}function vw(){}var Fd=!1;function ww(t,e,n){if(Fd)return t(e,n);Fd=!0;try{return yw(t,e,n)}finally{Fd=!1,(Li!==null||ji!==null)&&(vw(),gw())}}function Aa(t,e){var n=t.stateNode;if(n===null)return null;var r=Pc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var jh=!1;if(mr)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){jh=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{jh=!1}function Ib(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ca=!1,Du=null,Vu=!1,Fh=null,Ab={onError:function(t){ca=!0,Du=t}};function Rb(t,e,n,r,s,i,o,l,u){ca=!1,Du=null,Ib.apply(Ab,arguments)}function Pb(t,e,n,r,s,i,o,l,u){if(Rb.apply(this,arguments),ca){if(ca){var c=Du;ca=!1,Du=null}else throw Error(B(198));Vu||(Vu=!0,Fh=c)}}function ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _w(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bg(t){if(ui(t)!==t)throw Error(B(188))}function kb(t){var e=t.alternate;if(!e){if(e=ui(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bg(s),t;if(i===r)return Bg(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function xw(t){return t=kb(t),t!==null?Ew(t):null}function Ew(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ew(t);if(e!==null)return e;t=t.sibling}return null}var Tw=Xt.unstable_scheduleCallback,Hg=Xt.unstable_cancelCallback,Nb=Xt.unstable_shouldYield,Db=Xt.unstable_requestPaint,Be=Xt.unstable_now,Vb=Xt.unstable_getCurrentPriorityLevel,cp=Xt.unstable_ImmediatePriority,bw=Xt.unstable_UserBlockingPriority,Ou=Xt.unstable_NormalPriority,Ob=Xt.unstable_LowPriority,Sw=Xt.unstable_IdlePriority,Cc=null,Wn=null;function Mb(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Cc,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:Fb,Lb=Math.log,jb=Math.LN2;function Fb(t){return t>>>=0,t===0?32:31-(Lb(t)/jb|0)|0}var jl=64,Fl=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ra(l):(i&=o,i!==0&&(r=ra(i)))}else o=n&~s,o!==0?r=ra(o):i!==0&&(r=ra(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-En(e),s=1<<n,r|=t[n],e&=~s;return r}function $b(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ub(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-En(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=$b(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function $h(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cw(){var t=jl;return jl<<=1,!(jl&4194240)&&(jl=64),t}function $d(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=n}function zb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-En(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function dp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-En(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ee=0;function Iw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Aw,hp,Rw,Pw,kw,Uh=!1,$l=[],Jr=null,Zr=null,es=null,Ra=new Map,Pa=new Map,Ur=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wg(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(e.pointerId)}}function qo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cl(e),e!==null&&hp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Hb(t,e,n,r,s){switch(e){case"focusin":return Jr=qo(Jr,t,e,n,r,s),!0;case"dragenter":return Zr=qo(Zr,t,e,n,r,s),!0;case"mouseover":return es=qo(es,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ra.set(i,qo(Ra.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pa.set(i,qo(Pa.get(i)||null,t,e,n,r,s)),!0}return!1}function Nw(t){var e=Fs(t.target);if(e!==null){var n=ui(e);if(n!==null){if(e=n.tag,e===13){if(e=_w(n),e!==null){t.blockedOn=e,kw(t.priority,function(){Rw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mh=r,n.target.dispatchEvent(r),Mh=null}else return e=cl(n),e!==null&&hp(e),t.blockedOn=n,!1;e.shift()}return!0}function qg(t,e,n){cu(t)&&n.delete(e)}function Wb(){Uh=!1,Jr!==null&&cu(Jr)&&(Jr=null),Zr!==null&&cu(Zr)&&(Zr=null),es!==null&&cu(es)&&(es=null),Ra.forEach(qg),Pa.forEach(qg)}function Qo(t,e){t.blockedOn===e&&(t.blockedOn=null,Uh||(Uh=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,Wb)))}function ka(t){function e(s){return Qo(s,t)}if(0<$l.length){Qo($l[0],t);for(var n=1;n<$l.length;n++){var r=$l[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&Qo(Jr,t),Zr!==null&&Qo(Zr,t),es!==null&&Qo(es,t),Ra.forEach(e),Pa.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)Nw(n),n.blockedOn===null&&Ur.shift()}var Fi=br.ReactCurrentBatchConfig,Lu=!0;function qb(t,e,n,r){var s=Ee,i=Fi.transition;Fi.transition=null;try{Ee=1,fp(t,e,n,r)}finally{Ee=s,Fi.transition=i}}function Qb(t,e,n,r){var s=Ee,i=Fi.transition;Fi.transition=null;try{Ee=4,fp(t,e,n,r)}finally{Ee=s,Fi.transition=i}}function fp(t,e,n,r){if(Lu){var s=zh(t,e,n,r);if(s===null)Yd(t,e,r,ju,n),Wg(t,r);else if(Hb(s,t,e,n,r))r.stopPropagation();else if(Wg(t,r),e&4&&-1<Bb.indexOf(t)){for(;s!==null;){var i=cl(s);if(i!==null&&Aw(i),i=zh(t,e,n,r),i===null&&Yd(t,e,r,ju,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yd(t,e,r,null,n)}}var ju=null;function zh(t,e,n,r){if(ju=null,t=up(r),t=Fs(t),t!==null)if(e=ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_w(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ju=t,null}function Dw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vb()){case cp:return 1;case bw:return 4;case Ou:case Ob:return 16;case Sw:return 536870912;default:return 16}default:return 16}}var Gr=null,pp=null,du=null;function Vw(){if(du)return du;var t,e=pp,n=e.length,r,s="value"in Gr?Gr.value:Gr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return du=s.slice(t,1<r?1-r:void 0)}function hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function Qg(){return!1}function Zt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ul:Qg,this.isPropagationStopped=Qg,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),e}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=Zt(wo),ul=Le({},wo,{view:0,detail:0}),Gb=Zt(ul),Ud,zd,Go,Ic=Le({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Go&&(Go&&t.type==="mousemove"?(Ud=t.screenX-Go.screenX,zd=t.screenY-Go.screenY):zd=Ud=0,Go=t),Ud)},movementY:function(t){return"movementY"in t?t.movementY:zd}}),Gg=Zt(Ic),Kb=Le({},Ic,{dataTransfer:0}),Yb=Zt(Kb),Xb=Le({},ul,{relatedTarget:0}),Bd=Zt(Xb),Jb=Le({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),Zb=Zt(Jb),eS=Le({},wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tS=Zt(eS),nS=Le({},wo,{data:0}),Kg=Zt(nS),rS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iS[t])?!!e[t]:!1}function gp(){return oS}var aS=Le({},ul,{key:function(t){if(t.key){var e=rS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(t){return t.type==="keypress"?hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lS=Zt(aS),uS=Le({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yg=Zt(uS),cS=Le({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),dS=Zt(cS),hS=Le({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),fS=Zt(hS),pS=Le({},Ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mS=Zt(pS),gS=[9,13,27,32],yp=mr&&"CompositionEvent"in window,da=null;mr&&"documentMode"in document&&(da=document.documentMode);var yS=mr&&"TextEvent"in window&&!da,Ow=mr&&(!yp||da&&8<da&&11>=da),Xg=" ",Jg=!1;function Mw(t,e){switch(t){case"keyup":return gS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ci=!1;function vS(t,e){switch(t){case"compositionend":return Lw(e);case"keypress":return e.which!==32?null:(Jg=!0,Xg);case"textInput":return t=e.data,t===Xg&&Jg?null:t;default:return null}}function wS(t,e){if(Ci)return t==="compositionend"||!yp&&Mw(t,e)?(t=Vw(),du=pp=Gr=null,Ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ow&&e.locale!=="ko"?null:e.data;default:return null}}var _S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_S[t.type]:e==="textarea"}function jw(t,e,n,r){mw(r),e=Fu(e,"onChange"),0<e.length&&(n=new mp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ha=null,Na=null;function xS(t){Kw(t,0)}function Ac(t){var e=Ri(t);if(lw(e))return t}function ES(t,e){if(t==="change")return e}var Fw=!1;if(mr){var Hd;if(mr){var Wd="oninput"in document;if(!Wd){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),Wd=typeof ey.oninput=="function"}Hd=Wd}else Hd=!1;Fw=Hd&&(!document.documentMode||9<document.documentMode)}function ty(){ha&&(ha.detachEvent("onpropertychange",$w),Na=ha=null)}function $w(t){if(t.propertyName==="value"&&Ac(Na)){var e=[];jw(e,Na,t,up(t)),ww(xS,e)}}function TS(t,e,n){t==="focusin"?(ty(),ha=e,Na=n,ha.attachEvent("onpropertychange",$w)):t==="focusout"&&ty()}function bS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ac(Na)}function SS(t,e){if(t==="click")return Ac(e)}function CS(t,e){if(t==="input"||t==="change")return Ac(e)}function IS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sn=typeof Object.is=="function"?Object.is:IS;function Da(t,e){if(Sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bh.call(e,s)||!Sn(t[s],e[s]))return!1}return!0}function ny(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ry(t,e){var n=ny(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ny(n)}}function Uw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zw(){for(var t=window,e=Nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nu(t.document)}return e}function vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AS(t){var e=zw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uw(n.ownerDocument.documentElement,n)){if(r!==null&&vp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ry(n,i);var o=ry(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RS=mr&&"documentMode"in document&&11>=document.documentMode,Ii=null,Bh=null,fa=null,Hh=!1;function sy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hh||Ii==null||Ii!==Nu(r)||(r=Ii,"selectionStart"in r&&vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fa&&Da(fa,r)||(fa=r,r=Fu(Bh,"onSelect"),0<r.length&&(e=new mp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ii)))}function zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ai={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},qd={},Bw={};mr&&(Bw=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Rc(t){if(qd[t])return qd[t];if(!Ai[t])return t;var e=Ai[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bw)return qd[t]=e[n];return t}var Hw=Rc("animationend"),Ww=Rc("animationiteration"),qw=Rc("animationstart"),Qw=Rc("transitionend"),Gw=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){Gw.set(t,e),li(e,[t])}for(var Qd=0;Qd<iy.length;Qd++){var Gd=iy[Qd],PS=Gd.toLowerCase(),kS=Gd[0].toUpperCase()+Gd.slice(1);Ts(PS,"on"+kS)}Ts(Hw,"onAnimationEnd");Ts(Ww,"onAnimationIteration");Ts(qw,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(Qw,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function oy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pb(r,e,void 0,t),t.currentTarget=null}function Kw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;oy(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;oy(s,l,c),i=u}}}if(Vu)throw t=Fh,Vu=!1,Fh=null,t}function Ae(t,e){var n=e[Kh];n===void 0&&(n=e[Kh]=new Set);var r=t+"__bubble";n.has(r)||(Yw(e,t,2,!1),n.add(r))}function Kd(t,e,n){var r=0;e&&(r|=4),Yw(n,t,r,e)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Va(t){if(!t[Bl]){t[Bl]=!0,rw.forEach(function(n){n!=="selectionchange"&&(NS.has(n)||Kd(n,!1,t),Kd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bl]||(e[Bl]=!0,Kd("selectionchange",!1,e))}}function Yw(t,e,n,r){switch(Dw(e)){case 1:var s=qb;break;case 4:s=Qb;break;default:s=fp}n=s.bind(null,e,n,t),s=void 0,!jh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Fs(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}ww(function(){var c=i,d=up(n),f=[];e:{var m=Gw.get(t);if(m!==void 0){var p=mp,C=t;switch(t){case"keypress":if(hu(n)===0)break e;case"keydown":case"keyup":p=lS;break;case"focusin":C="focus",p=Bd;break;case"focusout":C="blur",p=Bd;break;case"beforeblur":case"afterblur":p=Bd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Yb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dS;break;case Hw:case Ww:case qw:p=Zb;break;case Qw:p=fS;break;case"scroll":p=Gb;break;case"wheel":p=mS;break;case"copy":case"cut":case"paste":p=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Yg}var _=(e&4)!==0,E=!_&&t==="scroll",v=_?m!==null?m+"Capture":null:m;_=[];for(var y=c,T;y!==null;){T=y;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,v!==null&&(D=Aa(y,v),D!=null&&_.push(Oa(y,D,T)))),E)break;y=y.return}0<_.length&&(m=new p(m,C,null,n,d),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Mh&&(C=n.relatedTarget||n.fromElement)&&(Fs(C)||C[gr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(C=n.relatedTarget||n.toElement,p=c,C=C?Fs(C):null,C!==null&&(E=ui(C),C!==E||C.tag!==5&&C.tag!==6)&&(C=null)):(p=null,C=c),p!==C)){if(_=Gg,D="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=Yg,D="onPointerLeave",v="onPointerEnter",y="pointer"),E=p==null?m:Ri(p),T=C==null?m:Ri(C),m=new _(D,y+"leave",p,n,d),m.target=E,m.relatedTarget=T,D=null,Fs(d)===c&&(_=new _(v,y+"enter",C,n,d),_.target=T,_.relatedTarget=E,D=_),E=D,p&&C)t:{for(_=p,v=C,y=0,T=_;T;T=wi(T))y++;for(T=0,D=v;D;D=wi(D))T++;for(;0<y-T;)_=wi(_),y--;for(;0<T-y;)v=wi(v),T--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=wi(_),v=wi(v)}_=null}else _=null;p!==null&&ay(f,m,p,_,!1),C!==null&&E!==null&&ay(f,E,C,_,!0)}}e:{if(m=c?Ri(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var V=ES;else if(Zg(m))if(Fw)V=CS;else{V=bS;var M=TS}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=SS);if(V&&(V=V(t,c))){jw(f,V,n,d);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&kh(m,"number",m.value)}switch(M=c?Ri(c):window,t){case"focusin":(Zg(M)||M.contentEditable==="true")&&(Ii=M,Bh=c,fa=null);break;case"focusout":fa=Bh=Ii=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,sy(f,n,d);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":sy(f,n,d)}var b;if(yp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ci?Mw(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Ow&&n.locale!=="ko"&&(Ci||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ci&&(b=Vw()):(Gr=d,pp="value"in Gr?Gr.value:Gr.textContent,Ci=!0)),M=Fu(c,w),0<M.length&&(w=new Kg(w,t,null,n,d),f.push({event:w,listeners:M}),b?w.data=b:(b=Lw(n),b!==null&&(w.data=b)))),(b=yS?vS(t,n):wS(t,n))&&(c=Fu(c,"onBeforeInput"),0<c.length&&(d=new Kg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}Kw(f,e)})}function Oa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Aa(t,n),i!=null&&r.unshift(Oa(t,i,s)),i=Aa(t,e),i!=null&&r.push(Oa(t,i,s))),t=t.return}return r}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ay(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Aa(n,i),u!=null&&o.unshift(Oa(n,u,l))):s||(u=Aa(n,i),u!=null&&o.push(Oa(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var DS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function ly(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(VS,"")}function Hl(t,e,n){if(e=ly(e),ly(t)!==e&&n)throw Error(B(425))}function $u(){}var Wh=null,qh=null;function Qh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(t){return uy.resolve(null).then(t).catch(LS)}:Gh;function LS(t){setTimeout(function(){throw t})}function Xd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ka(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ka(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _o=Math.random().toString(36).slice(2),Bn="__reactFiber$"+_o,Ma="__reactProps$"+_o,gr="__reactContainer$"+_o,Kh="__reactEvents$"+_o,jS="__reactListeners$"+_o,FS="__reactHandles$"+_o;function Fs(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cy(t);t!==null;){if(n=t[Bn])return n;t=cy(t)}return e}t=n,n=t.parentNode}return null}function cl(t){return t=t[Bn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Pc(t){return t[Ma]||null}var Yh=[],Pi=-1;function bs(t){return{current:t}}function Pe(t){0>Pi||(t.current=Yh[Pi],Yh[Pi]=null,Pi--)}function Se(t,e){Pi++,Yh[Pi]=t.current,t.current=e}var ds={},bt=bs(ds),Ft=bs(!1),Zs=ds;function ro(t,e){var n=t.type.contextTypes;if(!n)return ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $t(t){return t=t.childContextTypes,t!=null}function Uu(){Pe(Ft),Pe(bt)}function dy(t,e,n){if(bt.current!==ds)throw Error(B(168));Se(bt,e),Se(Ft,n)}function Xw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,Tb(t)||"Unknown",s));return Le({},n,r)}function zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ds,Zs=bt.current,Se(bt,t),Se(Ft,Ft.current),!0}function hy(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Xw(t,e,Zs),r.__reactInternalMemoizedMergedChildContext=t,Pe(Ft),Pe(bt),Se(bt,t)):Pe(Ft),Se(Ft,n)}var cr=null,kc=!1,Jd=!1;function Jw(t){cr===null?cr=[t]:cr.push(t)}function $S(t){kc=!0,Jw(t)}function Ss(){if(!Jd&&cr!==null){Jd=!0;var t=0,e=Ee;try{var n=cr;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,kc=!1}catch(s){throw cr!==null&&(cr=cr.slice(t+1)),Tw(cp,Ss),s}finally{Ee=e,Jd=!1}}return null}var ki=[],Ni=0,Bu=null,Hu=0,rn=[],sn=0,ei=null,hr=1,fr="";function Ms(t,e){ki[Ni++]=Hu,ki[Ni++]=Bu,Bu=t,Hu=e}function Zw(t,e,n){rn[sn++]=hr,rn[sn++]=fr,rn[sn++]=ei,ei=t;var r=hr;t=fr;var s=32-En(r)-1;r&=~(1<<s),n+=1;var i=32-En(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hr=1<<32-En(e)+s|n<<s|r,fr=i+t}else hr=1<<i|n<<s|r,fr=t}function wp(t){t.return!==null&&(Ms(t,1),Zw(t,1,0))}function _p(t){for(;t===Bu;)Bu=ki[--Ni],ki[Ni]=null,Hu=ki[--Ni],ki[Ni]=null;for(;t===ei;)ei=rn[--sn],rn[sn]=null,fr=rn[--sn],rn[sn]=null,hr=rn[--sn],rn[sn]=null}var Kt=null,Qt=null,Ne=!1,xn=null;function e1(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,Qt=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ei!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,Qt=null,!0):!1;default:return!1}}function Xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jh(t){if(Ne){var e=Qt;if(e){var n=e;if(!fy(t,e)){if(Xh(t))throw Error(B(418));e=ts(n.nextSibling);var r=Kt;e&&fy(t,e)?e1(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Kt=t)}}else{if(Xh(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ne=!1,Kt=t}}}function py(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function Wl(t){if(t!==Kt)return!1;if(!Ne)return py(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qh(t.type,t.memoizedProps)),e&&(e=Qt)){if(Xh(t))throw t1(),Error(B(418));for(;e;)e1(t,e),e=ts(e.nextSibling)}if(py(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Kt?ts(t.stateNode.nextSibling):null;return!0}function t1(){for(var t=Qt;t;)t=ts(t.nextSibling)}function so(){Qt=Kt=null,Ne=!1}function xp(t){xn===null?xn=[t]:xn.push(t)}var US=br.ReactCurrentBatchConfig;function Ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ql(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function my(t){var e=t._init;return e(t._payload)}function n1(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=is(v,y),v.index=0,v.sibling=null,v}function i(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=2,y):T):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,y,T,D){return y===null||y.tag!==6?(y=ih(T,v.mode,D),y.return=v,y):(y=s(y,T),y.return=v,y)}function u(v,y,T,D){var V=T.type;return V===Si?d(v,y,T.props.children,D,T.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Fr&&my(V)===y.type)?(D=s(y,T.props),D.ref=Ko(v,y,T),D.return=v,D):(D=wu(T.type,T.key,T.props,null,v.mode,D),D.ref=Ko(v,y,T),D.return=v,D)}function c(v,y,T,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=oh(T,v.mode,D),y.return=v,y):(y=s(y,T.children||[]),y.return=v,y)}function d(v,y,T,D,V){return y===null||y.tag!==7?(y=Ys(T,v.mode,D,V),y.return=v,y):(y=s(y,T),y.return=v,y)}function f(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ih(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ol:return T=wu(y.type,y.key,y.props,null,v.mode,T),T.ref=Ko(v,null,y),T.return=v,T;case bi:return y=oh(y,v.mode,T),y.return=v,y;case Fr:var D=y._init;return f(v,D(y._payload),T)}if(na(y)||Ho(y))return y=Ys(y,v.mode,T,null),y.return=v,y;ql(v,y)}return null}function m(v,y,T,D){var V=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:l(v,y,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ol:return T.key===V?u(v,y,T,D):null;case bi:return T.key===V?c(v,y,T,D):null;case Fr:return V=T._init,m(v,y,V(T._payload),D)}if(na(T)||Ho(T))return V!==null?null:d(v,y,T,D,null);ql(v,T)}return null}function p(v,y,T,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(T)||null,l(y,v,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ol:return v=v.get(D.key===null?T:D.key)||null,u(y,v,D,V);case bi:return v=v.get(D.key===null?T:D.key)||null,c(y,v,D,V);case Fr:var M=D._init;return p(v,y,T,M(D._payload),V)}if(na(D)||Ho(D))return v=v.get(T)||null,d(y,v,D,V,null);ql(y,D)}return null}function C(v,y,T,D){for(var V=null,M=null,b=y,w=y=0,I=null;b!==null&&w<T.length;w++){b.index>w?(I=b,b=null):I=b.sibling;var A=m(v,b,T[w],D);if(A===null){b===null&&(b=I);break}t&&b&&A.alternate===null&&e(v,b),y=i(A,y,w),M===null?V=A:M.sibling=A,M=A,b=I}if(w===T.length)return n(v,b),Ne&&Ms(v,w),V;if(b===null){for(;w<T.length;w++)b=f(v,T[w],D),b!==null&&(y=i(b,y,w),M===null?V=b:M.sibling=b,M=b);return Ne&&Ms(v,w),V}for(b=r(v,b);w<T.length;w++)I=p(b,v,w,T[w],D),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?w:I.key),y=i(I,y,w),M===null?V=I:M.sibling=I,M=I);return t&&b.forEach(function(R){return e(v,R)}),Ne&&Ms(v,w),V}function _(v,y,T,D){var V=Ho(T);if(typeof V!="function")throw Error(B(150));if(T=V.call(T),T==null)throw Error(B(151));for(var M=V=null,b=y,w=y=0,I=null,A=T.next();b!==null&&!A.done;w++,A=T.next()){b.index>w?(I=b,b=null):I=b.sibling;var R=m(v,b,A.value,D);if(R===null){b===null&&(b=I);break}t&&b&&R.alternate===null&&e(v,b),y=i(R,y,w),M===null?V=R:M.sibling=R,M=R,b=I}if(A.done)return n(v,b),Ne&&Ms(v,w),V;if(b===null){for(;!A.done;w++,A=T.next())A=f(v,A.value,D),A!==null&&(y=i(A,y,w),M===null?V=A:M.sibling=A,M=A);return Ne&&Ms(v,w),V}for(b=r(v,b);!A.done;w++,A=T.next())A=p(b,v,w,A.value,D),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?w:A.key),y=i(A,y,w),M===null?V=A:M.sibling=A,M=A);return t&&b.forEach(function(N){return e(v,N)}),Ne&&Ms(v,w),V}function E(v,y,T,D){if(typeof T=="object"&&T!==null&&T.type===Si&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ol:e:{for(var V=T.key,M=y;M!==null;){if(M.key===V){if(V=T.type,V===Si){if(M.tag===7){n(v,M.sibling),y=s(M,T.props.children),y.return=v,v=y;break e}}else if(M.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Fr&&my(V)===M.type){n(v,M.sibling),y=s(M,T.props),y.ref=Ko(v,M,T),y.return=v,v=y;break e}n(v,M);break}else e(v,M);M=M.sibling}T.type===Si?(y=Ys(T.props.children,v.mode,D,T.key),y.return=v,v=y):(D=wu(T.type,T.key,T.props,null,v.mode,D),D.ref=Ko(v,y,T),D.return=v,v=D)}return o(v);case bi:e:{for(M=T.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),y=s(y,T.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=oh(T,v.mode,D),y.return=v,v=y}return o(v);case Fr:return M=T._init,E(v,y,M(T._payload),D)}if(na(T))return C(v,y,T,D);if(Ho(T))return _(v,y,T,D);ql(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,T),y.return=v,v=y):(n(v,y),y=ih(T,v.mode,D),y.return=v,v=y),o(v)):n(v,y)}return E}var io=n1(!0),r1=n1(!1),Wu=bs(null),qu=null,Di=null,Ep=null;function Tp(){Ep=Di=qu=null}function bp(t){var e=Wu.current;Pe(Wu),t._currentValue=e}function Zh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $i(t,e){qu=t,Ep=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Ep!==t)if(t={context:t,memoizedValue:e,next:null},Di===null){if(qu===null)throw Error(B(308));Di=t,qu.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return e}var $s=null;function Sp(t){$s===null?$s=[t]:$s.push(t)}function s1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Sp(e)):(n.next=s.next,s.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $r=!1;function Cp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,yr(t,n)}return s=r.interleaved,s===null?(e.next=e,Sp(r)):(e.next=s.next,s.next=e),r.interleaved=e,yr(t,n)}function fu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dp(t,n)}}function gy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qu(t,e,n,r){var s=t.updateQueue;$r=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,_=l;switch(m=e,p=n,_.tag){case 1:if(C=_.payload,typeof C=="function"){f=C.call(p,f,m);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=_.payload,m=typeof C=="function"?C.call(p,f,m):C,m==null)break e;f=Le({},f,m);break e;case 2:$r=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=p,u=f):d=d.next=p,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ni|=o,t.lanes=o,t.memoizedState=f}}function yy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var dl={},qn=bs(dl),La=bs(dl),ja=bs(dl);function Us(t){if(t===dl)throw Error(B(174));return t}function Ip(t,e){switch(Se(ja,e),Se(La,t),Se(qn,dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dh(e,t)}Pe(qn),Se(qn,e)}function oo(){Pe(qn),Pe(La),Pe(ja)}function o1(t){Us(ja.current);var e=Us(qn.current),n=Dh(e,t.type);e!==n&&(Se(La,t),Se(qn,n))}function Ap(t){La.current===t&&(Pe(qn),Pe(La))}var Ve=bs(0);function Gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zd=[];function Rp(){for(var t=0;t<Zd.length;t++)Zd[t]._workInProgressVersionPrimary=null;Zd.length=0}var pu=br.ReactCurrentDispatcher,eh=br.ReactCurrentBatchConfig,ti=0,Me=null,Xe=null,lt=null,Ku=!1,pa=!1,Fa=0,zS=0;function yt(){throw Error(B(321))}function Pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sn(t[n],e[n]))return!1;return!0}function kp(t,e,n,r,s,i){if(ti=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pu.current=t===null||t.memoizedState===null?qS:QS,t=n(r,s),pa){i=0;do{if(pa=!1,Fa=0,25<=i)throw Error(B(301));i+=1,lt=Xe=null,e.updateQueue=null,pu.current=GS,t=n(r,s)}while(pa)}if(pu.current=Yu,e=Xe!==null&&Xe.next!==null,ti=0,lt=Xe=Me=null,Ku=!1,e)throw Error(B(300));return t}function Np(){var t=Fa!==0;return Fa=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Me.memoizedState=lt=t:lt=lt.next=t,lt}function cn(){if(Xe===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=lt===null?Me.memoizedState:lt.next;if(e!==null)lt=e,Xe=t;else{if(t===null)throw Error(B(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},lt===null?Me.memoizedState=lt=t:lt=lt.next=t}return lt}function $a(t,e){return typeof e=="function"?e(t):e}function th(t){var e=cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((ti&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Me.lanes|=d,ni|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,Sn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,ni|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nh(t){var e=cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Sn(i,e.memoizedState)||(jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function a1(){}function l1(t,e){var n=Me,r=cn(),s=e(),i=!Sn(r.memoizedState,s);if(i&&(r.memoizedState=s,jt=!0),r=r.queue,Dp(d1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Ua(9,c1.bind(null,n,r,s,e),void 0,null),ut===null)throw Error(B(349));ti&30||u1(n,e,s)}return s}function u1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c1(t,e,n,r){e.value=n,e.getSnapshot=r,h1(e)&&f1(t)}function d1(t,e,n){return n(function(){h1(e)&&f1(t)})}function h1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sn(t,n)}catch{return!0}}function f1(t){var e=yr(t,1);e!==null&&Tn(e,t,1,-1)}function vy(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=WS.bind(null,Me,t),[e.memoizedState,t]}function Ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p1(){return cn().memoizedState}function mu(t,e,n,r){var s=jn();Me.flags|=t,s.memoizedState=Ua(1|e,n,void 0,r===void 0?null:r)}function Nc(t,e,n,r){var s=cn();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var o=Xe.memoizedState;if(i=o.destroy,r!==null&&Pp(r,o.deps)){s.memoizedState=Ua(e,n,i,r);return}}Me.flags|=t,s.memoizedState=Ua(1|e,n,i,r)}function wy(t,e){return mu(8390656,8,t,e)}function Dp(t,e){return Nc(2048,8,t,e)}function m1(t,e){return Nc(4,2,t,e)}function g1(t,e){return Nc(4,4,t,e)}function y1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function v1(t,e,n){return n=n!=null?n.concat([t]):null,Nc(4,4,y1.bind(null,e,t),n)}function Vp(){}function w1(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _1(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function x1(t,e,n){return ti&21?(Sn(n,e)||(n=Cw(),Me.lanes|=n,ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function BS(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=eh.transition;eh.transition={};try{t(!1),e()}finally{Ee=n,eh.transition=r}}function E1(){return cn().memoizedState}function HS(t,e,n){var r=ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T1(t))b1(e,n);else if(n=s1(t,e,n,r),n!==null){var s=Rt();Tn(n,t,r,s),S1(n,e,r)}}function WS(t,e,n){var r=ss(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T1(t))b1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Sn(l,o)){var u=e.interleaved;u===null?(s.next=s,Sp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=s1(t,e,s,r),n!==null&&(s=Rt(),Tn(n,t,r,s),S1(n,e,r))}}function T1(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function b1(t,e){pa=Ku=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function S1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dp(t,n)}}var Yu={readContext:un,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},qS={readContext:un,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:wy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mu(4194308,4,y1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mu(4194308,4,t,e)},useInsertionEffect:function(t,e){return mu(4,2,t,e)},useMemo:function(t,e){var n=jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HS.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:vy,useDebugValue:Vp,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=vy(!1),e=t[0];return t=BS.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,s=jn();if(Ne){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ut===null)throw Error(B(349));ti&30||u1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,wy(d1.bind(null,r,i,t),[t]),r.flags|=2048,Ua(9,c1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=jn(),e=ut.identifierPrefix;if(Ne){var n=fr,r=hr;n=(r&~(1<<32-En(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QS={readContext:un,useCallback:w1,useContext:un,useEffect:Dp,useImperativeHandle:v1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:_1,useReducer:th,useRef:p1,useState:function(){return th($a)},useDebugValue:Vp,useDeferredValue:function(t){var e=cn();return x1(e,Xe.memoizedState,t)},useTransition:function(){var t=th($a)[0],e=cn().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1},GS={readContext:un,useCallback:w1,useContext:un,useEffect:Dp,useImperativeHandle:v1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:_1,useReducer:nh,useRef:p1,useState:function(){return nh($a)},useDebugValue:Vp,useDeferredValue:function(t){var e=cn();return Xe===null?e.memoizedState=t:x1(e,Xe.memoizedState,t)},useTransition:function(){var t=nh($a)[0],e=cn().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:l1,useId:E1,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ef(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dc={isMounted:function(t){return(t=t._reactInternals)?ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=ss(t),i=pr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ns(t,i,s),e!==null&&(Tn(e,t,s,r),fu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=ss(t),i=pr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ns(t,i,s),e!==null&&(Tn(e,t,s,r),fu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=ss(t),s=pr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ns(t,s,r),e!==null&&(Tn(e,t,r,n),fu(e,t,r))}};function _y(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Da(n,r)||!Da(s,i):!0}function C1(t,e,n){var r=!1,s=ds,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=$t(e)?Zs:bt.current,r=e.contextTypes,i=(r=r!=null)?ro(t,s):ds),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function xy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dc.enqueueReplaceState(e,e.state,null)}function tf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Cp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=$t(e)?Zs:bt.current,s.context=ro(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ef(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Dc.enqueueReplaceState(s,s.state,null),Qu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ao(t,e){try{var n="",r=e;do n+=Eb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KS=typeof WeakMap=="function"?WeakMap:Map;function I1(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ju||(Ju=!0,ff=r),nf(t,e)},n}function A1(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){nf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nf(t,e),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ey(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=uC.bind(null,t,e,n),e.then(t,t))}function Ty(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function by(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,ns(n,e,1))),n.lanes|=1),t)}var YS=br.ReactCurrentOwner,jt=!1;function It(t,e,n,r){e.child=t===null?r1(e,null,n,r):io(e,t.child,n,r)}function Sy(t,e,n,r,s){n=n.render;var i=e.ref;return $i(e,s),r=kp(t,e,n,r,i,s),n=Np(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(Ne&&n&&wp(e),e.flags|=1,It(t,e,r,s),e.child)}function Cy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,R1(t,e,i,r,s)):(t=wu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(o,r)&&t.ref===e.ref)return vr(t,e,s)}return e.flags|=1,t=is(i,r),t.ref=e.ref,t.return=e,e.child=t}function R1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Da(i,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,vr(t,e,s)}return rf(t,e,n,r,s)}function P1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Oi,Wt),Wt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Oi,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Se(Oi,Wt),Wt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Se(Oi,Wt),Wt|=r;return It(t,e,s,n),e.child}function k1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rf(t,e,n,r,s){var i=$t(n)?Zs:bt.current;return i=ro(e,i),$i(e,s),n=kp(t,e,n,r,i,s),r=Np(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(Ne&&r&&wp(e),e.flags|=1,It(t,e,n,s),e.child)}function Iy(t,e,n,r,s){if($t(n)){var i=!0;zu(e)}else i=!1;if($i(e,s),e.stateNode===null)gu(t,e),C1(e,n,r),tf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=$t(n)?Zs:bt.current,c=ro(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&xy(e,o,r,c),$r=!1;var m=e.memoizedState;o.state=m,Qu(e,r,o,s),u=e.memoizedState,l!==r||m!==u||Ft.current||$r?(typeof d=="function"&&(ef(e,n,d,r),u=e.memoizedState),(l=$r||_y(e,n,l,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,i1(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:gn(e.type,l),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=un(u):(u=$t(n)?Zs:bt.current,u=ro(e,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&xy(e,o,r,u),$r=!1,m=e.memoizedState,o.state=m,Qu(e,r,o,s);var C=e.memoizedState;l!==f||m!==C||Ft.current||$r?(typeof p=="function"&&(ef(e,n,p,r),C=e.memoizedState),(c=$r||_y(e,n,c,r,m,C,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return sf(t,e,n,r,i,s)}function sf(t,e,n,r,s,i){k1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&hy(e,n,!1),vr(t,e,i);r=e.stateNode,YS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=io(e,t.child,null,i),e.child=io(e,null,l,i)):It(t,e,l,i),e.memoizedState=r.state,s&&hy(e,n,!0),e.child}function N1(t){var e=t.stateNode;e.pendingContext?dy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dy(t,e.context,!1),Ip(t,e.containerInfo)}function Ay(t,e,n,r,s){return so(),xp(s),e.flags|=256,It(t,e,n,r),e.child}var of={dehydrated:null,treeContext:null,retryLane:0};function af(t){return{baseLanes:t,cachePool:null,transitions:null}}function D1(t,e,n){var r=e.pendingProps,s=Ve.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Se(Ve,s&1),t===null)return Jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mc(o,r,0,null),t=Ys(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=af(n),e.memoizedState=of,t):Op(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return XS(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=is(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=is(l,i):(i=Ys(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?af(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=of,r}return i=t.child,t=i.sibling,r=is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Op(t,e){return e=Mc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ql(t,e,n,r){return r!==null&&xp(r),io(e,t.child,null,n),t=Op(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XS(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=rh(Error(B(422))),Ql(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Mc({mode:"visible",children:r.children},s,0,null),i=Ys(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&io(e,t.child,null,o),e.child.memoizedState=af(o),e.memoizedState=of,i);if(!(e.mode&1))return Ql(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=rh(i,r,void 0),Ql(t,e,o,r)}if(l=(o&t.childLanes)!==0,jt||l){if(r=ut,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yr(t,s),Tn(r,t,s,-1))}return Up(),r=rh(Error(B(421))),Ql(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qt=ts(s.nextSibling),Kt=e,Ne=!0,xn=null,t!==null&&(rn[sn++]=hr,rn[sn++]=fr,rn[sn++]=ei,hr=t.id,fr=t.overflow,ei=e),e=Op(e,r.children),e.flags|=4096,e)}function Ry(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zh(t.return,e,n)}function sh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function V1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(It(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,n,e);else if(t.tag===19)Ry(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),sh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}sh(e,!0,n,null,i);break;case"together":sh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JS(t,e,n){switch(e.tag){case 3:N1(e),so();break;case 5:o1(e);break;case 1:$t(e.type)&&zu(e);break;case 4:Ip(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Se(Wu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?D1(t,e,n):(Se(Ve,Ve.current&1),t=vr(t,e,n),t!==null?t.sibling:null);Se(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,P1(t,e,n)}return vr(t,e,n)}var O1,lf,M1,L1;O1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lf=function(){};M1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Us(qn.current);var i=null;switch(n){case"input":s=Rh(t,s),r=Rh(t,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=Nh(t,s),r=Nh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$u)}Vh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ca.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ae("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};L1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yo(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZS(t,e,n){var r=e.pendingProps;switch(_p(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return $t(e.type)&&Uu(),vt(e),null;case 3:return r=e.stateNode,oo(),Pe(Ft),Pe(bt),Rp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(gf(xn),xn=null))),lf(t,e),vt(e),null;case 5:Ap(e);var s=Us(ja.current);if(n=e.type,t!==null&&e.stateNode!=null)M1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return vt(e),null}if(t=Us(qn.current),Wl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Bn]=e,r[Ma]=i,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(s=0;s<sa.length;s++)Ae(sa[s],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":jg(r,i),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",r);break;case"textarea":$g(r,i),Ae("invalid",r)}Vh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Hl(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Hl(r.textContent,l,t),s=["children",""+l]):Ca.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":Ml(r),Fg(r,i,!0);break;case"textarea":Ml(r),Ug(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$u)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bn]=e,t[Ma]=r,O1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Oh(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),s=r;break;case"iframe":case"object":case"embed":Ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<sa.length;s++)Ae(sa[s],t);s=r;break;case"source":Ae("error",t),s=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),s=r;break;case"details":Ae("toggle",t),s=r;break;case"input":jg(t,r),s=Rh(t,r),Ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":$g(t,r),s=Nh(t,r),Ae("invalid",t);break;default:s=r}Vh(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?pw(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hw(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ia(t,u):typeof u=="number"&&Ia(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ca.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ae("scroll",t):u!=null&&ip(t,i,u,o))}switch(n){case"input":Ml(t),Fg(t,r,!1);break;case"textarea":Ml(t),Ug(t);break;case"option":r.value!=null&&t.setAttribute("value",""+cs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Mi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Mi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)L1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Us(ja.current),Us(qn.current),Wl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bn]=e,(i=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:Hl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bn]=e,e.stateNode=r}return vt(e),null;case 13:if(Pe(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Qt!==null&&e.mode&1&&!(e.flags&128))t1(),so(),e.flags|=98560,i=!1;else if(i=Wl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Bn]=e}else so(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),i=!1}else xn!==null&&(gf(xn),xn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?et===0&&(et=3):Up())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return oo(),lf(t,e),t===null&&Va(e.stateNode.containerInfo),vt(e),null;case 10:return bp(e.type._context),vt(e),null;case 17:return $t(e.type)&&Uu(),vt(e),null;case 19:if(Pe(Ve),i=e.memoizedState,i===null)return vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yo(i,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gu(t),o!==null){for(e.flags|=128,Yo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Ve,Ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&Be()>lo&&(e.flags|=128,r=!0,Yo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return vt(e),null}else 2*Be()-i.renderingStartTime>lo&&n!==1073741824&&(e.flags|=128,r=!0,Yo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Be(),e.sibling=null,n=Ve.current,Se(Ve,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return $p(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function eC(t,e){switch(_p(e),e.tag){case 1:return $t(e.type)&&Uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oo(),Pe(Ft),Pe(bt),Rp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ap(e),null;case 13:if(Pe(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));so()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Ve),null;case 4:return oo(),null;case 10:return bp(e.type._context),null;case 22:case 23:return $p(),null;case 24:return null;default:return null}}var Gl=!1,Et=!1,tC=typeof WeakSet=="function"?WeakSet:Set,K=null;function Vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function uf(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var Py=!1;function nC(t,e){if(Wh=Lu,t=zw(),vp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(u=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qh={focusedElem:t,selectionRange:n},Lu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var _=C.memoizedProps,E=C.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:gn(e.type,_),E);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){Ue(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return C=Py,Py=!1,C}function ma(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&uf(e,n,i)}s=s.next}while(s!==r)}}function Vc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j1(t){var e=t.alternate;e!==null&&(t.alternate=null,j1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[Ma],delete e[Kh],delete e[jS],delete e[FS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F1(t){return t.tag===5||t.tag===3||t.tag===4}function ky(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$u));else if(r!==4&&(t=t.child,t!==null))for(df(t,e,n),t=t.sibling;t!==null;)df(t,e,n),t=t.sibling}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}var ct=null,_n=!1;function Or(t,e,n){for(n=n.child;n!==null;)$1(t,e,n),n=n.sibling}function $1(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Cc,n)}catch{}switch(n.tag){case 5:Et||Vi(n,e);case 6:var r=ct,s=_n;ct=null,Or(t,e,n),ct=r,_n=s,ct!==null&&(_n?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(_n?(t=ct,n=n.stateNode,t.nodeType===8?Xd(t.parentNode,n):t.nodeType===1&&Xd(t,n),ka(t)):Xd(ct,n.stateNode));break;case 4:r=ct,s=_n,ct=n.stateNode.containerInfo,_n=!0,Or(t,e,n),ct=r,_n=s;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&uf(n,e,o),s=s.next}while(s!==r)}Or(t,e,n);break;case 1:if(!Et&&(Vi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ue(n,e,l)}Or(t,e,n);break;case 21:Or(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,Or(t,e,n),Et=r):Or(t,e,n);break;default:Or(t,e,n)}}function Ny(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tC),e.forEach(function(r){var s=dC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,_n=!1;break e;case 3:ct=l.stateNode.containerInfo,_n=!0;break e;case 4:ct=l.stateNode.containerInfo,_n=!0;break e}l=l.return}if(ct===null)throw Error(B(160));$1(i,o,s),ct=null,_n=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ue(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U1(e,t),e=e.sibling}function U1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),Ln(t),r&4){try{ma(3,t,t.return),Vc(3,t)}catch(_){Ue(t,t.return,_)}try{ma(5,t,t.return)}catch(_){Ue(t,t.return,_)}}break;case 1:pn(e,t),Ln(t),r&512&&n!==null&&Vi(n,n.return);break;case 5:if(pn(e,t),Ln(t),r&512&&n!==null&&Vi(n,n.return),t.flags&32){var s=t.stateNode;try{Ia(s,"")}catch(_){Ue(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&uw(s,i),Oh(l,o);var c=Oh(l,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?pw(s,f):d==="dangerouslySetInnerHTML"?hw(s,f):d==="children"?Ia(s,f):ip(s,d,f,c)}switch(l){case"input":Ph(s,i);break;case"textarea":cw(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Mi(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Mi(s,!!i.multiple,i.defaultValue,!0):Mi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ma]=i}catch(_){Ue(t,t.return,_)}}break;case 6:if(pn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Ue(t,t.return,_)}}break;case 3:if(pn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ka(e.containerInfo)}catch(_){Ue(t,t.return,_)}break;case 4:pn(e,t),Ln(t);break;case 13:pn(e,t),Ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jp=Be())),r&4&&Ny(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(c=Et)||d,pn(e,t),Et=c):pn(e,t),Ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(f=K=d;K!==null;){switch(m=K,p=m.child,m.tag){case 0:case 11:case 14:case 15:ma(4,m,m.return);break;case 1:Vi(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(_){Ue(r,n,_)}}break;case 5:Vi(m,m.return);break;case 22:if(m.memoizedState!==null){Vy(f);continue}}p!==null?(p.return=m,K=p):Vy(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=fw("display",o))}catch(_){Ue(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Ue(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(e,t),Ln(t),r&4&&Ny(t);break;case 21:break;default:pn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ia(s,""),r.flags&=-33);var i=ky(t);hf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ky(t);df(t,l,o);break;default:throw Error(B(161))}}catch(u){Ue(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rC(t,e,n){K=t,z1(t)}function z1(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gl;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Et;l=Gl;var c=Et;if(Gl=o,(Et=u)&&!c)for(K=s;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?Oy(s):u!==null?(u.return=o,K=u):Oy(s);for(;i!==null;)K=i,z1(i),i=i.sibling;K=s,Gl=l,Et=c}Dy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):Dy(t)}}function Dy(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Vc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&yy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ka(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Et||e.flags&512&&cf(e)}catch(m){Ue(e,e.return,m)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Vy(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function Oy(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vc(4,e)}catch(u){Ue(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Ue(e,s,u)}}var i=e.return;try{cf(e)}catch(u){Ue(e,i,u)}break;case 5:var o=e.return;try{cf(e)}catch(u){Ue(e,o,u)}}}catch(u){Ue(e,e.return,u)}if(e===t){K=null;break}var l=e.sibling;if(l!==null){l.return=e.return,K=l;break}K=e.return}}var sC=Math.ceil,Xu=br.ReactCurrentDispatcher,Mp=br.ReactCurrentOwner,ln=br.ReactCurrentBatchConfig,ve=0,ut=null,qe=null,ft=0,Wt=0,Oi=bs(0),et=0,za=null,ni=0,Oc=0,Lp=0,ga=null,Mt=null,jp=0,lo=1/0,ur=null,Ju=!1,ff=null,rs=null,Kl=!1,Kr=null,Zu=0,ya=0,pf=null,yu=-1,vu=0;function Rt(){return ve&6?Be():yu!==-1?yu:yu=Be()}function ss(t){return t.mode&1?ve&2&&ft!==0?ft&-ft:US.transition!==null?(vu===0&&(vu=Cw()),vu):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:Dw(t.type)),t):1}function Tn(t,e,n,r){if(50<ya)throw ya=0,pf=null,Error(B(185));ll(t,n,r),(!(ve&2)||t!==ut)&&(t===ut&&(!(ve&2)&&(Oc|=n),et===4&&zr(t,ft)),Ut(t,r),n===1&&ve===0&&!(e.mode&1)&&(lo=Be()+500,kc&&Ss()))}function Ut(t,e){var n=t.callbackNode;Ub(t,e);var r=Mu(t,t===ut?ft:0);if(r===0)n!==null&&Hg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hg(n),e===1)t.tag===0?$S(My.bind(null,t)):Jw(My.bind(null,t)),MS(function(){!(ve&6)&&Ss()}),n=null;else{switch(Iw(r)){case 1:n=cp;break;case 4:n=bw;break;case 16:n=Ou;break;case 536870912:n=Sw;break;default:n=Ou}n=Y1(n,B1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B1(t,e){if(yu=-1,vu=0,ve&6)throw Error(B(327));var n=t.callbackNode;if(Ui()&&t.callbackNode!==n)return null;var r=Mu(t,t===ut?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ec(t,r);else{e=r;var s=ve;ve|=2;var i=W1();(ut!==t||ft!==e)&&(ur=null,lo=Be()+500,Ks(t,e));do try{aC();break}catch(l){H1(t,l)}while(!0);Tp(),Xu.current=i,ve=s,qe!==null?e=0:(ut=null,ft=0,e=et)}if(e!==0){if(e===2&&(s=$h(t),s!==0&&(r=s,e=mf(t,s))),e===1)throw n=za,Ks(t,0),zr(t,r),Ut(t,Be()),n;if(e===6)zr(t,r);else{if(s=t.current.alternate,!(r&30)&&!iC(s)&&(e=ec(t,r),e===2&&(i=$h(t),i!==0&&(r=i,e=mf(t,i))),e===1))throw n=za,Ks(t,0),zr(t,r),Ut(t,Be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ls(t,Mt,ur);break;case 3:if(zr(t,r),(r&130023424)===r&&(e=jp+500-Be(),10<e)){if(Mu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Gh(Ls.bind(null,t,Mt,ur),e);break}Ls(t,Mt,ur);break;case 4:if(zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-En(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sC(r/1960))-r,10<r){t.timeoutHandle=Gh(Ls.bind(null,t,Mt,ur),r);break}Ls(t,Mt,ur);break;case 5:Ls(t,Mt,ur);break;default:throw Error(B(329))}}}return Ut(t,Be()),t.callbackNode===n?B1.bind(null,t):null}function mf(t,e){var n=ga;return t.current.memoizedState.isDehydrated&&(Ks(t,e).flags|=256),t=ec(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&gf(e)),t}function gf(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function iC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Sn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zr(t,e){for(e&=~Lp,e&=~Oc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-En(e),r=1<<n;t[n]=-1,e&=~r}}function My(t){if(ve&6)throw Error(B(327));Ui();var e=Mu(t,0);if(!(e&1))return Ut(t,Be()),null;var n=ec(t,e);if(t.tag!==0&&n===2){var r=$h(t);r!==0&&(e=r,n=mf(t,r))}if(n===1)throw n=za,Ks(t,0),zr(t,e),Ut(t,Be()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,Mt,ur),Ut(t,Be()),null}function Fp(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(lo=Be()+500,kc&&Ss())}}function ri(t){Kr!==null&&Kr.tag===0&&!(ve&6)&&Ui();var e=ve;ve|=1;var n=ln.transition,r=Ee;try{if(ln.transition=null,Ee=1,t)return t()}finally{Ee=r,ln.transition=n,ve=e,!(ve&6)&&Ss()}}function $p(){Wt=Oi.current,Pe(Oi)}function Ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OS(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(_p(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uu();break;case 3:oo(),Pe(Ft),Pe(bt),Rp();break;case 5:Ap(r);break;case 4:oo();break;case 13:Pe(Ve);break;case 19:Pe(Ve);break;case 10:bp(r.type._context);break;case 22:case 23:$p()}n=n.return}if(ut=t,qe=t=is(t.current,null),ft=Wt=e,et=0,za=null,Lp=Oc=ni=0,Mt=ga=null,$s!==null){for(e=0;e<$s.length;e++)if(n=$s[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$s=null}return t}function H1(t,e){do{var n=qe;try{if(Tp(),pu.current=Yu,Ku){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ku=!1}if(ti=0,lt=Xe=Me=null,pa=!1,Fa=0,Mp.current=null,n===null||n.return===null){et=1,za=e,qe=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=ft,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ty(o);if(p!==null){p.flags&=-257,by(p,o,l,i,e),p.mode&1&&Ey(i,c,e),e=p,u=c;var C=e.updateQueue;if(C===null){var _=new Set;_.add(u),e.updateQueue=_}else C.add(u);break e}else{if(!(e&1)){Ey(i,c,e),Up();break e}u=Error(B(426))}}else if(Ne&&l.mode&1){var E=Ty(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),by(E,o,l,i,e),xp(ao(u,l));break e}}i=u=ao(u,l),et!==4&&(et=2),ga===null?ga=[i]:ga.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=I1(i,u,e);gy(i,v);break e;case 1:l=u;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(rs===null||!rs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=A1(i,l,e);gy(i,D);break e}}i=i.return}while(i!==null)}Q1(n)}catch(V){e=V,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function W1(){var t=Xu.current;return Xu.current=Yu,t===null?Yu:t}function Up(){(et===0||et===3||et===2)&&(et=4),ut===null||!(ni&268435455)&&!(Oc&268435455)||zr(ut,ft)}function ec(t,e){var n=ve;ve|=2;var r=W1();(ut!==t||ft!==e)&&(ur=null,Ks(t,e));do try{oC();break}catch(s){H1(t,s)}while(!0);if(Tp(),ve=n,Xu.current=r,qe!==null)throw Error(B(261));return ut=null,ft=0,et}function oC(){for(;qe!==null;)q1(qe)}function aC(){for(;qe!==null&&!Nb();)q1(qe)}function q1(t){var e=K1(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?Q1(t):qe=e,Mp.current=null}function Q1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eC(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,qe=null;return}}else if(n=ZS(n,e,Wt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);et===0&&(et=5)}function Ls(t,e,n){var r=Ee,s=ln.transition;try{ln.transition=null,Ee=1,lC(t,e,n,r)}finally{ln.transition=s,Ee=r}return null}function lC(t,e,n,r){do Ui();while(Kr!==null);if(ve&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(zb(t,i),t===ut&&(qe=ut=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kl||(Kl=!0,Y1(Ou,function(){return Ui(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var o=Ee;Ee=1;var l=ve;ve|=4,Mp.current=null,nC(t,n),U1(n,t),AS(qh),Lu=!!Wh,qh=Wh=null,t.current=n,rC(n),Db(),ve=l,Ee=o,ln.transition=i}else t.current=n;if(Kl&&(Kl=!1,Kr=t,Zu=s),i=t.pendingLanes,i===0&&(rs=null),Mb(n.stateNode),Ut(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ju)throw Ju=!1,t=ff,ff=null,t;return Zu&1&&t.tag!==0&&Ui(),i=t.pendingLanes,i&1?t===pf?ya++:(ya=0,pf=t):ya=0,Ss(),null}function Ui(){if(Kr!==null){var t=Iw(Zu),e=ln.transition,n=Ee;try{if(ln.transition=null,Ee=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,Zu=0,ve&6)throw Error(B(331));var s=ve;for(ve|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:ma(8,d,i)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var m=d.sibling,p=d.return;if(j1(d),d===c){K=null;break}if(m!==null){m.return=p,K=m;break}K=p}}}var C=i.alternate;if(C!==null){var _=C.child;if(_!==null){C.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ma(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,K=v;break e}K=i.return}}var y=t.current;for(K=y;K!==null;){o=K;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,K=T;else e:for(o=y;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vc(9,l)}}catch(V){Ue(l,l.return,V)}if(l===o){K=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,K=D;break e}K=l.return}}if(ve=s,Ss(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Cc,t)}catch{}r=!0}return r}finally{Ee=n,ln.transition=e}}return!1}function Ly(t,e,n){e=ao(n,e),e=I1(t,e,1),t=ns(t,e,1),e=Rt(),t!==null&&(ll(t,1,e),Ut(t,e))}function Ue(t,e,n){if(t.tag===3)Ly(t,t,n);else for(;e!==null;){if(e.tag===3){Ly(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=ao(n,t),t=A1(e,t,1),e=ns(e,t,1),t=Rt(),e!==null&&(ll(e,1,t),Ut(e,t));break}}e=e.return}}function uC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(ft&n)===n&&(et===4||et===3&&(ft&130023424)===ft&&500>Be()-jp?Ks(t,0):Lp|=n),Ut(t,e)}function G1(t,e){e===0&&(t.mode&1?(e=Fl,Fl<<=1,!(Fl&130023424)&&(Fl=4194304)):e=1);var n=Rt();t=yr(t,e),t!==null&&(ll(t,e,n),Ut(t,n))}function cC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),G1(t,n)}function dC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),G1(t,n)}var K1;K1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,JS(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Ne&&e.flags&1048576&&Zw(e,Hu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gu(t,e),t=e.pendingProps;var s=ro(e,bt.current);$i(e,n),s=kp(null,e,r,t,s,n);var i=Np();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(i=!0,zu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cp(e),s.updater=Dc,e.stateNode=s,s._reactInternals=e,tf(e,r,t,n),e=sf(null,e,r,!0,i,n)):(e.tag=0,Ne&&i&&wp(e),It(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=fC(r),t=gn(r,t),s){case 0:e=rf(null,e,r,t,n);break e;case 1:e=Iy(null,e,r,t,n);break e;case 11:e=Sy(null,e,r,t,n);break e;case 14:e=Cy(null,e,r,gn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),rf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Iy(t,e,r,s,n);case 3:e:{if(N1(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,i1(t,e),Qu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ao(Error(B(423)),e),e=Ay(t,e,r,n,s);break e}else if(r!==s){s=ao(Error(B(424)),e),e=Ay(t,e,r,n,s);break e}else for(Qt=ts(e.stateNode.containerInfo.firstChild),Kt=e,Ne=!0,xn=null,n=r1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(so(),r===s){e=vr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return o1(e),t===null&&Jh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Qh(r,s)?o=null:i!==null&&Qh(r,i)&&(e.flags|=32),k1(t,e),It(t,e,o,n),e.child;case 6:return t===null&&Jh(e),null;case 13:return D1(t,e,n);case 4:return Ip(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=io(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Sy(t,e,r,s,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Se(Wu,r._currentValue),r._currentValue=o,i!==null)if(Sn(i.value,o)){if(i.children===s.children&&!Ft.current){e=vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=pr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Zh(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}It(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,$i(e,n),s=un(s),r=r(s),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,s=gn(r,e.pendingProps),s=gn(r.type,s),Cy(t,e,r,s,n);case 15:return R1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),gu(t,e),e.tag=1,$t(r)?(t=!0,zu(e)):t=!1,$i(e,n),C1(e,r,s),tf(e,r,s,n),sf(null,e,r,!0,t,n);case 19:return V1(t,e,n);case 22:return P1(t,e,n)}throw Error(B(156,e.tag))};function Y1(t,e){return Tw(t,e)}function hC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new hC(t,e,n,r)}function zp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fC(t){if(typeof t=="function")return zp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ap)return 11;if(t===lp)return 14}return 2}function is(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Si:return Ys(n.children,s,i,e);case op:o=8,s|=8;break;case Sh:return t=an(12,n,e,s|2),t.elementType=Sh,t.lanes=i,t;case Ch:return t=an(13,n,e,s),t.elementType=Ch,t.lanes=i,t;case Ih:return t=an(19,n,e,s),t.elementType=Ih,t.lanes=i,t;case ow:return Mc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sw:o=10;break e;case iw:o=9;break e;case ap:o=11;break e;case lp:o=14;break e;case Fr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=an(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ys(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function Mc(t,e,n,r){return t=an(22,t,r,e),t.elementType=ow,t.lanes=n,t.stateNode={isHidden:!1},t}function ih(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function oh(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$d(0),this.expirationTimes=$d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$d(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bp(t,e,n,r,s,i,o,l,u){return t=new pC(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=an(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(i),t}function mC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X1(t){if(!t)return ds;t=t._reactInternals;e:{if(ui(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if($t(n))return Xw(t,n,e)}return e}function J1(t,e,n,r,s,i,o,l,u){return t=Bp(n,r,!0,t,s,i,o,l,u),t.context=X1(null),n=t.current,r=Rt(),s=ss(n),i=pr(r,s),i.callback=e??null,ns(n,i,s),t.current.lanes=s,ll(t,s,r),Ut(t,r),t}function Lc(t,e,n,r){var s=e.current,i=Rt(),o=ss(s);return n=X1(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ns(s,e,o),t!==null&&(Tn(t,s,o,i),fu(t,s,o)),o}function tc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hp(t,e){jy(t,e),(t=t.alternate)&&jy(t,e)}function gC(){return null}var Z1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wp(t){this._internalRoot=t}jc.prototype.render=Wp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Lc(t,e,null,null)};jc.prototype.unmount=Wp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ri(function(){Lc(null,t,null,null)}),e[gr]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&Nw(t)}};function qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fy(){}function yC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=tc(o);i.call(c)}}var o=J1(e,r,t,0,null,!1,!1,"",Fy);return t._reactRootContainer=o,t[gr]=o.current,Va(t.nodeType===8?t.parentNode:t),ri(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=tc(u);l.call(c)}}var u=Bp(t,0,!1,null,null,!1,!1,"",Fy);return t._reactRootContainer=u,t[gr]=u.current,Va(t.nodeType===8?t.parentNode:t),ri(function(){Lc(e,u,n,r)}),u}function $c(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=tc(o);l.call(u)}}Lc(e,o,t,s)}else o=yC(n,e,t,s,r);return tc(o)}Aw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ra(e.pendingLanes);n!==0&&(dp(e,n|1),Ut(e,Be()),!(ve&6)&&(lo=Be()+500,Ss()))}break;case 13:ri(function(){var r=yr(t,1);if(r!==null){var s=Rt();Tn(r,t,1,s)}}),Hp(t,1)}};hp=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=Rt();Tn(e,t,134217728,n)}Hp(t,134217728)}};Rw=function(t){if(t.tag===13){var e=ss(t),n=yr(t,e);if(n!==null){var r=Rt();Tn(n,t,e,r)}Hp(t,e)}};Pw=function(){return Ee};kw=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};Lh=function(t,e,n){switch(e){case"input":if(Ph(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Pc(r);if(!s)throw Error(B(90));lw(r),Ph(r,s)}}}break;case"textarea":cw(t,n);break;case"select":e=n.value,e!=null&&Mi(t,!!n.multiple,e,!1)}};yw=Fp;vw=ri;var vC={usingClientEntryPoint:!1,Events:[cl,Ri,Pc,mw,gw,Fp]},Xo={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wC={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xw(t),t===null?null:t.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Cc=Yl.inject(wC),Wn=Yl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vC;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qp(e))throw Error(B(200));return mC(t,e,null,n)};Jt.createRoot=function(t,e){if(!qp(t))throw Error(B(299));var n=!1,r="",s=Z1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Bp(t,1,!1,null,null,n,!1,r,s),t[gr]=e.current,Va(t.nodeType===8?t.parentNode:t),new Wp(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=xw(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return ri(t)};Jt.hydrate=function(t,e,n){if(!Fc(e))throw Error(B(200));return $c(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!qp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Z1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J1(e,null,t,1,n??null,s,!1,i,o),t[gr]=e.current,Va(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jc(e)};Jt.render=function(t,e,n){if(!Fc(e))throw Error(B(200));return $c(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Fc(t))throw Error(B(40));return t._reactRootContainer?(ri(function(){$c(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Fp;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return $c(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function e_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e_)}catch(t){console.error(t)}}e_(),ew.exports=Jt;var hl=ew.exports;const t_=U0(hl);var n_,$y=hl;n_=$y.createRoot,$y.hydrateRoot;const _C=1,xC=1e6;let ah=0;function EC(){return ah=(ah+1)%Number.MAX_SAFE_INTEGER,ah.toString()}const lh=new Map,Uy=t=>{if(lh.has(t))return;const e=setTimeout(()=>{lh.delete(t),va({type:"REMOVE_TOAST",toastId:t})},xC);lh.set(t,e)},TC=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,_C)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Uy(n):t.toasts.forEach(r=>{Uy(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},_u=[];let xu={toasts:[]};function va(t){xu=TC(xu,t),_u.forEach(e=>{e(xu)})}function bC({...t}){const e=EC(),n=s=>va({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>va({type:"DISMISS_TOAST",toastId:e});return va({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function SC(){const[t,e]=k.useState(xu);return k.useEffect(()=>(_u.push(e),()=>{const n=_u.indexOf(e);n>-1&&_u.splice(n,1)}),[t]),{...t,toast:bC,dismiss:n=>va({type:"DISMISS_TOAST",toastId:n})}}function Je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function zy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function r_(...t){return e=>{let n=!1;const r=t.map(s=>{const i=zy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():zy(t[s],null)}}}}function Cn(...t){return k.useCallback(r_(...t),t)}function Uc(t,e=[]){let n=[];function r(i,o){const l=k.createContext(o),u=n.length;n=[...n,o];const c=f=>{var v;const{scope:m,children:p,...C}=f,_=((v=m==null?void 0:m[t])==null?void 0:v[u])||l,E=k.useMemo(()=>C,Object.values(C));return x.jsx(_.Provider,{value:E,children:p})};c.displayName=i+"Provider";function d(f,m){var _;const p=((_=m==null?void 0:m[t])==null?void 0:_[u])||l,C=k.useContext(p);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>k.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return k.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,CC(s,...e)]}function CC(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...l,...f}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function nc(t){const e=AC(t),n=k.forwardRef((r,s)=>{const{children:i,...o}=r,l=k.Children.toArray(i),u=l.find(PC);if(u){const c=u.props.children,d=l.map(f=>f===u?k.Children.count(c)>1?k.Children.only(null):k.isValidElement(c)?c.props.children:null:f);return x.jsx(e,{...o,ref:s,children:k.isValidElement(c)?k.cloneElement(c,void 0,d):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var IC=nc("Slot");function AC(t){const e=k.forwardRef((n,r)=>{const{children:s,...i}=n;if(k.isValidElement(s)){const o=NC(s),l=kC(i,s.props);return s.type!==k.Fragment&&(l.ref=r?r_(r,o):o),k.cloneElement(s,l)}return k.Children.count(s)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var s_=Symbol("radix.slottable");function RC(t){const e=({children:n})=>x.jsx(x.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=s_,e}function PC(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===s_}function kC(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function NC(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function DC(t){const e=t+"CollectionProvider",[n,r]=Uc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:E,children:v}=_,y=W.useRef(null),T=W.useRef(new Map).current;return x.jsx(s,{scope:E,itemMap:T,collectionRef:y,children:v})};o.displayName=e;const l=t+"CollectionSlot",u=nc(l),c=W.forwardRef((_,E)=>{const{scope:v,children:y}=_,T=i(l,v),D=Cn(E,T.collectionRef);return x.jsx(u,{ref:D,children:y})});c.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=nc(d),p=W.forwardRef((_,E)=>{const{scope:v,children:y,...T}=_,D=W.useRef(null),V=Cn(E,D),M=i(d,v);return W.useEffect(()=>(M.itemMap.set(D,{ref:D,...T}),()=>void M.itemMap.delete(D))),x.jsx(m,{[f]:"",ref:V,children:y})});p.displayName=d;function C(_){const E=i(t+"CollectionConsumer",_);return W.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const T=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((M,b)=>T.indexOf(M.ref.current)-T.indexOf(b.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},C,r]}var VC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=VC.reduce((t,e)=>{const n=nc(`Primitive.${e}`),r=k.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function i_(t,e){t&&hl.flushSync(()=>t.dispatchEvent(e))}function hs(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function OC(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var MC="DismissableLayer",yf="dismissableLayer.update",LC="dismissableLayer.pointerDownOutside",jC="dismissableLayer.focusOutside",By,o_=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qp=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,c=k.useContext(o_),[d,f]=k.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=k.useState({}),C=Cn(e,b=>f(b)),_=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(E),y=d?_.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,D=y>=v,V=$C(b=>{const w=b.target,I=[...c.branches].some(A=>A.contains(w));!D||I||(s==null||s(b),o==null||o(b),b.defaultPrevented||l==null||l())},m),M=UC(b=>{const w=b.target;[...c.branches].some(A=>A.contains(w))||(i==null||i(b),o==null||o(b),b.defaultPrevented||l==null||l())},m);return OC(b=>{y===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&l&&(b.preventDefault(),l()))},m),k.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(By=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Hy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=By)}},[d,m,n,c]),k.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Hy())},[d,c]),k.useEffect(()=>{const b=()=>p({});return document.addEventListener(yf,b),()=>document.removeEventListener(yf,b)},[]),x.jsx(zt.div,{...u,ref:C,style:{pointerEvents:T?D?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,V.onPointerDownCapture)})});Qp.displayName=MC;var FC="DismissableLayerBranch",a_=k.forwardRef((t,e)=>{const n=k.useContext(o_),r=k.useRef(null),s=Cn(e,r);return k.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(zt.div,{...t,ref:s})});a_.displayName=FC;function $C(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){l_(LC,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function UC(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=k.useRef(!1);return k.useEffect(()=>{const s=i=>{i.target&&!r.current&&l_(jC,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Hy(){const t=new CustomEvent(yf);document.dispatchEvent(t)}function l_(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?i_(s,i):s.dispatchEvent(i)}var zC=Qp,BC=a_,fs=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},HC="Portal",u_=k.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=k.useState(!1);fs(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?t_.createPortal(x.jsx(zt.div,{...r,ref:e}),o):null});u_.displayName=HC;function WC(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var Gp=t=>{const{present:e,children:n}=t,r=qC(e),s=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),i=Cn(r.ref,QC(s));return typeof n=="function"||r.isPresent?k.cloneElement(s,{ref:i}):null};Gp.displayName="Presence";function qC(t){const[e,n]=k.useState(),r=k.useRef(null),s=k.useRef(t),i=k.useRef("none"),o=t?"mounted":"unmounted",[l,u]=WC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const c=Xl(r.current);i.current=l==="mounted"?c:"none"},[l]),fs(()=>{const c=r.current,d=s.current;if(d!==t){const m=i.current,p=Xl(c);t?u("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),fs(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const _=Xl(r.current).includes(p.animationName);if(p.target===e&&_&&(u("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=p=>{p.target===e&&(i.current=Xl(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:k.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Xl(t){return(t==null?void 0:t.animationName)||"none"}function QC(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var GC=J0[" useInsertionEffect ".trim().toString()]||fs;function KC({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=YC({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:s;{const d=k.useRef(t!==void 0);k.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const c=k.useCallback(d=>{var f;if(l){const m=XC(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,t,i,o]);return[u,c]}function YC({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),s=k.useRef(n),i=k.useRef(e);return GC(()=>{i.current=e},[e]),k.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function XC(t){return typeof t=="function"}var JC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZC="VisuallyHidden",zc=k.forwardRef((t,e)=>x.jsx(zt.span,{...t,ref:e,style:{...JC,...t.style}}));zc.displayName=ZC;var eI=zc,Kp="ToastProvider",[Yp,tI,nI]=DC("Toast"),[c_,MO]=Uc("Toast",[nI]),[rI,Bc]=c_(Kp),d_=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,u]=k.useState(null),[c,d]=k.useState(0),f=k.useRef(!1),m=k.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kp}\`. Expected non-empty \`string\`.`),x.jsx(Yp.Provider,{scope:e,children:x.jsx(rI,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:k.useCallback(()=>d(p=>p+1),[]),onToastRemove:k.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};d_.displayName=Kp;var h_="ToastViewport",sI=["F8"],vf="toast.viewportPause",wf="toast.viewportResume",f_=k.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=sI,label:s="Notifications ({hotkey})",...i}=t,o=Bc(h_,n),l=tI(n),u=k.useRef(null),c=k.useRef(null),d=k.useRef(null),f=k.useRef(null),m=Cn(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=o.toastCount>0;k.useEffect(()=>{const E=v=>{var T;r.length!==0&&r.every(D=>v[D]||v.code===D)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),k.useEffect(()=>{const E=u.current,v=f.current;if(C&&E&&v){const y=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(vf);v.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(wf);v.dispatchEvent(M),o.isClosePausedRef.current=!1}},D=M=>{!E.contains(M.relatedTarget)&&T()},V=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",y),E.addEventListener("focusout",D),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",V),window.addEventListener("blur",y),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",D),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",V),window.removeEventListener("blur",y),window.removeEventListener("focus",T)}}},[C,o.isClosePausedRef]);const _=k.useCallback(({tabbingDirection:E})=>{const y=l().map(T=>{const D=T.ref.current,V=[D,...yI(D)];return E==="forwards"?V:V.reverse()});return(E==="forwards"?y.reverse():y).flat()},[l]);return k.useEffect(()=>{const E=f.current;if(E){const v=y=>{var V,M,b;const T=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!T){const w=document.activeElement,I=y.shiftKey;if(y.target===E&&I){(V=c.current)==null||V.focus();return}const N=_({tabbingDirection:I?"backwards":"forwards"}),P=N.findIndex(H=>H===w);uh(N.slice(P+1))?y.preventDefault():I?(M=c.current)==null||M.focus():(b=d.current)==null||b.focus()}};return E.addEventListener("keydown",v),()=>E.removeEventListener("keydown",v)}},[l,_]),x.jsxs(BC,{ref:u,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&x.jsx(_f,{ref:c,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});uh(E)}}),x.jsx(Yp.Slot,{scope:n,children:x.jsx(zt.ol,{tabIndex:-1,...i,ref:m})}),C&&x.jsx(_f,{ref:d,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});uh(E)}})]})});f_.displayName=h_;var p_="ToastFocusProxy",_f=k.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Bc(p_,n);return x.jsx(zc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const l=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(l))&&r()}})});_f.displayName=p_;var fl="Toast",iI="toast.swipeStart",oI="toast.swipeMove",aI="toast.swipeCancel",lI="toast.swipeEnd",m_=k.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,u]=KC({prop:r,defaultProp:s??!0,onChange:i,caller:fl});return x.jsx(Gp,{present:n||l,children:x.jsx(dI,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:hs(t.onPause),onResume:hs(t.onResume),onSwipeStart:Je(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Je(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Je(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Je(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});m_.displayName=fl;var[uI,cI]=c_(fl,{onClose(){}}),dI=k.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...C}=t,_=Bc(fl,n),[E,v]=k.useState(null),y=Cn(e,H=>v(H)),T=k.useRef(null),D=k.useRef(null),V=s||_.duration,M=k.useRef(0),b=k.useRef(V),w=k.useRef(0),{onToastAdd:I,onToastRemove:A}=_,R=hs(()=>{var se;(E==null?void 0:E.contains(document.activeElement))&&((se=_.viewport)==null||se.focus()),o()}),N=k.useCallback(H=>{!H||H===1/0||(window.clearTimeout(w.current),M.current=new Date().getTime(),w.current=window.setTimeout(R,H))},[R]);k.useEffect(()=>{const H=_.viewport;if(H){const se=()=>{N(b.current),c==null||c()},te=()=>{const ie=new Date().getTime()-M.current;b.current=b.current-ie,window.clearTimeout(w.current),u==null||u()};return H.addEventListener(vf,te),H.addEventListener(wf,se),()=>{H.removeEventListener(vf,te),H.removeEventListener(wf,se)}}},[_.viewport,V,u,c,N]),k.useEffect(()=>{i&&!_.isClosePausedRef.current&&N(V)},[i,V,_.isClosePausedRef,N]),k.useEffect(()=>(I(),()=>A()),[I,A]);const P=k.useMemo(()=>E?E_(E):null,[E]);return _.viewport?x.jsxs(x.Fragment,{children:[P&&x.jsx(hI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),x.jsx(uI,{scope:n,onClose:R,children:hl.createPortal(x.jsx(Yp.ItemSlot,{scope:n,children:x.jsx(zC,{asChild:!0,onEscapeKeyDown:Je(l,()=>{_.isFocusedToastEscapeKeyDownRef.current||R(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(zt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...C,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Je(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Je(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:Je(t.onPointerMove,H=>{if(!T.current)return;const se=H.clientX-T.current.x,te=H.clientY-T.current.y,ie=!!D.current,j=["left","right"].includes(_.swipeDirection),U=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Q=j?U(0,se):0,ne=j?0:U(0,te),X=H.pointerType==="touch"?10:2,ce={x:Q,y:ne},le={originalEvent:H,delta:ce};ie?(D.current=ce,Jl(oI,f,le,{discrete:!1})):Wy(ce,_.swipeDirection,X)?(D.current=ce,Jl(iI,d,le,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(se)>X||Math.abs(te)>X)&&(T.current=null)}),onPointerUp:Je(t.onPointerUp,H=>{const se=D.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),D.current=null,T.current=null,se){const ie=H.currentTarget,j={originalEvent:H,delta:se};Wy(se,_.swipeDirection,_.swipeThreshold)?Jl(lI,p,j,{discrete:!0}):Jl(aI,m,j,{discrete:!0}),ie.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),hI=t=>{const{__scopeToast:e,children:n,...r}=t,s=Bc(fl,e),[i,o]=k.useState(!1),[l,u]=k.useState(!1);return mI(()=>o(!0)),k.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:x.jsx(u_,{asChild:!0,children:x.jsx(zc,{...r,children:i&&x.jsxs(x.Fragment,{children:[s.label," ",n]})})})},fI="ToastTitle",g_=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(zt.div,{...r,ref:e})});g_.displayName=fI;var pI="ToastDescription",y_=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(zt.div,{...r,ref:e})});y_.displayName=pI;var v_="ToastAction",w_=k.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?x.jsx(x_,{altText:n,asChild:!0,children:x.jsx(Xp,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${v_}\`. Expected non-empty \`string\`.`),null)});w_.displayName=v_;var __="ToastClose",Xp=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=cI(__,n);return x.jsx(x_,{asChild:!0,children:x.jsx(zt.button,{type:"button",...r,ref:e,onClick:Je(t.onClick,s.onClose)})})});Xp.displayName=__;var x_=k.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return x.jsx(zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function E_(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),gI(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...E_(r))}}),e}function Jl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?i_(s,i):s.dispatchEvent(i)}var Wy=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function mI(t=()=>{}){const e=hs(t);fs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function gI(t){return t.nodeType===t.ELEMENT_NODE}function yI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var vI=d_,T_=f_,b_=m_,S_=g_,C_=y_,I_=w_,A_=Xp;function R_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=R_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function P_(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=R_(t))&&(r&&(r+=" "),r+=e);return r}const qy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qy=P_,k_=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Qy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const m=qy(d)||qy(f);return s[c][m]}),l=n&&Object.entries(n).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(C=>{let[_,E]=C;return Array.isArray(E)?E.includes({...i,...l}[_]):{...i,...l}[_]===E})?[...c,f,m]:c},[]);return Qy(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N_=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _I={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>k.createElement("svg",{ref:u,..._I,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:N_("lucide",s),...l},[...o.map(([c,d])=>k.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=k.forwardRef(({className:r,...s},i)=>k.createElement(xI,{ref:i,iconNode:e,className:N_(`lucide-${wI(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=rt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=rt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=rt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=rt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=rt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=rt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=rt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=rt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=rt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=rt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=rt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=rt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=rt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jp="-",MI=t=>{const e=jI(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Jp);return l[0]===""&&l.length!==1&&l.shift(),O_(l,e)||LI(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},O_=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?O_(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Jp);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Yy=/^\[(.+)\]$/,LI=t=>{if(Yy.test(t)){const e=Yy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jI=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $I(Object.entries(t.classGroups),n).forEach(([i,o])=>{xf(o,r,i,e)}),r},xf=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Xy(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(FI(s)){xf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{xf(o,Xy(e,i),n,r)})})},Xy=(t,e)=>{let n=t;return e.split(Jp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FI=t=>t.isThemeGetter,$I=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,UI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},M_="!",zI=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let c=0,d=0,f;for(let E=0;E<l.length;E++){let v=l[E];if(c===0){if(v===s&&(r||l.slice(E,E+i)===e)){u.push(l.slice(d,E)),d=E+i;continue}if(v==="/"){f=E;continue}}v==="["?c++:v==="]"&&c--}const m=u.length===0?l:l.substring(d),p=m.startsWith(M_),C=p?m.substring(1):m,_=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:C,maybePostfixModifierPosition:_}};return n?l=>n({className:l,parseClassName:o}):o},BI=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},HI=t=>({cache:UI(t.cacheSize),parseClassName:zI(t),...MI(t)}),WI=/\s+/,qI=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(WI);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(c);let C=!!p,_=r(C?m.substring(0,p):m);if(!_){if(!C){l=c+(l.length>0?" "+l:l);continue}if(_=r(m),!_){l=c+(l.length>0?" "+l:l);continue}C=!1}const E=BI(d).join(":"),v=f?E+M_:E,y=v+_;if(i.includes(y))continue;i.push(y);const T=s(_,C);for(let D=0;D<T.length;++D){const V=T[D];i.push(v+V)}l=c+(l.length>0?" "+l:l)}return l};function QI(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=L_(e))&&(r&&(r+=" "),r+=n);return r}const L_=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=L_(t[r]))&&(n&&(n+=" "),n+=e);return n};function GI(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,f)=>f(d),t());return n=HI(c),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const c=r(u);if(c)return c;const d=qI(u,n);return s(u,d),d}return function(){return i(QI.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},j_=/^\[(?:([a-z-]+):)?(.+)\]$/i,KI=/^\d+\/\d+$/,YI=new Set(["px","full","screen"]),XI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ar=t=>zi(t)||YI.has(t)||KI.test(t),Mr=t=>xo(t,"length",uA),zi=t=>!!t&&!Number.isNaN(Number(t)),ch=t=>xo(t,"number",zi),Jo=t=>!!t&&Number.isInteger(Number(t)),nA=t=>t.endsWith("%")&&zi(t.slice(0,-1)),ue=t=>j_.test(t),Lr=t=>XI.test(t),rA=new Set(["length","size","percentage"]),sA=t=>xo(t,rA,F_),iA=t=>xo(t,"position",F_),oA=new Set(["image","url"]),aA=t=>xo(t,oA,dA),lA=t=>xo(t,"",cA),Zo=()=>!0,xo=(t,e,n)=>{const r=j_.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},uA=t=>JI.test(t)&&!ZI.test(t),F_=()=>!1,cA=t=>eA.test(t),dA=t=>tA.test(t),hA=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),l=Ie("borderWidth"),u=Ie("contrast"),c=Ie("grayscale"),d=Ie("hueRotate"),f=Ie("invert"),m=Ie("gap"),p=Ie("gradientColorStops"),C=Ie("gradientColorStopPositions"),_=Ie("inset"),E=Ie("margin"),v=Ie("opacity"),y=Ie("padding"),T=Ie("saturate"),D=Ie("scale"),V=Ie("sepia"),M=Ie("skew"),b=Ie("space"),w=Ie("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",ue,e],N=()=>[ue,e],P=()=>["",ar,Mr],H=()=>["auto",zi,ue],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ue],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[zi,ue];return{cacheSize:500,separator:":",theme:{colors:[Zo],spacing:[ar,Mr],blur:["none","",Lr,ue],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Lr,ue],borderSpacing:N(),borderWidth:P(),contrast:ne(),grayscale:U(),hueRotate:ne(),invert:U(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[nA,Mr],inset:R(),margin:R(),opacity:ne(),padding:N(),saturate:ne(),scale:ne(),sepia:U(),skew:ne(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Lr]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ue]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jo,ue]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Jo,ue]}],"grid-cols":[{"grid-cols":[Zo]}],"col-start-end":[{col:["auto",{span:["full",Jo,ue]},ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Zo]}],"row-start-end":[{row:["auto",{span:[Jo,ue]},ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Lr]},Lr]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Lr,Mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ch]}],"font-family":[{font:[Zo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",zi,ch]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ar,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ar,Mr]}],"underline-offset":[{"underline-offset":["auto",ar,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),iA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[ar,ue]}],"outline-w":[{outline:[ar,Mr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ar,Mr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Lr,lA]}],"shadow-color":[{shadow:[Zo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Lr,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Jo,ue]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ar,Mr,ch]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fA=GI(hA);function Sr(...t){return fA(P_(t))}const pA=vI,$_=k.forwardRef(({className:t,...e},n)=>x.jsx(T_,{ref:n,className:Sr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));$_.displayName=T_.displayName;const mA=k_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),U_=k.forwardRef(({className:t,variant:e,...n},r)=>x.jsx(b_,{ref:r,className:Sr(mA({variant:e}),t),...n}));U_.displayName=b_.displayName;const gA=k.forwardRef(({className:t,...e},n)=>x.jsx(I_,{ref:n,className:Sr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));gA.displayName=I_.displayName;const z_=k.forwardRef(({className:t,...e},n)=>x.jsx(A_,{ref:n,className:Sr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(OI,{className:"h-4 w-4"})}));z_.displayName=A_.displayName;const B_=k.forwardRef(({className:t,...e},n)=>x.jsx(S_,{ref:n,className:Sr("text-sm font-semibold",t),...e}));B_.displayName=S_.displayName;const H_=k.forwardRef(({className:t,...e},n)=>x.jsx(C_,{ref:n,className:Sr("text-sm opacity-90",t),...e}));H_.displayName=C_.displayName;function yA(){const{toasts:t}=SC();return x.jsxs(pA,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(U_,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(B_,{children:n}),r&&x.jsx(H_,{children:r})]}),s,x.jsx(z_,{})]},e)}),x.jsx($_,{})]})}var Jy=["light","dark"],vA="(prefers-color-scheme: dark)",wA=k.createContext(void 0),_A={setTheme:t=>{},themes:[]},xA=()=>{var t;return(t=k.useContext(wA))!=null?t:_A};k.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:u})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(C=>`'${C}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Jy.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(C,_=!1,E=!0)=>{let v=o?o[C]:C,y=_?C+"|| ''":`'${v}'`,T="";return s&&E&&!_&&Jy.includes(C)&&(T+=`d.style.colorScheme = '${C}';`),n==="class"?_||v?T+=`c.add(${y})`:T+="null":v&&(T+=`d[s](n,${y})`),T},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${vA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${c?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return k.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})});var EA=t=>{switch(t){case"success":return SA;case"info":return IA;case"warning":return CA;case"error":return AA;default:return null}},TA=Array(12).fill(0),bA=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},TA.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),SA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),IA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),AA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PA=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ef=1,kA=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ef++,i=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:n}),{...l,...t,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async u=>{if(i=["resolve",u],W.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(DA(u)&&!u.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:n,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(u):e.success,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async u=>{if(i=["reject",u],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(u):e.error,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var u;s&&(this.dismiss(n),n=void 0),(u=e.finally)==null||u.call(e)}),l=()=>new Promise((u,c)=>o.then(()=>i[0]==="reject"?c(i[1]):u(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ef++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vt=new kA,NA=(t,e)=>{let n=(e==null?void 0:e.id)||Ef++;return Vt.addToast({title:t,...e,id:n}),n},DA=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",VA=NA,OA=()=>Vt.toasts,MA=()=>Vt.getActiveToasts(),LA=Object.assign(VA,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:OA,getToasts:MA});function jA(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}jA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zl(t){return t.label!==void 0}var FA=3,$A="32px",UA="16px",Zy=4e3,zA=356,BA=14,HA=20,WA=200;function mn(...t){return t.filter(Boolean).join(" ")}function qA(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var QA=t=>{var e,n,r,s,i,o,l,u,c,d,f;let{invert:m,toast:p,unstyled:C,interacting:_,setHeights:E,visibleToasts:v,heights:y,index:T,toasts:D,expanded:V,removeToast:M,defaultRichColors:b,closeButton:w,style:I,cancelButtonStyle:A,actionButtonStyle:R,className:N="",descriptionClassName:P="",duration:H,position:se,gap:te,loadingIcon:ie,expandByDefault:j,classNames:U,icons:Q,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:X}=t,[ce,le]=W.useState(null),[ke,He]=W.useState(null),[me,Rn]=W.useState(!1),[dn,rr]=W.useState(!1),[Pn,sr]=W.useState(!1),[en,As]=W.useState(!1),[Ro,Cr]=W.useState(!1),[Rs,Ir]=W.useState(0),[De,st]=W.useState(0),kn=W.useRef(p.duration||H||Zy),_l=W.useRef(null),Nn=W.useRef(null),vd=T===0,Ps=T+1<=v,St=p.type,ir=p.dismissible!==!1,Po=p.className||"",wd=p.descriptionClassName||"",pi=W.useMemo(()=>y.findIndex(Z=>Z.toastId===p.id)||0,[y,p.id]),xl=W.useMemo(()=>{var Z;return(Z=p.closeButton)!=null?Z:w},[p.closeButton,w]),ko=W.useMemo(()=>p.duration||H||Zy,[p.duration,H]),or=W.useRef(0),Dn=W.useRef(0),mi=W.useRef(0),Nt=W.useRef(null),[El,gi]=se.split("-"),No=W.useMemo(()=>y.reduce((Z,_e,be)=>be>=pi?Z:Z+_e.height,0),[y,pi]),Ar=PA(),Tl=p.invert||m,Ke=St==="loading";Dn.current=W.useMemo(()=>pi*te+No,[pi,No]),W.useEffect(()=>{kn.current=ko},[ko]),W.useEffect(()=>{Rn(!0)},[]),W.useEffect(()=>{let Z=Nn.current;if(Z){let _e=Z.getBoundingClientRect().height;return st(_e),E(be=>[{toastId:p.id,height:_e,position:p.position},...be]),()=>E(be=>be.filter(it=>it.toastId!==p.id))}},[E,p.id]),W.useLayoutEffect(()=>{if(!me)return;let Z=Nn.current,_e=Z.style.height;Z.style.height="auto";let be=Z.getBoundingClientRect().height;Z.style.height=_e,st(be),E(it=>it.find(Bt=>Bt.toastId===p.id)?it.map(Bt=>Bt.toastId===p.id?{...Bt,height:be}:Bt):[{toastId:p.id,height:be,position:p.position},...it])},[me,p.title,p.description,E,p.id]);let hn=W.useCallback(()=>{rr(!0),Ir(Dn.current),E(Z=>Z.filter(_e=>_e.toastId!==p.id)),setTimeout(()=>{M(p)},WA)},[p,M,E,Dn]);W.useEffect(()=>{if(p.promise&&St==="loading"||p.duration===1/0||p.type==="loading")return;let Z;return V||_||X&&Ar?(()=>{if(mi.current<or.current){let _e=new Date().getTime()-or.current;kn.current=kn.current-_e}mi.current=new Date().getTime()})():kn.current!==1/0&&(or.current=new Date().getTime(),Z=setTimeout(()=>{var _e;(_e=p.onAutoClose)==null||_e.call(p,p),hn()},kn.current)),()=>clearTimeout(Z)},[V,_,p,St,X,Ar,hn]),W.useEffect(()=>{p.delete&&hn()},[hn,p.delete]);function ks(){var Z,_e,be;return Q!=null&&Q.loading?W.createElement("div",{className:mn(U==null?void 0:U.loader,(Z=p==null?void 0:p.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":St==="loading"},Q.loading):ie?W.createElement("div",{className:mn(U==null?void 0:U.loader,(_e=p==null?void 0:p.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":St==="loading"},ie):W.createElement(bA,{className:mn(U==null?void 0:U.loader,(be=p==null?void 0:p.classNames)==null?void 0:be.loader),visible:St==="loading"})}return W.createElement("li",{tabIndex:0,ref:Nn,className:mn(N,Po,U==null?void 0:U.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[St],(n=p==null?void 0:p.classNames)==null?void 0:n[St]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:b,"data-styled":!(p.jsx||p.unstyled||C),"data-mounted":me,"data-promise":!!p.promise,"data-swiped":Ro,"data-removed":dn,"data-visible":Ps,"data-y-position":El,"data-x-position":gi,"data-index":T,"data-front":vd,"data-swiping":Pn,"data-dismissible":ir,"data-type":St,"data-invert":Tl,"data-swipe-out":en,"data-swipe-direction":ke,"data-expanded":!!(V||j&&me),style:{"--index":T,"--toasts-before":T,"--z-index":D.length-T,"--offset":`${dn?Rs:Dn.current}px`,"--initial-height":j?"auto":`${De}px`,...I,...p.style},onDragEnd:()=>{sr(!1),le(null),Nt.current=null},onPointerDown:Z=>{Ke||!ir||(_l.current=new Date,Ir(Dn.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(sr(!0),Nt.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,_e,be,it;if(en||!ir)return;Nt.current=null;let Bt=Number(((Z=Nn.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vn=Number(((_e=Nn.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tn=new Date().getTime()-((be=_l.current)==null?void 0:be.getTime()),Dt=ce==="x"?Bt:Vn,fn=Math.abs(Dt)/tn;if(Math.abs(Dt)>=HA||fn>.11){Ir(Dn.current),(it=p.onDismiss)==null||it.call(p,p),He(ce==="x"?Bt>0?"right":"left":Vn>0?"down":"up"),hn(),As(!0),Cr(!1);return}sr(!1),le(null)},onPointerMove:Z=>{var _e,be,it,Bt;if(!Nt.current||!ir||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let Vn=Z.clientY-Nt.current.y,tn=Z.clientX-Nt.current.x,Dt=(be=t.swipeDirections)!=null?be:qA(se);!ce&&(Math.abs(tn)>1||Math.abs(Vn)>1)&&le(Math.abs(tn)>Math.abs(Vn)?"x":"y");let fn={x:0,y:0};ce==="y"?(Dt.includes("top")||Dt.includes("bottom"))&&(Dt.includes("top")&&Vn<0||Dt.includes("bottom")&&Vn>0)&&(fn.y=Vn):ce==="x"&&(Dt.includes("left")||Dt.includes("right"))&&(Dt.includes("left")&&tn<0||Dt.includes("right")&&tn>0)&&(fn.x=tn),(Math.abs(fn.x)>0||Math.abs(fn.y)>0)&&Cr(!0),(it=Nn.current)==null||it.style.setProperty("--swipe-amount-x",`${fn.x}px`),(Bt=Nn.current)==null||Bt.style.setProperty("--swipe-amount-y",`${fn.y}px`)}},xl&&!p.jsx?W.createElement("button",{"aria-label":ne,"data-disabled":Ke,"data-close-button":!0,onClick:Ke||!ir?()=>{}:()=>{var Z;hn(),(Z=p.onDismiss)==null||Z.call(p,p)},className:mn(U==null?void 0:U.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:RA):null,p.jsx||k.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,St||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:mn(U==null?void 0:U.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ks():null,p.type!=="loading"?p.icon||(Q==null?void 0:Q[St])||EA(St):null):null,W.createElement("div",{"data-content":"",className:mn(U==null?void 0:U.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},W.createElement("div",{"data-title":"",className:mn(U==null?void 0:U.title,(u=p==null?void 0:p.classNames)==null?void 0:u.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:mn(P,wd,U==null?void 0:U.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),k.isValidElement(p.cancel)?p.cancel:p.cancel&&Zl(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:Z=>{var _e,be;Zl(p.cancel)&&ir&&((be=(_e=p.cancel).onClick)==null||be.call(_e,Z),hn())},className:mn(U==null?void 0:U.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,k.isValidElement(p.action)?p.action:p.action&&Zl(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:Z=>{var _e,be;Zl(p.action)&&((be=(_e=p.action).onClick)==null||be.call(_e,Z),!Z.defaultPrevented&&hn())},className:mn(U==null?void 0:U.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function ev(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function GA(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?UA:$A;function u(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=l:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(l)}),n}var KA=k.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:c,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:C=FA,toastOptions:_,dir:E=ev(),gap:v=BA,loadingIcon:y,icons:T,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:V}=t,[M,b]=W.useState([]),w=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[I,A]=W.useState([]),[R,N]=W.useState(!1),[P,H]=W.useState(!1),[se,te]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=W.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),Q=W.useRef(!1),ne=W.useCallback(X=>{b(ce=>{var le;return(le=ce.find(ke=>ke.id===X.id))!=null&&le.delete||Vt.dismiss(X.id),ce.filter(({id:ke})=>ke!==X.id)})},[]);return W.useEffect(()=>Vt.subscribe(X=>{if(X.dismiss){b(ce=>ce.map(le=>le.id===X.id?{...le,delete:!0}:le));return}setTimeout(()=>{t_.flushSync(()=>{b(ce=>{let le=ce.findIndex(ke=>ke.id===X.id);return le!==-1?[...ce.slice(0,le),{...ce[le],...X},...ce.slice(le+1)]:[X,...ce]})})})}),[]),W.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ce})=>{te(ce?"dark":"light")})}catch{X.addListener(({matches:le})=>{try{te(le?"dark":"light")}catch(ke){console.error(ke)}})}},[d]),W.useEffect(()=>{M.length<=1&&N(!1)},[M]),W.useEffect(()=>{let X=ce=>{var le,ke;s.every(He=>ce[He]||ce.code===He)&&(N(!0),(le=ie.current)==null||le.focus()),ce.code==="Escape"&&(document.activeElement===ie.current||(ke=ie.current)!=null&&ke.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),W.useEffect(()=>{if(ie.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,Q.current=!1)}},[ie.current]),W.createElement("section",{ref:e,"aria-label":`${D} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},w.map((X,ce)=>{var le;let[ke,He]=X.split("-");return M.length?W.createElement("ol",{key:X,dir:E==="auto"?ev():E,tabIndex:-1,ref:ie,className:l,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":ke,"data-lifted":R&&M.length>1&&!i,"data-x-position":He,style:{"--front-toast-height":`${((le=I[0])==null?void 0:le.height)||0}px`,"--width":`${zA}px`,"--gap":`${v}px`,...p,...GA(u,c)},onBlur:me=>{Q.current&&!me.currentTarget.contains(me.relatedTarget)&&(Q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,U.current=me.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{P||N(!1)},onDragEnd:()=>N(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},M.filter(me=>!me.position&&ce===0||me.position===X).map((me,Rn)=>{var dn,rr;return W.createElement(QA,{key:me.id,icons:T,index:Rn,toast:me,defaultRichColors:f,duration:(dn=_==null?void 0:_.duration)!=null?dn:m,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:C,closeButton:(rr=_==null?void 0:_.closeButton)!=null?rr:o,interacting:P,position:X,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:ne,toasts:M.filter(Pn=>Pn.position==me.position),heights:I.filter(Pn=>Pn.position==me.position),setHeights:A,expandByDefault:i,gap:v,loadingIcon:y,expanded:R,pauseWhenPageIsHidden:V,swipeDirections:t.swipeDirections})})):null}))});const YA=({...t})=>{const{theme:e="system"}=xA();return x.jsx(KA,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},XA=["top","right","bottom","left"],ps=Math.min,qt=Math.max,rc=Math.round,eu=Math.floor,Qn=t=>({x:t,y:t}),JA={left:"right",right:"left",bottom:"top",top:"bottom"},ZA={start:"end",end:"start"};function Tf(t,e,n){return qt(t,ps(e,n))}function wr(t,e){return typeof t=="function"?t(e):t}function _r(t){return t.split("-")[0]}function Eo(t){return t.split("-")[1]}function Zp(t){return t==="x"?"y":"x"}function em(t){return t==="y"?"height":"width"}const eR=new Set(["top","bottom"]);function Hn(t){return eR.has(_r(t))?"y":"x"}function tm(t){return Zp(Hn(t))}function tR(t,e,n){n===void 0&&(n=!1);const r=Eo(t),s=tm(t),i=em(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=sc(o)),[o,sc(o)]}function nR(t){const e=sc(t);return[bf(t),e,bf(e)]}function bf(t){return t.replace(/start|end/g,e=>ZA[e])}const tv=["left","right"],nv=["right","left"],rR=["top","bottom"],sR=["bottom","top"];function iR(t,e,n){switch(t){case"top":case"bottom":return n?e?nv:tv:e?tv:nv;case"left":case"right":return e?rR:sR;default:return[]}}function oR(t,e,n,r){const s=Eo(t);let i=iR(_r(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(bf)))),i}function sc(t){return t.replace(/left|right|bottom|top/g,e=>JA[e])}function aR(t){return{top:0,right:0,bottom:0,left:0,...t}}function W_(t){return typeof t!="number"?aR(t):{top:t,right:t,bottom:t,left:t}}function ic(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function rv(t,e,n){let{reference:r,floating:s}=t;const i=Hn(e),o=tm(e),l=em(o),u=_r(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(u){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Eo(e)){case"start":p[o]-=m*(n&&c?-1:1);break;case"end":p[o]+=m*(n&&c?-1:1);break}return p}const lR=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=rv(c,r,u),m=r,p={},C=0;for(let _=0;_<l.length;_++){const{name:E,fn:v}=l[_],{x:y,y:T,data:D,reset:V}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,f=T??f,p={...p,[E]:{...p[E],...D}},V&&C<=50&&(C++,typeof V=="object"&&(V.placement&&(m=V.placement),V.rects&&(c=V.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):V.rects),{x:d,y:f}=rv(c,m,u)),_=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Ba(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=wr(e,t),C=W_(p),E=l[m?f==="floating"?"reference":"floating":f],v=ic(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:u})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),D=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},V=ic(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:T,strategy:u}):y);return{top:(v.top-V.top+C.top)/D.y,bottom:(V.bottom-v.bottom+C.bottom)/D.y,left:(v.left-V.left+C.left)/D.x,right:(V.right-v.right+C.right)/D.x}}const uR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:c,padding:d=0}=wr(t,e)||{};if(c==null)return{};const f=W_(d),m={x:n,y:r},p=tm(s),C=em(p),_=await o.getDimensions(c),E=p==="y",v=E?"top":"left",y=E?"bottom":"right",T=E?"clientHeight":"clientWidth",D=i.reference[C]+i.reference[p]-m[p]-i.floating[C],V=m[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=M?M[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=l.floating[T]||i.floating[C]);const w=D/2-V/2,I=b/2-_[C]/2-1,A=ps(f[v],I),R=ps(f[y],I),N=A,P=b-_[C]-R,H=b/2-_[C]/2+w,se=Tf(N,H,P),te=!u.arrow&&Eo(s)!=null&&H!==se&&i.reference[C]/2-(H<N?A:R)-_[C]/2<0,ie=te?H<N?H-N:H-P:0;return{[p]:m[p]+ie,data:{[p]:se,centerOffset:H-se-ie,...te&&{alignmentOffset:ie}},reset:te}}}),cR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...E}=wr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=_r(s),y=Hn(l),T=_r(l)===l,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),V=m||(T||!_?[sc(l)]:nR(l)),M=C!=="none";!m&&M&&V.push(...oR(l,_,C,D));const b=[l,...V],w=await Ba(e,E),I=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(w[v]),f){const H=tR(s,o,D);I.push(w[H[0]],w[H[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(H=>H<=0)){var R,N;const H=(((R=i.flip)==null?void 0:R.index)||0)+1,se=b[H];if(se&&(!(f==="alignment"?y!==Hn(se):!1)||A.every(j=>j.overflows[0]>0&&Hn(j.placement)===y)))return{data:{index:H,overflows:A},reset:{placement:se}};let te=(N=A.filter(ie=>ie.overflows[0]<=0).sort((ie,j)=>ie.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!te)switch(p){case"bestFit":{var P;const ie=(P=A.filter(j=>{if(M){const U=Hn(j.placement);return U===y||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,Q)=>U+Q,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:P[0];ie&&(te=ie);break}case"initialPlacement":te=l;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function sv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function iv(t){return XA.some(e=>t[e]>=0)}const dR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=wr(t,e);switch(r){case"referenceHidden":{const i=await Ba(e,{...s,elementContext:"reference"}),o=sv(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:iv(o)}}}case"escaped":{const i=await Ba(e,{...s,altBoundary:!0}),o=sv(i,n.floating);return{data:{escapedOffsets:o,escaped:iv(o)}}}default:return{}}}}},q_=new Set(["left","top"]);async function hR(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=_r(n),l=Eo(n),u=Hn(n)==="y",c=q_.has(o)?-1:1,d=i&&u?-1:1,f=wr(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:C}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof C=="number"&&(p=l==="end"?C*-1:C),u?{x:p*d,y:m*c}:{x:m*c,y:p*d}}const fR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await hR(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},pR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:E=>{let{x:v,y}=E;return{x:v,y}}},...u}=wr(t,e),c={x:n,y:r},d=await Ba(e,u),f=Hn(_r(s)),m=Zp(f);let p=c[m],C=c[f];if(i){const E=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=p+d[E],T=p-d[v];p=Tf(y,p,T)}if(o){const E=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=C+d[E],T=C-d[v];C=Tf(y,C,T)}const _=l.fn({...e,[m]:p,[f]:C});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:i,[f]:o}}}}}},mR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=wr(t,e),d={x:n,y:r},f=Hn(s),m=Zp(f);let p=d[m],C=d[f];const _=wr(l,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const T=m==="y"?"height":"width",D=i.reference[m]-i.floating[T]+E.mainAxis,V=i.reference[m]+i.reference[T]-E.mainAxis;p<D?p=D:p>V&&(p=V)}if(c){var v,y;const T=m==="y"?"width":"height",D=q_.has(_r(s)),V=i.reference[f]-i.floating[T]+(D&&((v=o.offset)==null?void 0:v[f])||0)+(D?0:E.crossAxis),M=i.reference[f]+i.reference[T]+(D?0:((y=o.offset)==null?void 0:y[f])||0)-(D?E.crossAxis:0);C<V?C=V:C>M&&(C=M)}return{[m]:p,[f]:C}}}},gR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...c}=wr(t,e),d=await Ba(e,c),f=_r(s),m=Eo(s),p=Hn(s)==="y",{width:C,height:_}=i.floating;let E,v;f==="top"||f==="bottom"?(E=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,E=m==="end"?"top":"bottom");const y=_-d.top-d.bottom,T=C-d.left-d.right,D=ps(_-d[E],y),V=ps(C-d[v],T),M=!e.middlewareData.shift;let b=D,w=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(w=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=y),M&&!m){const A=qt(d.left,0),R=qt(d.right,0),N=qt(d.top,0),P=qt(d.bottom,0);p?w=C-2*(A!==0||R!==0?A+R:qt(d.left,d.right)):b=_-2*(N!==0||P!==0?N+P:qt(d.top,d.bottom))}await u({...e,availableWidth:w,availableHeight:b});const I=await o.getDimensions(l.floating);return C!==I.width||_!==I.height?{reset:{rects:!0}}:{}}}};function Hc(){return typeof window<"u"}function To(t){return Q_(t)?(t.nodeName||"").toLowerCase():"#document"}function Yt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nr(t){var e;return(e=(Q_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Q_(t){return Hc()?t instanceof Node||t instanceof Yt(t).Node:!1}function In(t){return Hc()?t instanceof Element||t instanceof Yt(t).Element:!1}function Zn(t){return Hc()?t instanceof HTMLElement||t instanceof Yt(t).HTMLElement:!1}function ov(t){return!Hc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yt(t).ShadowRoot}const yR=new Set(["inline","contents"]);function pl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=An(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!yR.has(s)}const vR=new Set(["table","td","th"]);function wR(t){return vR.has(To(t))}const _R=[":popover-open",":modal"];function Wc(t){return _R.some(e=>{try{return t.matches(e)}catch{return!1}})}const xR=["transform","translate","scale","rotate","perspective"],ER=["transform","translate","scale","rotate","perspective","filter"],TR=["paint","layout","strict","content"];function nm(t){const e=rm(),n=In(t)?An(t):t;return xR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ER.some(r=>(n.willChange||"").includes(r))||TR.some(r=>(n.contain||"").includes(r))}function bR(t){let e=ms(t);for(;Zn(e)&&!uo(e);){if(nm(e))return e;if(Wc(e))return null;e=ms(e)}return null}function rm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const SR=new Set(["html","body","#document"]);function uo(t){return SR.has(To(t))}function An(t){return Yt(t).getComputedStyle(t)}function qc(t){return In(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ms(t){if(To(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ov(t)&&t.host||nr(t);return ov(e)?e.host:e}function G_(t){const e=ms(t);return uo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zn(e)&&pl(e)?e:G_(e)}function Ha(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=G_(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Yt(s);if(i){const l=Sf(o);return e.concat(o,o.visualViewport||[],pl(s)?s:[],l&&n?Ha(l):[])}return e.concat(s,Ha(s,[],n))}function Sf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function K_(t){const e=An(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=rc(n)!==i||rc(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function sm(t){return In(t)?t:t.contextElement}function Bi(t){const e=sm(t);if(!Zn(e))return Qn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=K_(e);let o=(i?rc(n.width):n.width)/r,l=(i?rc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const CR=Qn(0);function Y_(t){const e=Yt(t);return!rm()||!e.visualViewport?CR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function IR(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yt(t)?!1:e}function si(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=sm(t);let o=Qn(1);e&&(r?In(r)&&(o=Bi(r)):o=Bi(t));const l=IR(i,n,r)?Y_(i):Qn(0);let u=(s.left+l.x)/o.x,c=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=Yt(i),p=r&&In(r)?Yt(r):r;let C=m,_=Sf(C);for(;_&&r&&p!==C;){const E=Bi(_),v=_.getBoundingClientRect(),y=An(_),T=v.left+(_.clientLeft+parseFloat(y.paddingLeft))*E.x,D=v.top+(_.clientTop+parseFloat(y.paddingTop))*E.y;u*=E.x,c*=E.y,d*=E.x,f*=E.y,u+=T,c+=D,C=Yt(_),_=Sf(C)}}return ic({width:d,height:f,x:u,y:c})}function im(t,e){const n=qc(t).scrollLeft;return e?e.left+n:si(nr(t)).left+n}function X_(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:im(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function AR(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=nr(r),l=e?Wc(e.floating):!1;if(r===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Qn(1);const d=Qn(0),f=Zn(r);if((f||!f&&!i)&&((To(r)!=="body"||pl(o))&&(u=qc(r)),Zn(r))){const p=si(r);c=Bi(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=o&&!f&&!i?X_(o,u,!0):Qn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-u.scrollTop*c.y+d.y+m.y}}function RR(t){return Array.from(t.getClientRects())}function PR(t){const e=nr(t),n=qc(t),r=t.ownerDocument.body,s=qt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=qt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+im(t);const l=-n.scrollTop;return An(r).direction==="rtl"&&(o+=qt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function kR(t,e){const n=Yt(t),r=nr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const c=rm();(!c||c&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}const NR=new Set(["absolute","fixed"]);function DR(t,e){const n=si(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Zn(t)?Bi(t):Qn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:l,x:u,y:c}}function av(t,e,n){let r;if(e==="viewport")r=kR(t,n);else if(e==="document")r=PR(nr(t));else if(In(e))r=DR(e,n);else{const s=Y_(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ic(r)}function J_(t,e){const n=ms(t);return n===e||!In(n)||uo(n)?!1:An(n).position==="fixed"||J_(n,e)}function VR(t,e){const n=e.get(t);if(n)return n;let r=Ha(t,[],!1).filter(l=>In(l)&&To(l)!=="body"),s=null;const i=An(t).position==="fixed";let o=i?ms(t):t;for(;In(o)&&!uo(o);){const l=An(o),u=nm(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&NR.has(s.position)||pl(o)&&!u&&J_(t,o))?r=r.filter(d=>d!==o):s=l,o=ms(o)}return e.set(t,r),r}function OR(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Wc(e)?[]:VR(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((c,d)=>{const f=av(e,d,s);return c.top=qt(f.top,c.top),c.right=ps(f.right,c.right),c.bottom=ps(f.bottom,c.bottom),c.left=qt(f.left,c.left),c},av(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function MR(t){const{width:e,height:n}=K_(t);return{width:e,height:n}}function LR(t,e,n){const r=Zn(e),s=nr(e),i=n==="fixed",o=si(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=Qn(0);function c(){u.x=im(s)}if(r||!r&&!i)if((To(e)!=="body"||pl(s))&&(l=qc(e)),r){const p=si(e,!0,i,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?X_(s,l):Qn(0),f=o.left+l.scrollLeft-u.x-d.x,m=o.top+l.scrollTop-u.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function dh(t){return An(t).position==="static"}function lv(t,e){if(!Zn(t)||An(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return nr(t)===n&&(n=n.ownerDocument.body),n}function Z_(t,e){const n=Yt(t);if(Wc(t))return n;if(!Zn(t)){let s=ms(t);for(;s&&!uo(s);){if(In(s)&&!dh(s))return s;s=ms(s)}return n}let r=lv(t,e);for(;r&&wR(r)&&dh(r);)r=lv(r,e);return r&&uo(r)&&dh(r)&&!nm(r)?n:r||bR(t)||n}const jR=async function(t){const e=this.getOffsetParent||Z_,n=this.getDimensions,r=await n(t.floating);return{reference:LR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FR(t){return An(t).direction==="rtl"}const $R={convertOffsetParentRelativeRectToViewportRelativeRect:AR,getDocumentElement:nr,getClippingRect:OR,getOffsetParent:Z_,getElementRects:jR,getClientRects:RR,getDimensions:MR,getScale:Bi,isElement:In,isRTL:FR};function ex(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function UR(t,e){let n=null,r;const s=nr(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=c;if(l||e(),!m||!p)return;const C=eu(f),_=eu(s.clientWidth-(d+m)),E=eu(s.clientHeight-(f+p)),v=eu(d),T={rootMargin:-C+"px "+-_+"px "+-E+"px "+-v+"px",threshold:qt(0,ps(1,u))||1};let D=!0;function V(M){const b=M[0].intersectionRatio;if(b!==u){if(!D)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!ex(c,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(V,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,T)}n.observe(t)}return o(!0),i}function zR(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=sm(t),d=s||i?[...c?Ha(c):[],...Ha(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&l?UR(c,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),c&&!u&&p.observe(c),p.observe(e));let C,_=u?si(t):null;u&&E();function E(){const v=si(t);_&&!ex(_,v)&&n(),_=v,C=requestAnimationFrame(E)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,u&&cancelAnimationFrame(C)}}const BR=fR,HR=pR,WR=cR,qR=gR,QR=dR,uv=uR,GR=mR,KR=(t,e,n)=>{const r=new Map,s={platform:$R,...n},i={...s.platform,_c:r};return lR(t,e,{...s,platform:i})};var YR=typeof document<"u",XR=function(){},Tu=YR?k.useLayoutEffect:XR;function oc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!oc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!oc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function tx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cv(t,e){const n=tx(t);return Math.round(e*n)/n}function hh(t){const e=k.useRef(t);return Tu(()=>{e.current=t}),e}function JR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:c}=t,[d,f]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=k.useState(r);oc(m,r)||p(r);const[C,_]=k.useState(null),[E,v]=k.useState(null),y=k.useCallback(j=>{j!==M.current&&(M.current=j,_(j))},[]),T=k.useCallback(j=>{j!==b.current&&(b.current=j,v(j))},[]),D=i||C,V=o||E,M=k.useRef(null),b=k.useRef(null),w=k.useRef(d),I=u!=null,A=hh(u),R=hh(s),N=hh(c),P=k.useCallback(()=>{if(!M.current||!b.current)return;const j={placement:e,strategy:n,middleware:m};R.current&&(j.platform=R.current),KR(M.current,b.current,j).then(U=>{const Q={...U,isPositioned:N.current!==!1};H.current&&!oc(w.current,Q)&&(w.current=Q,hl.flushSync(()=>{f(Q)}))})},[m,e,n,R,N]);Tu(()=>{c===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const H=k.useRef(!1);Tu(()=>(H.current=!0,()=>{H.current=!1}),[]),Tu(()=>{if(D&&(M.current=D),V&&(b.current=V),D&&V){if(A.current)return A.current(D,V,P);P()}},[D,V,P,A,I]);const se=k.useMemo(()=>({reference:M,floating:b,setReference:y,setFloating:T}),[y,T]),te=k.useMemo(()=>({reference:D,floating:V}),[D,V]),ie=k.useMemo(()=>{const j={position:n,left:0,top:0};if(!te.floating)return j;const U=cv(te.floating,d.x),Q=cv(te.floating,d.y);return l?{...j,transform:"translate("+U+"px, "+Q+"px)",...tx(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:Q}},[n,l,te.floating,d.x,d.y]);return k.useMemo(()=>({...d,update:P,refs:se,elements:te,floatingStyles:ie}),[d,P,se,te,ie])}const ZR=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?uv({element:r.current,padding:s}).fn(n):{}:r?uv({element:r,padding:s}).fn(n):{}}}},e2=(t,e)=>({...BR(t),options:[t,e]}),t2=(t,e)=>({...HR(t),options:[t,e]}),n2=(t,e)=>({...GR(t),options:[t,e]}),r2=(t,e)=>({...WR(t),options:[t,e]}),s2=(t,e)=>({...qR(t),options:[t,e]}),i2=(t,e)=>({...QR(t),options:[t,e]}),o2=(t,e)=>({...ZR(t),options:[t,e]});var a2="Arrow",nx=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(zt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});nx.displayName=a2;var l2=nx;function u2(t){const[e,n]=k.useState(void 0);return fs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,l=c.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var rx="Popper",[sx,ix]=Uc(rx),[LO,ox]=sx(rx),ax="PopperAnchor",lx=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ox(ax,n),o=k.useRef(null),l=Cn(e,o);return k.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:x.jsx(zt.div,{...s,ref:l})});lx.displayName=ax;var om="PopperContent",[c2,d2]=sx(om),ux=k.forwardRef((t,e)=>{var me,Rn,dn,rr,Pn,sr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:C,..._}=t,E=ox(om,n),[v,y]=k.useState(null),T=Cn(e,en=>y(en)),[D,V]=k.useState(null),M=u2(D),b=(M==null?void 0:M.width)??0,w=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(c)?c:[c],N=R.length>0,P={padding:A,boundary:R.filter(f2),altBoundary:N},{refs:H,floatingStyles:se,placement:te,isPositioned:ie,middlewareData:j}=JR({strategy:"fixed",placement:I,whileElementsMounted:(...en)=>zR(...en,{animationFrame:p==="always"}),elements:{reference:E.anchor},middleware:[e2({mainAxis:s+w,alignmentAxis:o}),u&&t2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?n2():void 0,...P}),u&&r2({...P}),s2({...P,apply:({elements:en,rects:As,availableWidth:Ro,availableHeight:Cr})=>{const{width:Rs,height:Ir}=As.reference,De=en.floating.style;De.setProperty("--radix-popper-available-width",`${Ro}px`),De.setProperty("--radix-popper-available-height",`${Cr}px`),De.setProperty("--radix-popper-anchor-width",`${Rs}px`),De.setProperty("--radix-popper-anchor-height",`${Ir}px`)}}),D&&o2({element:D,padding:l}),p2({arrowWidth:b,arrowHeight:w}),m&&i2({strategy:"referenceHidden",...P})]}),[U,Q]=hx(te),ne=hs(C);fs(()=>{ie&&(ne==null||ne())},[ie,ne]);const X=(me=j.arrow)==null?void 0:me.x,ce=(Rn=j.arrow)==null?void 0:Rn.y,le=((dn=j.arrow)==null?void 0:dn.centerOffset)!==0,[ke,He]=k.useState();return fs(()=>{v&&He(window.getComputedStyle(v).zIndex)},[v]),x.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:ie?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(rr=j.transformOrigin)==null?void 0:rr.x,(Pn=j.transformOrigin)==null?void 0:Pn.y].join(" "),...((sr=j.hide)==null?void 0:sr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(c2,{scope:n,placedSide:U,onArrowChange:V,arrowX:X,arrowY:ce,shouldHideArrow:le,children:x.jsx(zt.div,{"data-side":U,"data-align":Q,..._,ref:T,style:{..._.style,animation:ie?void 0:"none"}})})})});ux.displayName=om;var cx="PopperArrow",h2={top:"bottom",right:"left",bottom:"top",left:"right"},dx=k.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=d2(cx,r),o=h2[i.placedSide];return x.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:x.jsx(l2,{...s,ref:n,style:{...s.style,display:"block"}})})});dx.displayName=cx;function f2(t){return t!==null}var p2=t=>({name:"transformOrigin",options:t,fn(e){var E,v,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=hx(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+u/2;let C="",_="";return c==="bottom"?(C=o?f:`${m}px`,_=`${-u}px`):c==="top"?(C=o?f:`${m}px`,_=`${r.floating.height+u}px`):c==="right"?(C=`${-u}px`,_=o?f:`${p}px`):c==="left"&&(C=`${r.floating.width+u}px`,_=o?f:`${p}px`),{data:{x:C,y:_}}}});function hx(t){const[e,n="center"]=t.split("-");return[e,n]}var m2=lx,g2=ux,y2=dx,[Qc,jO]=Uc("Tooltip",[ix]),am=ix(),fx="TooltipProvider",v2=700,dv="tooltip.open",[w2,px]=Qc(fx),mx=t=>{const{__scopeTooltip:e,delayDuration:n=v2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=k.useRef(!0),l=k.useRef(!1),u=k.useRef(0);return k.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),x.jsx(w2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:k.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:k.useCallback(c=>{l.current=c},[]),disableHoverableContent:s,children:i})};mx.displayName=fx;var gx="Tooltip",[FO,Gc]=Qc(gx),Cf="TooltipTrigger",_2=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Gc(Cf,n),i=px(Cf,n),o=am(n),l=k.useRef(null),u=Cn(e,l,s.onTriggerChange),c=k.useRef(!1),d=k.useRef(!1),f=k.useCallback(()=>c.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),x.jsx(m2,{asChild:!0,...o,children:x.jsx(zt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Je(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Je(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Je(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Je(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Je(t.onBlur,s.onClose),onClick:Je(t.onClick,s.onClose)})})});_2.displayName=Cf;var x2="TooltipPortal",[$O,E2]=Qc(x2,{forceMount:void 0}),co="TooltipContent",yx=k.forwardRef((t,e)=>{const n=E2(co,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Gc(co,t.__scopeTooltip);return x.jsx(Gp,{present:r||o.open,children:o.disableHoverableContent?x.jsx(vx,{side:s,...i,ref:e}):x.jsx(T2,{side:s,...i,ref:e})})}),T2=k.forwardRef((t,e)=>{const n=Gc(co,t.__scopeTooltip),r=px(co,t.__scopeTooltip),s=k.useRef(null),i=Cn(e,s),[o,l]=k.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,m=k.useCallback(()=>{l(null),f(!1)},[f]),p=k.useCallback((C,_)=>{const E=C.currentTarget,v={x:C.clientX,y:C.clientY},y=A2(v,E.getBoundingClientRect()),T=R2(v,y),D=P2(_.getBoundingClientRect()),V=N2([...T,...D]);l(V),f(!0)},[f]);return k.useEffect(()=>()=>m(),[m]),k.useEffect(()=>{if(u&&d){const C=E=>p(E,d),_=E=>p(E,u);return u.addEventListener("pointerleave",C),d.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",C),d.removeEventListener("pointerleave",_)}}},[u,d,p,m]),k.useEffect(()=>{if(o){const C=_=>{const E=_.target,v={x:_.clientX,y:_.clientY},y=(u==null?void 0:u.contains(E))||(d==null?void 0:d.contains(E)),T=!k2(v,o);y?m():T&&(m(),c())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[u,d,o,c,m]),x.jsx(vx,{...t,ref:i})}),[b2,S2]=Qc(gx,{isInside:!1}),C2=RC("TooltipContent"),vx=k.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=Gc(co,n),c=am(n),{onClose:d}=u;return k.useEffect(()=>(document.addEventListener(dv,d),()=>document.removeEventListener(dv,d)),[d]),k.useEffect(()=>{if(u.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(u.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,d]),x.jsx(Qp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:x.jsxs(g2,{"data-state":u.stateAttribute,...c,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(C2,{children:r}),x.jsx(b2,{scope:n,isInside:!0,children:x.jsx(eI,{id:u.contentId,role:"tooltip",children:s||r})})]})})});yx.displayName=co;var wx="TooltipArrow",I2=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=am(n);return S2(wx,n).isInside?null:x.jsx(y2,{...s,...r,ref:e})});I2.displayName=wx;function A2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function R2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function P2(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function k2(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],c=l.x,d=l.y,f=u.x,m=u.y;d>r!=m>r&&n<(f-c)*(r-d)/(m-d)+c&&(s=!s)}return s}function N2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),D2(e)}function D2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var V2=mx,_x=yx;const O2=V2,M2=k.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(_x,{ref:r,sideOffset:e,className:Sr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));M2.displayName=_x.displayName;var Kc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yc=typeof window>"u"||"Deno"in globalThis;function yn(){}function L2(t,e){return typeof t=="function"?t(e):t}function j2(t){return typeof t=="number"&&t>=0&&t!==1/0}function F2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function If(t,e){return typeof t=="function"?t(e):t}function $2(t,e){return typeof t=="function"?t(e):t}function hv(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==lm(o,e.options))return!1}else if(!qa(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function fv(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Wa(e.options.mutationKey)!==Wa(i))return!1}else if(!qa(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function lm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wa)(t)}function Wa(t){return JSON.stringify(t,(e,n)=>Af(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function qa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qa(t[n],e[n])):!1}function xx(t,e){if(t===e)return t;const n=pv(t)&&pv(e);if(n||Af(t)&&Af(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&u.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=xx(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function pv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Af(t){if(!mv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!mv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function mv(t){return Object.prototype.toString.call(t)==="[object Object]"}function U2(t){return new Promise(e=>{setTimeout(e,t)})}function z2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?xx(t,e):e}function B2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function H2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var um=Symbol();function Ex(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===um?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Bs,Br,Gi,D0,W2=(D0=class extends Kc{constructor(){super();we(this,Bs);we(this,Br);we(this,Gi);ae(this,Gi,e=>{if(!Yc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Br)||this.setEventListener(F(this,Gi))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Br))==null||e.call(this),ae(this,Br,void 0))}setEventListener(e){var n;ae(this,Gi,e),(n=F(this,Br))==null||n.call(this),ae(this,Br,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,Bs)!==e&&(ae(this,Bs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,Bs)=="boolean"?F(this,Bs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bs=new WeakMap,Br=new WeakMap,Gi=new WeakMap,D0),Tx=new W2,Ki,Hr,Yi,V0,q2=(V0=class extends Kc{constructor(){super();we(this,Ki,!0);we(this,Hr);we(this,Yi);ae(this,Yi,e=>{if(!Yc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Hr)||this.setEventListener(F(this,Yi))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Hr))==null||e.call(this),ae(this,Hr,void 0))}setEventListener(e){var n;ae(this,Yi,e),(n=F(this,Hr))==null||n.call(this),ae(this,Hr,e(this.setOnline.bind(this)))}setOnline(e){F(this,Ki)!==e&&(ae(this,Ki,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,Ki)}},Ki=new WeakMap,Hr=new WeakMap,Yi=new WeakMap,V0),ac=new q2;function Q2(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function G2(t){return Math.min(1e3*2**t,3e4)}function bx(t){return(t??"online")==="online"?ac.isOnline():!0}var Sx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fh(t){return t instanceof Sx}function Cx(t){let e=!1,n=0,r=!1,s;const i=Q2(),o=_=>{var E;r||(m(new Sx(_)),(E=t.abort)==null||E.call(t))},l=()=>{e=!0},u=()=>{e=!1},c=()=>Tx.isFocused()&&(t.networkMode==="always"||ac.isOnline())&&t.canRun(),d=()=>bx(t.networkMode)&&t.canRun(),f=_=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,_),s==null||s(),i.resolve(_))},m=_=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,_),s==null||s(),i.reject(_))},p=()=>new Promise(_=>{var E;s=v=>{(r||c())&&_(v)},(E=t.onPause)==null||E.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),C=()=>{if(r)return;let _;const E=n===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(v){_=Promise.reject(v)}Promise.resolve(_).then(f).catch(v=>{var M;if(r)return;const y=t.retry??(Yc?0:3),T=t.retryDelay??G2,D=typeof T=="function"?T(n,v):T,V=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!V){m(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),U2(D).then(()=>c()?void 0:p()).then(()=>{e?m(v):C()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?C():p().then(C),i)}}var K2=t=>setTimeout(t,0);function Y2(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=K2;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var At=Y2(),Hs,O0,Ix=(O0=class{constructor(){we(this,Hs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j2(this.gcTime)&&ae(this,Hs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yc?1/0:5*60*1e3))}clearGcTimeout(){F(this,Hs)&&(clearTimeout(F(this,Hs)),ae(this,Hs,void 0))}},Hs=new WeakMap,O0),Xi,Ws,nn,qs,_t,il,Qs,vn,lr,M0,X2=(M0=class extends Ix{constructor(n){super();we(this,vn);we(this,Xi);we(this,Ws);we(this,nn);we(this,qs);we(this,_t);we(this,il);we(this,Qs);ae(this,Qs,!1),ae(this,il,n.defaultOptions),this.setOptions(n.options),this.observers=[],ae(this,qs,n.client),ae(this,nn,F(this,qs).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ae(this,Xi,Z2(this.options)),this.state=n.state??F(this,Xi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,_t))==null?void 0:n.promise}setOptions(n){this.options={...F(this,il),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,nn).remove(this)}setData(n,r){const s=z2(this.state.data,n,this.options);return gt(this,vn,lr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){gt(this,vn,lr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,_t))==null?void 0:s.promise;return(i=F(this,_t))==null||i.cancel(n),r?r.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Xi))}isActive(){return this.observers.some(n=>$2(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===um||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>If(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!F2(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,_t))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,_t))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,nn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,_t)&&(F(this,Qs)?F(this,_t).cancel({revert:!0}):F(this,_t).cancelRetry()),this.scheduleGc()),F(this,nn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||gt(this,vn,lr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,_t))return F(this,_t).continueRetry(),F(this,_t).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(C=>C.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ae(this,Qs,!0),s.signal)})},o=()=>{const p=Ex(this.options,r),_=(()=>{const E={client:F(this,qs),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return ae(this,Qs,!1),this.options.persister?this.options.persister(p,_,this):p(_)},u=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,qs),state:this.state,fetchFn:o};return i(p),p})();(d=this.options.behavior)==null||d.onFetch(u,this),ae(this,Ws,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&gt(this,vn,lr).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta});const c=p=>{var C,_,E,v;fh(p)&&p.silent||gt(this,vn,lr).call(this,{type:"error",error:p}),fh(p)||((_=(C=F(this,nn).config).onError)==null||_.call(C,p,this),(v=(E=F(this,nn).config).onSettled)==null||v.call(E,this.state.data,p,this)),this.scheduleGc()};return ae(this,_t,Cx({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var C,_,E,v;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){c(y);return}(_=(C=F(this,nn).config).onSuccess)==null||_.call(C,p,this),(v=(E=F(this,nn).config).onSettled)==null||v.call(E,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,C)=>{gt(this,vn,lr).call(this,{type:"failed",failureCount:p,error:C})},onPause:()=>{gt(this,vn,lr).call(this,{type:"pause"})},onContinue:()=>{gt(this,vn,lr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),F(this,_t).start()}},Xi=new WeakMap,Ws=new WeakMap,nn=new WeakMap,qs=new WeakMap,_t=new WeakMap,il=new WeakMap,Qs=new WeakMap,vn=new WeakSet,lr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...J2(s.data,this.options),fetchMeta:n.meta??null};case"success":return ae(this,Ws,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return fh(i)&&i.revert&&F(this,Ws)?{...F(this,Ws),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),At.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,nn).notify({query:this,type:"updated",action:n})})},M0);function J2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Z2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $n,L0,eP=(L0=class extends Kc{constructor(e={}){super();we(this,$n);this.config=e,ae(this,$n,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??lm(s,n);let o=this.get(i);return o||(o=new X2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,$n).has(e.queryHash)||(F(this,$n).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,$n).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,$n).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){At.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,$n).get(e)}getAll(){return[...F(this,$n).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>hv(e,r)):n}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){At.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$n=new WeakMap,L0),Un,Ct,Gs,zn,jr,j0,tP=(j0=class extends Ix{constructor(n){super();we(this,zn);we(this,Un);we(this,Ct);we(this,Gs);this.mutationId=n.mutationId,ae(this,Ct,n.mutationCache),ae(this,Un,[]),this.state=n.state||nP(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,Un).includes(n)||(F(this,Un).push(n),this.clearGcTimeout(),F(this,Ct).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ae(this,Un,F(this,Un).filter(r=>r!==n)),this.scheduleGc(),F(this,Ct).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,Un).length||(this.state.status==="pending"?this.scheduleGc():F(this,Ct).remove(this))}continue(){var n;return((n=F(this,Gs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,u,c,d,f,m,p,C,_,E,v,y,T,D,V,M,b,w,I;const r=()=>{gt(this,zn,jr).call(this,{type:"continue"})};ae(this,Gs,Cx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{gt(this,zn,jr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{gt(this,zn,jr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Ct).canRun(this)}));const s=this.state.status==="pending",i=!F(this,Gs).canStart();try{if(s)r();else{gt(this,zn,jr).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(o=F(this,Ct).config).onMutate)==null?void 0:l.call(o,n,this));const R=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));R!==this.state.context&&gt(this,zn,jr).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const A=await F(this,Gs).start();return await((f=(d=F(this,Ct).config).onSuccess)==null?void 0:f.call(d,A,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,A,n,this.state.context)),await((_=(C=F(this,Ct).config).onSettled)==null?void 0:_.call(C,A,null,this.state.variables,this.state.context,this)),await((v=(E=this.options).onSettled)==null?void 0:v.call(E,A,null,n,this.state.context)),gt(this,zn,jr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((T=(y=F(this,Ct).config).onError)==null?void 0:T.call(y,A,n,this.state.context,this)),await((V=(D=this.options).onError)==null?void 0:V.call(D,A,n,this.state.context)),await((b=(M=F(this,Ct).config).onSettled)==null?void 0:b.call(M,void 0,A,this.state.variables,this.state.context,this)),await((I=(w=this.options).onSettled)==null?void 0:I.call(w,void 0,A,n,this.state.context)),A}finally{gt(this,zn,jr).call(this,{type:"error",error:A})}}finally{F(this,Ct).runNext(this)}}},Un=new WeakMap,Ct=new WeakMap,Gs=new WeakMap,zn=new WeakSet,jr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),At.batch(()=>{F(this,Un).forEach(s=>{s.onMutationUpdate(n)}),F(this,Ct).notify({mutation:this,type:"updated",action:n})})},j0);function nP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dr,wn,ol,F0,rP=(F0=class extends Kc{constructor(e={}){super();we(this,dr);we(this,wn);we(this,ol);this.config=e,ae(this,dr,new Set),ae(this,wn,new Map),ae(this,ol,0)}build(e,n,r){const s=new tP({mutationCache:this,mutationId:++Dl(this,ol)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,dr).add(e);const n=tu(e);if(typeof n=="string"){const r=F(this,wn).get(n);r?r.push(e):F(this,wn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,dr).delete(e)){const n=tu(e);if(typeof n=="string"){const r=F(this,wn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,wn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=tu(e);if(typeof n=="string"){const r=F(this,wn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=tu(e);if(typeof n=="string"){const s=(r=F(this,wn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{F(this,dr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,dr).clear(),F(this,wn).clear()})}getAll(){return Array.from(F(this,dr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fv(n,r))}findAll(e={}){return this.getAll().filter(n=>fv(e,n))}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return At.batch(()=>Promise.all(e.map(n=>n.continue().catch(yn))))}},dr=new WeakMap,wn=new WeakMap,ol=new WeakMap,F0);function tu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function gv(t){return{onFetch:(e,n)=>{var d,f,m,p,C;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((C=e.state.data)==null?void 0:C.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let _=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},v=Ex(e.options,e.fetchOptions),y=async(T,D,V)=>{if(_)return Promise.reject();if(D==null&&T.pages.length)return Promise.resolve(T);const b=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:D,direction:V?"backward":"forward",meta:e.options.meta};return E(R),R})(),w=await v(b),{maxPages:I}=e.options,A=V?H2:B2;return{pages:A(T.pages,w,I),pageParams:A(T.pageParams,D,I)}};if(s&&i.length){const T=s==="backward",D=T?sP:yv,V={pages:i,pageParams:o},M=D(r,V);l=await y(V,M,T)}else{const T=t??i.length;do{const D=u===0?o[0]??r.initialPageParam:yv(r,l);if(u>0&&D==null)break;l=await y(l,D),u++}while(u<T)}return l};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function yv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function sP(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var $e,Wr,qr,Ji,Zi,Qr,eo,to,$0,iP=($0=class{constructor(t={}){we(this,$e);we(this,Wr);we(this,qr);we(this,Ji);we(this,Zi);we(this,Qr);we(this,eo);we(this,to);ae(this,$e,t.queryCache||new eP),ae(this,Wr,t.mutationCache||new rP),ae(this,qr,t.defaultOptions||{}),ae(this,Ji,new Map),ae(this,Zi,new Map),ae(this,Qr,0)}mount(){Dl(this,Qr)._++,F(this,Qr)===1&&(ae(this,eo,Tx.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,$e).onFocus())})),ae(this,to,ac.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,$e).onOnline())})))}unmount(){var t,e;Dl(this,Qr)._--,F(this,Qr)===0&&((t=F(this,eo))==null||t.call(this),ae(this,eo,void 0),(e=F(this,to))==null||e.call(this),ae(this,to,void 0))}isFetching(t){return F(this,$e).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Wr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,$e).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,$e).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(If(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,$e).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,$e).get(r.queryHash),i=s==null?void 0:s.state.data,o=L2(e,i);if(o!==void 0)return F(this,$e).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return At.batch(()=>F(this,$e).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,$e).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,$e);At.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,$e);return At.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=At.batch(()=>F(this,$e).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(yn).catch(yn)}invalidateQueries(t,e={}){return At.batch(()=>(F(this,$e).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=At.batch(()=>F(this,$e).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(yn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,$e).build(this,e);return n.isStaleByTime(If(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yn).catch(yn)}fetchInfiniteQuery(t){return t.behavior=gv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yn).catch(yn)}ensureInfiniteQueryData(t){return t.behavior=gv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ac.isOnline()?F(this,Wr).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,$e)}getMutationCache(){return F(this,Wr)}getDefaultOptions(){return F(this,qr)}setDefaultOptions(t){ae(this,qr,t)}setQueryDefaults(t,e){F(this,Ji).set(Wa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Ji).values()],n={};return e.forEach(r=>{qa(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Zi).set(Wa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Zi).values()],n={};return e.forEach(r=>{qa(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,qr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===um&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,qr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,$e).clear(),F(this,Wr).clear()}},$e=new WeakMap,Wr=new WeakMap,qr=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,Qr=new WeakMap,eo=new WeakMap,to=new WeakMap,$0),oP=k.createContext(void 0),aP=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(oP.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}var Yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yr||(Yr={}));const vv="popstate";function lP(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:u=""}=ci(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Rf("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof i=="string"?i:Ax(i))}function r(s,i){cm(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return cP(e,n,r,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uP(){return Math.random().toString(36).substr(2,8)}function wv(t,e){return{usr:t.state,key:t.key,idx:e}}function Rf(t,e,n,r){return n===void 0&&(n=null),Qa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ci(e):e,{state:n,key:e&&e.key||r||uP()})}function Ax(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ci(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cP(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Yr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Qa({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Yr.Pop;let E=d(),v=E==null?null:E-c;c=E,u&&u({action:l,location:_.location,delta:v})}function m(E,v){l=Yr.Push;let y=Rf(_.location,E,v);n&&n(y,E),c=d()+1;let T=wv(y,c),D=_.createHref(y);try{o.pushState(T,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(D)}i&&u&&u({action:l,location:_.location,delta:1})}function p(E,v){l=Yr.Replace;let y=Rf(_.location,E,v);n&&n(y,E),c=d();let T=wv(y,c),D=_.createHref(y);o.replaceState(T,"",D),i&&u&&u({action:l,location:_.location,delta:0})}function C(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:Ax(E);return y=y.replace(/ $/,"%20"),tt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let _={get action(){return l},get location(){return t(s,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(vv,f),u=E,()=>{s.removeEventListener(vv,f),u=null}},createHref(E){return e(s,E)},createURL:C,encodeLocation(E){let v=C(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(E){return o.go(E)}};return _}var _v;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_v||(_v={}));function dP(t,e,n){return n===void 0&&(n="/"),hP(t,e,n,!1)}function hP(t,e,n,r){let s=typeof e=="string"?ci(e):e,i=kx(s.pathname||"/",n);if(i==null)return null;let o=Rx(t);fP(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=bP(i);l=EP(o[u],c,r)}return l}function Rx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(tt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Xs([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Rx(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:_P(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of Px(i.path))s(i,o,u)}),e}function Px(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Px(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function fP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pP=/^:[\w-]+$/,mP=3,gP=2,yP=1,vP=10,wP=-2,xv=t=>t==="*";function _P(t,e){let n=t.split("/"),r=n.length;return n.some(xv)&&(r+=wP),e&&(r+=gP),n.filter(s=>!xv(s)).reduce((s,i)=>s+(pP.test(i)?mP:i===""?yP:vP),r)}function xP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function EP(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Ev({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Ev({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Xs([i,f.pathname]),pathnameBase:PP(Xs([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Xs([i,f.pathnameBase]))}return o}function Ev(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let _=l[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const C=l[f];return p&&!C?c[m]=void 0:c[m]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function TP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ci(t):t;return{pathname:n?n.startsWith("/")?n:CP(n,e):e,search:kP(r),hash:NP(s)}}function CP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ph(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function AP(t,e){let n=IP(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RP(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ci(t):(s=Qa({},t),tt(!s.pathname||!s.pathname.includes("?"),ph("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),ph("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),ph("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=SP(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Xs=t=>t.join("/").replace(/\/\/+/g,"/"),PP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nx=["post","put","patch","delete"];new Set(Nx);const VP=["get",...Nx];new Set(VP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ga.apply(this,arguments)}const dm=k.createContext(null),OP=k.createContext(null),Xc=k.createContext(null),Jc=k.createContext(null),di=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Dx=k.createContext(null);function Zc(){return k.useContext(Jc)!=null}function hm(){return Zc()||tt(!1),k.useContext(Jc).location}function Vx(t){k.useContext(Xc).static||k.useLayoutEffect(t)}function fm(){let{isDataRoute:t}=k.useContext(di);return t?KP():MP()}function MP(){Zc()||tt(!1);let t=k.useContext(dm),{basename:e,future:n,navigator:r}=k.useContext(Xc),{matches:s}=k.useContext(di),{pathname:i}=hm(),o=JSON.stringify(AP(s,n.v7_relativeSplatPath)),l=k.useRef(!1);return Vx(()=>{l.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=RP(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function LP(){let{matches:t}=k.useContext(di),e=t[t.length-1];return e?e.params:{}}function jP(t,e){return FP(t,e)}function FP(t,e,n,r){Zc()||tt(!1);let{navigator:s}=k.useContext(Xc),{matches:i}=k.useContext(di),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=hm(),d;if(e){var f;let E=typeof e=="string"?ci(e):e;u==="/"||(f=E.pathname)!=null&&f.startsWith(u)||tt(!1),d=E}else d=c;let m=d.pathname||"/",p=m;if(u!=="/"){let E=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=dP(t,{pathname:p}),_=HP(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Xs([u,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Xs([u,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&_?k.createElement(Jc.Provider,{value:{location:Ga({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yr.Pop}},_):_}function $P(){let t=GP(),e=DP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,null)}const UP=k.createElement($P,null);class zP extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(di.Provider,{value:this.props.routeContext},k.createElement(Dx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BP(t){let{routeContext:e,match:n,children:r}=t,s=k.useContext(dm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(di.Provider,{value:e},r)}function HP(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=n,C=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||C){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,C=!1,_=null,E=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,_=f.route.errorElement||UP,u&&(c<0&&m===0?(C=!0,E=null):c===m&&(C=!0,E=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),y=()=>{let T;return p?T=_:C?T=E:f.route.Component?T=k.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,k.createElement(BP,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?k.createElement(zP,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var Ox=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ox||{}),lc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lc||{});function WP(t){let e=k.useContext(dm);return e||tt(!1),e}function qP(t){let e=k.useContext(OP);return e||tt(!1),e}function QP(t){let e=k.useContext(di);return e||tt(!1),e}function Mx(t){let e=QP(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function GP(){var t;let e=k.useContext(Dx),n=qP(lc.UseRouteError),r=Mx(lc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KP(){let{router:t}=WP(Ox.UseNavigateStable),e=Mx(lc.UseNavigateStable),n=k.useRef(!1);return Vx(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ga({fromRouteId:e},i)))},[t,e])}function YP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bu(t){tt(!1)}function XP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Yr.Pop,navigator:i,static:o=!1,future:l}=t;Zc()&&tt(!1);let u=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:u,navigator:i,static:o,future:Ga({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=ci(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:C="default"}=r,_=k.useMemo(()=>{let E=kx(d,u);return E==null?null:{location:{pathname:E,search:f,hash:m,state:p,key:C},navigationType:s}},[u,d,f,m,p,C,s]);return _==null?null:k.createElement(Xc.Provider,{value:c},k.createElement(Jc.Provider,{children:n,value:_}))}function JP(t){let{children:e,location:n}=t;return jP(Pf(e),n)}new Promise(()=>{});function Pf(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,Pf(r.props.children,i));return}r.type!==bu&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ZP="6";try{window.__reactRouterVersion=ZP}catch{}const ek="startTransition",Tv=J0[ek];function tk(t){let{basename:e,children:n,future:r,window:s}=t,i=k.useRef();i.current==null&&(i.current=lP({window:s,v5Compat:!0}));let o=i.current,[l,u]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=k.useCallback(f=>{c&&Tv?Tv(()=>u(f)):u(f)},[u,c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>YP(r),[r]),k.createElement(XP,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var bv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bv||(bv={}));var Sv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sv||(Sv={}));const Lx=k.createContext({theme:"light",toggleTheme:()=>{}}),nk=({children:t})=>{const[e,n]=k.useState(()=>localStorage.getItem("theme")||"dark");k.useEffect(()=>{const s=document.documentElement;e==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>n(s=>s==="dark"?"light":"dark");return x.jsx(Lx.Provider,{value:{theme:e,toggleTheme:r},children:t})},rk=()=>k.useContext(Lx),wa=k.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:Sr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));wa.displayName="Input";const sk=[{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"hard",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"hard"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"hard"},{word:"",category:" ",difficulty:"hard"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:" ",category:" ",difficulty:"easy"},{word:" ",category:" ",difficulty:"easy"},{word:" ",category:" ",difficulty:"easy"},{word:" ",category:" ",difficulty:"medium"},{word:" ",category:" ",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:" ",category:"",difficulty:"medium"},{word:" ",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"medium"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"medium"},{word:"",category:"",difficulty:"hard"},{word:"",category:"",difficulty:"medium"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"medium"}];function ik(t=25){return[...sk.filter(r=>r.word.split(" ").length<=2)].sort(()=>Math.random()-.5).slice(0,t)}function ok(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function ak(t){const e=[],n=t==="red"?9:8,r=t==="blue"?9:8;for(let s=0;s<n;s++)e.push("red");for(let s=0;s<r;s++)e.push("blue");for(let s=0;s<7;s++)e.push("neutral");return e.push("assassin"),e.sort(()=>Math.random()-.5)}function jx(t){const e=ik(25),n=Math.random()<.5?"red":"blue",r=ak(n),s=e.map((o,l)=>({word:o,type:r[l],revealed:!1,highlighted:!1})),i=crypto.randomUUID();return{roomCode:ok(),phase:"lobby",turnPhase:"hint",cards:s,currentTeam:n,scores:{red:0,blue:0},targetScores:{red:n==="red"?9:8,blue:n==="blue"?9:8},timer:90,maxTime:90,players:[{id:i,name:t,team:n,isSpymaster:!1,isHost:!0}],winner:null,hostId:i,currentHint:null,guessesRemaining:0}}function lk(t,e){const n={...t},r={...n.cards[e]};return r.revealed?t:(r.revealed=!0,n.cards=[...t.cards],n.cards[e]=r,r.type==="assassin"?(n.phase="finished",n.winner=t.currentTeam==="red"?"blue":"red",n):(r.type==="red"?n.scores={...t.scores,red:t.scores.red+1}:r.type==="blue"&&(n.scores={...t.scores,blue:t.scores.blue+1}),n.scores.red>=n.targetScores.red?(n.phase="finished",n.winner="red",n):n.scores.blue>=n.targetScores.blue?(n.phase="finished",n.winner="blue",n):r.type!==t.currentTeam?(n.currentTeam=t.currentTeam==="red"?"blue":"red",n.timer=n.maxTime,n.turnPhase="hint",n.currentHint=null,n.guessesRemaining=0,n):(n.guessesRemaining=Math.max(0,t.guessesRemaining-1),n.guessesRemaining===0&&(n.currentTeam=t.currentTeam==="red"?"blue":"red",n.timer=n.maxTime,n.turnPhase="hint",n.currentHint=null),n)))}function uk(t,e){const n={...t};return n.cards=[...t.cards],n.cards[e]={...t.cards[e],highlighted:!t.cards[e].highlighted},n}const Fx="/kalimat-al-sir/assets/pattern-bg-AroNNcph.png",ck=()=>{};var Cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|c>>6,p=c&63;u||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($x(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||f==null)throw new hk;const m=i<<2|l>>4;if(r.push(m),c!==64){const p=l<<4&240|c>>2;if(r.push(p),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fk=function(t){const e=$x(t);return Ux.encodeByteArray(e,!0)},uc=function(t){return fk(t).replace(/\./g,"")},pk=function(t){try{return Ux.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=()=>mk().__FIREBASE_DEFAULTS__,yk=()=>{if(typeof process>"u"||typeof Cv>"u")return;const t=Cv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pk(t[1]);return e&&JSON.parse(e)},pm=()=>{try{return ck()||gk()||yk()||vk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wk=t=>{var e,n;return(n=(e=pm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_k=t=>{const e=wk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zx=()=>{var t;return(t=pm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ek(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uc(JSON.stringify(n)),uc(JSON.stringify(o)),""].join(".")}const _a={};function bk(){const t={prod:[],emulator:[]};for(const e of Object.keys(_a))_a[e]?t.emulator.push(e):t.prod.push(e);return t}function Sk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Iv=!1;function Ck(t,e){if(typeof window>"u"||typeof document>"u"||!mm(window.location.host)||_a[t]===e||_a[t]||Iv)return;_a[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=bk().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Iv=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=Sk(r),p=n("text"),C=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),E=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;l(T),d(E,_);const D=c();u(y,v),T.append(y,C,E,D),document.body.appendChild(T)}i?(C.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ak(){var e;const t=(e=pm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rk(){return!Ak()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pk(){try{return typeof indexedDB=="object"}catch{return!1}}function kk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="FirebaseError";class bo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Nk,Object.setPrototypeOf(this,bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bx.prototype.create)}}class Bx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Dk(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new bo(s,l,r)}}function Dk(t,e){return t.replace(Vk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Vk=/\{\$([^}]+)}/g;function cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Av(i)&&Av(o)){if(!cc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Av(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t){return t&&t._delegate?t._delegate:t}class Ka{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lk(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mk(t){return t===js?void 0:t}function Lk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ok(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const Fk={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},$k=ye.INFO,Uk={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},zk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Uk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hx{constructor(e){this.name=e,this._logLevel=$k,this._logHandler=zk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const Bk=(t,e)=>e.some(n=>t instanceof n);let Rv,Pv;function Hk(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wk(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wx=new WeakMap,kf=new WeakMap,qx=new WeakMap,mh=new WeakMap,gm=new WeakMap;function qk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(os(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wx.set(n,t)}).catch(()=>{}),gm.set(e,t),e}function Qk(t){if(kf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});kf.set(t,e)}let Nf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Gk(t){Nf=t(Nf)}function Kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gh(this),e,...n);return qx.set(r,e.sort?e.sort():[e]),os(r)}:Wk().includes(t)?function(...e){return t.apply(gh(this),e),os(Wx.get(this))}:function(...e){return os(t.apply(gh(this),e))}}function Yk(t){return typeof t=="function"?Kk(t):(t instanceof IDBTransaction&&Qk(t),Bk(t,Hk())?new Proxy(t,Nf):t)}function os(t){if(t instanceof IDBRequest)return qk(t);if(mh.has(t))return mh.get(t);const e=Yk(t);return e!==t&&(mh.set(t,e),gm.set(e,t)),e}const gh=t=>gm.get(t);function Xk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=os(o);return r&&o.addEventListener("upgradeneeded",u=>{r(os(o.result),u.oldVersion,u.newVersion,os(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Jk=["get","getKey","getAll","getAllKeys","count"],Zk=["put","add","delete","clear"],yh=new Map;function kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yh.get(e))return yh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Zk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Jk.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return yh.set(e,i),i}Gk(t=>({...t,get:(e,n,r)=>kv(e,n)||t.get(e,n,r),has:(e,n)=>!!kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Df="@firebase/app",Nv="0.14.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Hx("@firebase/app"),nN="@firebase/app-compat",rN="@firebase/analytics-compat",sN="@firebase/analytics",iN="@firebase/app-check-compat",oN="@firebase/app-check",aN="@firebase/auth",lN="@firebase/auth-compat",uN="@firebase/database",cN="@firebase/data-connect",dN="@firebase/database-compat",hN="@firebase/functions",fN="@firebase/functions-compat",pN="@firebase/installations",mN="@firebase/installations-compat",gN="@firebase/messaging",yN="@firebase/messaging-compat",vN="@firebase/performance",wN="@firebase/performance-compat",_N="@firebase/remote-config",xN="@firebase/remote-config-compat",EN="@firebase/storage",TN="@firebase/storage-compat",bN="@firebase/firestore",SN="@firebase/ai",CN="@firebase/firestore-compat",IN="firebase",AN="12.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",RN={[Df]:"fire-core",[nN]:"fire-core-compat",[sN]:"fire-analytics",[rN]:"fire-analytics-compat",[oN]:"fire-app-check",[iN]:"fire-app-check-compat",[aN]:"fire-auth",[lN]:"fire-auth-compat",[uN]:"fire-rtdb",[cN]:"fire-data-connect",[dN]:"fire-rtdb-compat",[hN]:"fire-fn",[fN]:"fire-fn-compat",[pN]:"fire-iid",[mN]:"fire-iid-compat",[gN]:"fire-fcm",[yN]:"fire-fcm-compat",[vN]:"fire-perf",[wN]:"fire-perf-compat",[_N]:"fire-rc",[xN]:"fire-rc-compat",[EN]:"fire-gcs",[TN]:"fire-gcs-compat",[bN]:"fire-fst",[CN]:"fire-fst-compat",[SN]:"fire-vertex","fire-js":"fire-js",[IN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,PN=new Map,Of=new Map;function Dv(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hc(t){const e=t.name;if(Of.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,t);for(const n of dc.values())Dv(n,t);for(const n of PN.values())Dv(n,t);return!0}function kN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function NN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Bx("app","Firebase",DN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=AN;function Qx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Vf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw as.create("bad-app-name",{appName:String(s)});if(n||(n=zx()),!n)throw as.create("no-options");const i=dc.get(s);if(i){if(cc(n,i.options)&&cc(r,i.config))return i;throw as.create("duplicate-app",{appName:s})}const o=new jk(s);for(const u of Of.values())o.addComponent(u);const l=new VN(n,r,o);return dc.set(s,l),l}function MN(t=Vf){const e=dc.get(t);if(!e&&t===Vf&&zx())return Qx();if(!e)throw as.create("no-app",{appName:t});return e}function Hi(t,e,n){let r=RN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(o.join(" "));return}hc(new Ka(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="firebase-heartbeat-database",jN=1,Ya="firebase-heartbeat-store";let vh=null;function Gx(){return vh||(vh=Xk(LN,jN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),vh}async function FN(t){try{const n=(await Gx()).transaction(Ya),r=await n.objectStore(Ya).get(Kx(t));return await n.done,r}catch(e){if(e instanceof bo)xr.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function Vv(t,e){try{const r=(await Gx()).transaction(Ya,"readwrite");await r.objectStore(Ya).put(e,Kx(t)),await r.done}catch(n){if(n instanceof bo)xr.warn(n.message);else{const r=as.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function Kx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=1024,UN=30;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ov();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>UN){const o=WN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ov(),{heartbeatsToSend:r,unsentEntries:s}=BN(this._heartbeatsCache.heartbeats),i=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return xr.warn(n),""}}}function Ov(){return new Date().toISOString().substring(0,10)}function BN(t,e=$N){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Mv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Mv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pk()?kk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Mv(t){return uc(JSON.stringify({version:2,heartbeats:t})).length}function WN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){hc(new Ka("platform-logger",e=>new eN(e),"PRIVATE")),hc(new Ka("heartbeat",e=>new zN(e),"PRIVATE")),Hi(Df,Nv,t),Hi(Df,Nv,"esm2020"),Hi("fire-js","")}qN("");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,Yx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,w){function I(){}I.prototype=w.prototype,b.F=w.prototype,b.prototype=new I,b.prototype.constructor=b,b.D=function(A,R,N){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return w.prototype[R].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,w,I){I||(I=0);const A=Array(16);if(typeof w=="string")for(var R=0;R<16;++R)A[R]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(R=0;R<16;++R)A[R]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=b.g[0],I=b.g[1],R=b.g[2];let N=b.g[3],P;P=w+(N^I&(R^N))+A[0]+3614090360&4294967295,w=I+(P<<7&4294967295|P>>>25),P=N+(R^w&(I^R))+A[1]+3905402710&4294967295,N=w+(P<<12&4294967295|P>>>20),P=R+(I^N&(w^I))+A[2]+606105819&4294967295,R=N+(P<<17&4294967295|P>>>15),P=I+(w^R&(N^w))+A[3]+3250441966&4294967295,I=R+(P<<22&4294967295|P>>>10),P=w+(N^I&(R^N))+A[4]+4118548399&4294967295,w=I+(P<<7&4294967295|P>>>25),P=N+(R^w&(I^R))+A[5]+1200080426&4294967295,N=w+(P<<12&4294967295|P>>>20),P=R+(I^N&(w^I))+A[6]+2821735955&4294967295,R=N+(P<<17&4294967295|P>>>15),P=I+(w^R&(N^w))+A[7]+4249261313&4294967295,I=R+(P<<22&4294967295|P>>>10),P=w+(N^I&(R^N))+A[8]+1770035416&4294967295,w=I+(P<<7&4294967295|P>>>25),P=N+(R^w&(I^R))+A[9]+2336552879&4294967295,N=w+(P<<12&4294967295|P>>>20),P=R+(I^N&(w^I))+A[10]+4294925233&4294967295,R=N+(P<<17&4294967295|P>>>15),P=I+(w^R&(N^w))+A[11]+2304563134&4294967295,I=R+(P<<22&4294967295|P>>>10),P=w+(N^I&(R^N))+A[12]+1804603682&4294967295,w=I+(P<<7&4294967295|P>>>25),P=N+(R^w&(I^R))+A[13]+4254626195&4294967295,N=w+(P<<12&4294967295|P>>>20),P=R+(I^N&(w^I))+A[14]+2792965006&4294967295,R=N+(P<<17&4294967295|P>>>15),P=I+(w^R&(N^w))+A[15]+1236535329&4294967295,I=R+(P<<22&4294967295|P>>>10),P=w+(R^N&(I^R))+A[1]+4129170786&4294967295,w=I+(P<<5&4294967295|P>>>27),P=N+(I^R&(w^I))+A[6]+3225465664&4294967295,N=w+(P<<9&4294967295|P>>>23),P=R+(w^I&(N^w))+A[11]+643717713&4294967295,R=N+(P<<14&4294967295|P>>>18),P=I+(N^w&(R^N))+A[0]+3921069994&4294967295,I=R+(P<<20&4294967295|P>>>12),P=w+(R^N&(I^R))+A[5]+3593408605&4294967295,w=I+(P<<5&4294967295|P>>>27),P=N+(I^R&(w^I))+A[10]+38016083&4294967295,N=w+(P<<9&4294967295|P>>>23),P=R+(w^I&(N^w))+A[15]+3634488961&4294967295,R=N+(P<<14&4294967295|P>>>18),P=I+(N^w&(R^N))+A[4]+3889429448&4294967295,I=R+(P<<20&4294967295|P>>>12),P=w+(R^N&(I^R))+A[9]+568446438&4294967295,w=I+(P<<5&4294967295|P>>>27),P=N+(I^R&(w^I))+A[14]+3275163606&4294967295,N=w+(P<<9&4294967295|P>>>23),P=R+(w^I&(N^w))+A[3]+4107603335&4294967295,R=N+(P<<14&4294967295|P>>>18),P=I+(N^w&(R^N))+A[8]+1163531501&4294967295,I=R+(P<<20&4294967295|P>>>12),P=w+(R^N&(I^R))+A[13]+2850285829&4294967295,w=I+(P<<5&4294967295|P>>>27),P=N+(I^R&(w^I))+A[2]+4243563512&4294967295,N=w+(P<<9&4294967295|P>>>23),P=R+(w^I&(N^w))+A[7]+1735328473&4294967295,R=N+(P<<14&4294967295|P>>>18),P=I+(N^w&(R^N))+A[12]+2368359562&4294967295,I=R+(P<<20&4294967295|P>>>12),P=w+(I^R^N)+A[5]+4294588738&4294967295,w=I+(P<<4&4294967295|P>>>28),P=N+(w^I^R)+A[8]+2272392833&4294967295,N=w+(P<<11&4294967295|P>>>21),P=R+(N^w^I)+A[11]+1839030562&4294967295,R=N+(P<<16&4294967295|P>>>16),P=I+(R^N^w)+A[14]+4259657740&4294967295,I=R+(P<<23&4294967295|P>>>9),P=w+(I^R^N)+A[1]+2763975236&4294967295,w=I+(P<<4&4294967295|P>>>28),P=N+(w^I^R)+A[4]+1272893353&4294967295,N=w+(P<<11&4294967295|P>>>21),P=R+(N^w^I)+A[7]+4139469664&4294967295,R=N+(P<<16&4294967295|P>>>16),P=I+(R^N^w)+A[10]+3200236656&4294967295,I=R+(P<<23&4294967295|P>>>9),P=w+(I^R^N)+A[13]+681279174&4294967295,w=I+(P<<4&4294967295|P>>>28),P=N+(w^I^R)+A[0]+3936430074&4294967295,N=w+(P<<11&4294967295|P>>>21),P=R+(N^w^I)+A[3]+3572445317&4294967295,R=N+(P<<16&4294967295|P>>>16),P=I+(R^N^w)+A[6]+76029189&4294967295,I=R+(P<<23&4294967295|P>>>9),P=w+(I^R^N)+A[9]+3654602809&4294967295,w=I+(P<<4&4294967295|P>>>28),P=N+(w^I^R)+A[12]+3873151461&4294967295,N=w+(P<<11&4294967295|P>>>21),P=R+(N^w^I)+A[15]+530742520&4294967295,R=N+(P<<16&4294967295|P>>>16),P=I+(R^N^w)+A[2]+3299628645&4294967295,I=R+(P<<23&4294967295|P>>>9),P=w+(R^(I|~N))+A[0]+4096336452&4294967295,w=I+(P<<6&4294967295|P>>>26),P=N+(I^(w|~R))+A[7]+1126891415&4294967295,N=w+(P<<10&4294967295|P>>>22),P=R+(w^(N|~I))+A[14]+2878612391&4294967295,R=N+(P<<15&4294967295|P>>>17),P=I+(N^(R|~w))+A[5]+4237533241&4294967295,I=R+(P<<21&4294967295|P>>>11),P=w+(R^(I|~N))+A[12]+1700485571&4294967295,w=I+(P<<6&4294967295|P>>>26),P=N+(I^(w|~R))+A[3]+2399980690&4294967295,N=w+(P<<10&4294967295|P>>>22),P=R+(w^(N|~I))+A[10]+4293915773&4294967295,R=N+(P<<15&4294967295|P>>>17),P=I+(N^(R|~w))+A[1]+2240044497&4294967295,I=R+(P<<21&4294967295|P>>>11),P=w+(R^(I|~N))+A[8]+1873313359&4294967295,w=I+(P<<6&4294967295|P>>>26),P=N+(I^(w|~R))+A[15]+4264355552&4294967295,N=w+(P<<10&4294967295|P>>>22),P=R+(w^(N|~I))+A[6]+2734768916&4294967295,R=N+(P<<15&4294967295|P>>>17),P=I+(N^(R|~w))+A[13]+1309151649&4294967295,I=R+(P<<21&4294967295|P>>>11),P=w+(R^(I|~N))+A[4]+4149444226&4294967295,w=I+(P<<6&4294967295|P>>>26),P=N+(I^(w|~R))+A[11]+3174756917&4294967295,N=w+(P<<10&4294967295|P>>>22),P=R+(w^(N|~I))+A[2]+718787259&4294967295,R=N+(P<<15&4294967295|P>>>17),P=I+(N^(R|~w))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+N&4294967295}r.prototype.v=function(b,w){w===void 0&&(w=b.length);const I=w-this.blockSize,A=this.C;let R=this.h,N=0;for(;N<w;){if(R==0)for(;N<=I;)s(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<w;)if(A[R++]=b.charCodeAt(N++),R==this.blockSize){s(this,A),R=0;break}}else for(;N<w;)if(A[R++]=b[N++],R==this.blockSize){s(this,A),R=0;break}}this.h=R,this.o+=w},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;w=this.o*8;for(var I=b.length-8;I<b.length;++I)b[I]=w&255,w/=256;for(this.v(b),b=Array(16),w=0,I=0;I<4;++I)for(let A=0;A<32;A+=8)b[w++]=this.g[I]>>>A&255;return b};function i(b,w){var I=l;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=w(b)}function o(b,w){this.h=w;const I=[];let A=!0;for(let R=b.length-1;R>=0;R--){const N=b[R]|0;A&&N==w||(I[R]=N,A=!1)}this.g=I}var l={};function u(b){return-128<=b&&b<128?i(b,function(w){return new o([w|0],w<0?-1:0)}):new o([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return E(c(-b));const w=[];let I=1;for(let A=0;b>=I;A++)w[A]=b/I|0,I*=4294967296;return new o(w,0)}function d(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return E(d(b.substring(1),w));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=c(Math.pow(w,8));let A=f;for(let N=0;N<b.length;N+=8){var R=Math.min(8,b.length-N);const P=parseInt(b.substring(N,N+R),w);R<8?(R=c(Math.pow(w,R)),A=A.j(R).add(c(P))):(A=A.j(I),A=A.add(c(P)))}return A}var f=u(0),m=u(1),p=u(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();let b=0,w=1;for(let I=0;I<this.g.length;I++){const A=this.i(I);b+=(A>=0?A:4294967296+A)*w,w*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(_(this))return"-"+E(this).toString(b);const w=c(Math.pow(b,6));var I=this;let A="";for(;;){const R=D(I,w).g;I=v(I,R.j(w));let N=((I.g.length>0?I.g[0]:I.h)>>>0).toString(b);if(I=R,C(I))return N+A;for(;N.length<6;)N="0"+N;A=N+A}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(let w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function _(b){return b.h==-1}t.l=function(b){return b=v(this,b),_(b)?-1:C(b)?0:1};function E(b){const w=b.g.length,I=[];for(let A=0;A<w;A++)I[A]=~b.g[A];return new o(I,~b.h).add(m)}t.abs=function(){return _(this)?E(this):this},t.add=function(b){const w=Math.max(this.g.length,b.g.length),I=[];let A=0;for(let R=0;R<=w;R++){let N=A+(this.i(R)&65535)+(b.i(R)&65535),P=(N>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);A=P>>>16,N&=65535,P&=65535,I[R]=P<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function v(b,w){return b.add(E(w))}t.j=function(b){if(C(this)||C(b))return f;if(_(this))return _(b)?E(this).j(E(b)):E(E(this).j(b));if(_(b))return E(this.j(E(b)));if(this.l(p)<0&&b.l(p)<0)return c(this.m()*b.m());const w=this.g.length+b.g.length,I=[];for(var A=0;A<2*w;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(let R=0;R<b.g.length;R++){const N=this.i(A)>>>16,P=this.i(A)&65535,H=b.i(R)>>>16,se=b.i(R)&65535;I[2*A+2*R]+=P*se,y(I,2*A+2*R),I[2*A+2*R+1]+=N*se,y(I,2*A+2*R+1),I[2*A+2*R+1]+=P*H,y(I,2*A+2*R+1),I[2*A+2*R+2]+=N*H,y(I,2*A+2*R+2)}for(b=0;b<w;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=w;b<2*w;b++)I[b]=0;return new o(I,0)};function y(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function T(b,w){this.g=b,this.h=w}function D(b,w){if(C(w))throw Error("division by zero");if(C(b))return new T(f,f);if(_(b))return w=D(E(b),w),new T(E(w.g),E(w.h));if(_(w))return w=D(b,E(w)),new T(E(w.g),w.h);if(b.g.length>30){if(_(b)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var I=m,A=w;A.l(b)<=0;)I=V(I),A=V(A);var R=M(I,1),N=M(A,1);for(A=M(A,2),I=M(I,2);!C(A);){var P=N.add(A);P.l(b)<=0&&(R=R.add(I),N=P),A=M(A,1),I=M(I,1)}return w=v(b,R.j(w)),new T(R,w)}for(R=f;b.l(w)>=0;){for(I=Math.max(1,Math.floor(b.m()/w.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),N=c(I),P=N.j(w);_(P)||P.l(b)>0;)I-=A,N=c(I),P=N.j(w);C(N)&&(N=m),R=R.add(N),b=v(b,P)}return new T(R,b)}t.B=function(b){return D(this,b).h},t.and=function(b){const w=Math.max(this.g.length,b.g.length),I=[];for(let A=0;A<w;A++)I[A]=this.i(A)&b.i(A);return new o(I,this.h&b.h)},t.or=function(b){const w=Math.max(this.g.length,b.g.length),I=[];for(let A=0;A<w;A++)I[A]=this.i(A)|b.i(A);return new o(I,this.h|b.h)},t.xor=function(b){const w=Math.max(this.g.length,b.g.length),I=[];for(let A=0;A<w;A++)I[A]=this.i(A)^b.i(A);return new o(I,this.h^b.h)};function V(b){const w=b.g.length+1,I=[];for(let A=0;A<w;A++)I[A]=b.i(A)<<1|b.i(A-1)>>>31;return new o(I,b.h)}function M(b,w){const I=w>>5;w%=32;const A=b.g.length-I,R=[];for(let N=0;N<A;N++)R[N]=w>0?b.i(N+I)>>>w|b.i(N+I+1)<<32-w:b.i(N+I);return new o(R,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Yx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ls=o}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xx,ia,Jx,Su,Mf,Zx,eE,tE;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof nu=="object"&&nu];for(var h=0;h<a.length;++h){var g=a[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var g=r;a=a.split(".");for(var S=0;S<a.length-1;S++){var O=a[S];if(!(O in g))break e;g=g[O]}a=a[a.length-1],S=g[a],h=h(S),h!=S&&h!=null&&e(g,a,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(h){var g=[],S;for(S in h)Object.prototype.hasOwnProperty.call(h,S)&&g.push([S,h[S]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function u(a,h,g){return a.call.apply(a.bind,arguments)}function c(a,h,g){return c=u,c.apply(null,arguments)}function d(a,h){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),a.apply(this,S)}}function f(a,h){function g(){}g.prototype=h.prototype,a.Z=h.prototype,a.prototype=new g,a.prototype.constructor=a,a.Ob=function(S,O,L){for(var q=Array(arguments.length-2),de=2;de<arguments.length;de++)q[de-2]=arguments[de];return h.prototype[O].apply(S,q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function p(a){const h=a.length;if(h>0){const g=Array(h);for(let S=0;S<h;S++)g[S]=a[S];return g}return[]}function C(a,h){for(let S=1;S<arguments.length;S++){const O=arguments[S];var g=typeof O;if(g=g!="object"?g:O?Array.isArray(O)?"array":g:"null",g=="array"||g=="object"&&typeof O.length=="number"){g=a.length||0;const L=O.length||0;a.length=g+L;for(let q=0;q<L;q++)a[g+q]=O[q]}else a.push(O)}}class _{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(a){o.setTimeout(()=>{throw a},0)}function v(){var a=b;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class y{constructor(){this.h=this.g=null}add(h,g){const S=T.get();S.set(h,g),this.h?this.h.next=S:this.g=S,this.h=S}}var T=new _(()=>new D,a=>a.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,M=!1,b=new y,w=()=>{const a=Promise.resolve(void 0);V=()=>{a.then(I)}};function I(){for(var a;a=v();){try{a.h.call(a.g)}catch(g){E(g)}var h=T;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}M=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};o.addEventListener("test",g,h),o.removeEventListener("test",g,h)}catch{}return a}();function P(a){return/^[\s\xa0]*$/.test(a)}function H(a,h){R.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}f(H,R),H.prototype.init=function(a,h){const g=this.type=a.type,S=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(g=="mouseover"?h=a.fromElement:g=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),te=0;function ie(a,h,g,S,O){this.listener=a,this.proxy=null,this.src=h,this.type=g,this.capture=!!S,this.ha=O,this.key=++te,this.da=this.fa=!1}function j(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function U(a,h,g){for(const S in a)h.call(g,a[S],S,a)}function Q(a,h){for(const g in a)h.call(void 0,a[g],g,a)}function ne(a){const h={};for(const g in a)h[g]=a[g];return h}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(a,h){let g,S;for(let O=1;O<arguments.length;O++){S=arguments[O];for(g in S)a[g]=S[g];for(let L=0;L<X.length;L++)g=X[L],Object.prototype.hasOwnProperty.call(S,g)&&(a[g]=S[g])}}function le(a){this.src=a,this.g={},this.h=0}le.prototype.add=function(a,h,g,S,O){const L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);const q=He(a,h,S,O);return q>-1?(h=a[q],g||(h.fa=!1)):(h=new ie(h,this.src,L,!!S,O),h.fa=g,a.push(h)),h};function ke(a,h){const g=h.type;if(g in a.g){var S=a.g[g],O=Array.prototype.indexOf.call(S,h,void 0),L;(L=O>=0)&&Array.prototype.splice.call(S,O,1),L&&(j(h),a.g[g].length==0&&(delete a.g[g],a.h--))}}function He(a,h,g,S){for(let O=0;O<a.length;++O){const L=a[O];if(!L.da&&L.listener==h&&L.capture==!!g&&L.ha==S)return O}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Rn={};function dn(a,h,g,S,O){if(Array.isArray(h)){for(let L=0;L<h.length;L++)dn(a,h[L],g,S,O);return null}return g=Ir(g),a&&a[se]?a.J(h,g,l(S)?!!S.capture:!!S,O):rr(a,h,g,!1,S,O)}function rr(a,h,g,S,O,L){if(!h)throw Error("Invalid event type");const q=l(O)?!!O.capture:!!O;let de=Cr(a);if(de||(a[me]=de=new le(a)),g=de.add(h,g,S,q,L),g.proxy)return g;if(S=Pn(),g.proxy=S,S.src=a,S.listener=g,a.addEventListener)N||(O=q),O===void 0&&(O=!1),a.addEventListener(h.toString(),S,O);else if(a.attachEvent)a.attachEvent(As(h.toString()),S);else if(a.addListener&&a.removeListener)a.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Pn(){function a(g){return h.call(a.src,a.listener,g)}const h=Ro;return a}function sr(a,h,g,S,O){if(Array.isArray(h))for(var L=0;L<h.length;L++)sr(a,h[L],g,S,O);else S=l(S)?!!S.capture:!!S,g=Ir(g),a&&a[se]?(a=a.i,L=String(h).toString(),L in a.g&&(h=a.g[L],g=He(h,g,S,O),g>-1&&(j(h[g]),Array.prototype.splice.call(h,g,1),h.length==0&&(delete a.g[L],a.h--)))):a&&(a=Cr(a))&&(h=a.g[h.toString()],a=-1,h&&(a=He(h,g,S,O)),(g=a>-1?h[a]:null)&&en(g))}function en(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[se])ke(h.i,a);else{var g=a.type,S=a.proxy;h.removeEventListener?h.removeEventListener(g,S,a.capture):h.detachEvent?h.detachEvent(As(g),S):h.addListener&&h.removeListener&&h.removeListener(S),(g=Cr(h))?(ke(g,a),g.h==0&&(g.src=null,h[me]=null)):j(a)}}}function As(a){return a in Rn?Rn[a]:Rn[a]="on"+a}function Ro(a,h){if(a.da)a=!0;else{h=new H(h,this);const g=a.listener,S=a.ha||a.src;a.fa&&en(a),a=g.call(S,h)}return a}function Cr(a){return a=a[me],a instanceof le?a:null}var Rs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ir(a){return typeof a=="function"?a:(a[Rs]||(a[Rs]=function(h){return a.handleEvent(h)}),a[Rs])}function De(){A.call(this),this.i=new le(this),this.M=this,this.G=null}f(De,A),De.prototype[se]=!0,De.prototype.removeEventListener=function(a,h,g,S){sr(this,a,h,g,S)};function st(a,h){var g,S=a.G;if(S)for(g=[];S;S=S.G)g.push(S);if(a=a.M,S=h.type||h,typeof h=="string")h=new R(h,a);else if(h instanceof R)h.target=h.target||a;else{var O=h;h=new R(S,a),ce(h,O)}O=!0;let L,q;if(g)for(q=g.length-1;q>=0;q--)L=h.g=g[q],O=kn(L,S,!0,h)&&O;if(L=h.g=a,O=kn(L,S,!0,h)&&O,O=kn(L,S,!1,h)&&O,g)for(q=0;q<g.length;q++)L=h.g=g[q],O=kn(L,S,!1,h)&&O}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const g=a.g[h];for(let S=0;S<g.length;S++)j(g[S]);delete a.g[h],a.h--}}this.G=null},De.prototype.J=function(a,h,g,S){return this.i.add(String(a),h,!1,g,S)},De.prototype.K=function(a,h,g,S){return this.i.add(String(a),h,!0,g,S)};function kn(a,h,g,S){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let O=!0;for(let L=0;L<h.length;++L){const q=h[L];if(q&&!q.da&&q.capture==g){const de=q.listener,Ye=q.ha||q.src;q.fa&&ke(a.i,q),O=de.call(Ye,S)!==!1&&O}}return O&&!S.defaultPrevented}function _l(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=c(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function Nn(a){a.g=_l(()=>{a.g=null,a.i&&(a.i=!1,Nn(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class vd extends A{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Nn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(a){A.call(this),this.h=a,this.g={}}f(Ps,A);var St=[];function ir(a){U(a.g,function(h,g){this.g.hasOwnProperty(g)&&en(h)},a),a.g={}}Ps.prototype.N=function(){Ps.Z.N.call(this),ir(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Po=o.JSON.stringify,wd=o.JSON.parse,pi=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function xl(){}function ko(){}var or={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dn(){R.call(this,"d")}f(Dn,R);function mi(){R.call(this,"c")}f(mi,R);var Nt={},El=null;function gi(){return El=El||new De}Nt.Ia="serverreachability";function No(a){R.call(this,Nt.Ia,a)}f(No,R);function Ar(a){const h=gi();st(h,new No(h))}Nt.STAT_EVENT="statevent";function Tl(a,h){R.call(this,Nt.STAT_EVENT,a),this.stat=h}f(Tl,R);function Ke(a){const h=gi();st(h,new Tl(h,a))}Nt.Ja="timingevent";function hn(a,h){R.call(this,Nt.Ja,a),this.size=h}f(hn,R);function ks(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function Z(){this.g=!0}Z.prototype.ua=function(){this.g=!1};function _e(a,h,g,S,O,L){a.info(function(){if(a.g)if(L){var q="",de=L.split("&");for(let Te=0;Te<de.length;Te++){var Ye=de[Te].split("=");if(Ye.length>1){const ot=Ye[0];Ye=Ye[1];const Mn=ot.split("_");q=Mn.length>=2&&Mn[1]=="type"?q+(ot+"="+Ye+"&"):q+(ot+"=redacted&")}}}else q=null;else q=L;return"XMLHTTP REQ ("+S+") [attempt "+O+"]: "+h+`
`+g+`
`+q})}function be(a,h,g,S,O,L,q){a.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+O+"]: "+h+`
`+g+`
`+L+" "+q})}function it(a,h,g,S){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Vn(a,g)+(S?" "+S:"")})}function Bt(a,h){a.info(function(){return"TIMEOUT: "+h})}Z.prototype.info=function(){};function Vn(a,h){if(!a.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(a=0;a<L.length;a++)if(Array.isArray(L[a])){var g=L[a];if(!(g.length<2)){var S=g[1];if(Array.isArray(S)&&!(S.length<1)){var O=S[0];if(O!="noop"&&O!="stop"&&O!="close")for(let q=1;q<S.length;q++)S[q]=""}}}}return Po(L)}catch{return h}}var tn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fn;function _d(){}f(_d,xl),_d.prototype.g=function(){return new XMLHttpRequest},fn=new _d;function Do(a){return encodeURIComponent(String(a))}function PT(a){var h=1;a=a.split(":");const g=[];for(;h>0&&a.length;)g.push(a.shift()),h--;return a.length&&g.push(a.join(":")),g}function Rr(a,h,g,S){this.j=a,this.i=h,this.l=g,this.S=S||1,this.V=new Ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gm}function Gm(){this.i=null,this.g="",this.h=!1}var Km={},xd={};function Ed(a,h,g){a.M=1,a.A=Sl(On(h)),a.u=g,a.R=!0,Ym(a,null)}function Ym(a,h){a.F=Date.now(),bl(a),a.B=On(a.A);var g=a.B,S=a.S;Array.isArray(S)||(S=[String(S)]),ug(g.i,"t",S),a.C=0,g=a.j.L,a.h=new Gm,a.g=Ig(a.j,g?h:null,!a.u),a.P>0&&(a.O=new vd(c(a.Y,a,a.g),a.P)),h=a.V,g=a.g,S=a.ba;var O="readystatechange";Array.isArray(O)||(O&&(St[0]=O.toString()),O=St);for(let L=0;L<O.length;L++){const q=dn(g,O[L],S||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=a.J?ne(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),Ar(),_e(a.i,a.v,a.B,a.l,a.S,a.u)}Rr.prototype.ba=function(a){a=a.target;const h=this.O;h&&Nr(a)==3?h.j():this.Y(a)},Rr.prototype.Y=function(a){try{if(a==this.g)e:{const de=Nr(this.g),Ye=this.g.ya(),Te=this.g.ca();if(!(de<3)&&(de!=3||this.g&&(this.h.h||this.g.la()||gg(this.g)))){this.K||de!=4||Ye==7||(Ye==8||Te<=0?Ar(3):Ar(2)),Td(this);var h=this.g.ca();this.X=h;var g=kT(this);if(this.o=h==200,be(this.i,this.v,this.B,this.l,this.S,de,h),this.o){if(this.U&&!this.L){t:{if(this.g){var S,O=this.g;if((S=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(S)){var L=S;break t}}L=null}if(a=L)it(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bd(this,a);else{this.o=!1,this.m=3,Ke(12),Ns(this),Vo(this);break e}}if(this.R){a=!0;let ot;for(;!this.K&&this.C<g.length;)if(ot=NT(this,g),ot==xd){de==4&&(this.m=4,Ke(14),a=!1),it(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Km){this.m=4,Ke(15),it(this.i,this.l,g,"[Invalid Chunk]"),a=!1;break}else it(this.i,this.l,ot,null),bd(this,ot);if(Xm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||g.length!=0||this.h.h||(this.m=1,Ke(16),a=!1),this.o=this.o&&a,!a)it(this.i,this.l,g,"[Invalid Chunked Response]"),Ns(this),Vo(this);else if(g.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Nd(q),q.P=!0,Ke(11))}}else it(this.i,this.l,g,null),bd(this,g);de==4&&Ns(this),this.o&&!this.K&&(de==4?Tg(this.j,this):(this.o=!1,bl(this)))}else qT(this.g),h==400&&g.indexOf("Unknown SID")>0?(this.m=3,Ke(12)):(this.m=0,Ke(13)),Ns(this),Vo(this)}}}catch{}finally{}};function kT(a){if(!Xm(a))return a.g.la();const h=gg(a.g);if(h==="")return"";let g="";const S=h.length,O=Nr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Ns(a),Vo(a),"";a.h.i=new o.TextDecoder}for(let L=0;L<S;L++)a.h.h=!0,g+=a.h.i.decode(h[L],{stream:!(O&&L==S-1)});return h.length=0,a.h.g+=g,a.C=0,a.h.g}function Xm(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function NT(a,h){var g=a.C,S=h.indexOf(`
`,g);return S==-1?xd:(g=Number(h.substring(g,S)),isNaN(g)?Km:(S+=1,S+g>h.length?xd:(h=h.slice(S,S+g),a.C=S+g,h)))}Rr.prototype.cancel=function(){this.K=!0,Ns(this)};function bl(a){a.T=Date.now()+a.H,Jm(a,a.H)}function Jm(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=ks(c(a.aa,a),h)}function Td(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Rr.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Bt(this.i,this.B),this.M!=2&&(Ar(),Ke(17)),Ns(this),this.m=2,Vo(this)):Jm(this,this.T-a)};function Vo(a){a.j.I==0||a.K||Tg(a.j,a)}function Ns(a){Td(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,ir(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function bd(a,h){try{var g=a.j;if(g.I!=0&&(g.g==a||Sd(g.h,a))){if(!a.L&&Sd(g.h,a)&&g.I==3){try{var S=g.Ba.g.parse(h)}catch{S=null}if(Array.isArray(S)&&S.length==3){var O=S;if(O[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<a.F)Pl(g),Al(g);else break e;kd(g),Ke(18)}}else g.xa=O[1],0<g.xa-g.K&&O[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=ks(c(g.Va,g),6e3));tg(g.h)<=1&&g.ta&&(g.ta=void 0)}else Vs(g,11)}else if((a.L||g.g==a)&&Pl(g),!P(h))for(O=g.Ba.g.parse(h),h=0;h<O.length;h++){let Te=O[h];const ot=Te[0];if(!(ot<=g.K))if(g.K=ot,Te=Te[1],g.I==2)if(Te[0]=="c"){g.M=Te[1],g.ba=Te[2];const Mn=Te[3];Mn!=null&&(g.ka=Mn,g.j.info("VER="+g.ka));const Os=Te[4];Os!=null&&(g.za=Os,g.j.info("SVER="+g.za));const Dr=Te[5];Dr!=null&&typeof Dr=="number"&&Dr>0&&(S=1.5*Dr,g.O=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Vr=a.g;if(Vr){const Nl=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nl){var L=S.h;L.g||Nl.indexOf("spdy")==-1&&Nl.indexOf("quic")==-1&&Nl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Cd(L,L.h),L.h=null))}if(S.G){const Dd=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;Dd&&(S.wa=Dd,Ce(S.J,S.G,Dd))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-a.F,g.j.info("Handshake RTT: "+g.T+"ms")),S=g;var q=a;if(S.na=Cg(S,S.L?S.ba:null,S.W),q.L){ng(S.h,q);var de=q,Ye=S.O;Ye&&(de.H=Ye),de.D&&(Td(de),bl(de)),S.g=q}else xg(S);g.i.length>0&&Rl(g)}else Te[0]!="stop"&&Te[0]!="close"||Vs(g,7);else g.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Vs(g,7):Pd(g):Te[0]!="noop"&&g.l&&g.l.qa(Te),g.A=0)}}Ar(4)}catch{}}var DT=class{constructor(a,h){this.g=a,this.map=h}};function Zm(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function tg(a){return a.h?1:a.g?a.g.size:0}function Sd(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Cd(a,h){a.g?a.g.add(h):a.h=h}function ng(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Zm.prototype.cancel=function(){if(this.i=rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function rg(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const g of a.g.values())h=h.concat(g.G);return h}return p(a.i)}var sg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VT(a,h){if(a){a=a.split("&");for(let g=0;g<a.length;g++){const S=a[g].indexOf("=");let O,L=null;S>=0?(O=a[g].substring(0,S),L=a[g].substring(S+1)):O=a[g],h(O,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Pr(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof Pr?(this.l=a.l,Oo(this,a.j),this.o=a.o,this.g=a.g,Mo(this,a.u),this.h=a.h,Id(this,cg(a.i)),this.m=a.m):a&&(h=String(a).match(sg))?(this.l=!1,Oo(this,h[1]||"",!0),this.o=Lo(h[2]||""),this.g=Lo(h[3]||"",!0),Mo(this,h[4]),this.h=Lo(h[5]||"",!0),Id(this,h[6]||"",!0),this.m=Lo(h[7]||"")):(this.l=!1,this.i=new Fo(null,this.l))}Pr.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(jo(h,ig,!0),":");var g=this.g;return(g||h=="file")&&(a.push("//"),(h=this.o)&&a.push(jo(h,ig,!0),"@"),a.push(Do(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&a.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(jo(g,g.charAt(0)=="/"?LT:MT,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",jo(g,FT)),a.join("")},Pr.prototype.resolve=function(a){const h=On(this);let g=!!a.j;g?Oo(h,a.j):g=!!a.o,g?h.o=a.o:g=!!a.g,g?h.g=a.g:g=a.u!=null;var S=a.h;if(g)Mo(h,a.u);else if(g=!!a.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var O=h.h.lastIndexOf("/");O!=-1&&(S=h.h.slice(0,O+1)+S)}if(O=S,O==".."||O==".")S="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){S=O.lastIndexOf("/",0)==0,O=O.split("/");const L=[];for(let q=0;q<O.length;){const de=O[q++];de=="."?S&&q==O.length&&L.push(""):de==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),S&&q==O.length&&L.push("")):(L.push(de),S=!0)}S=L.join("/")}else S=O}return g?h.h=S:g=a.i.toString()!=="",g?Id(h,cg(a.i)):g=!!a.m,g&&(h.m=a.m),h};function On(a){return new Pr(a)}function Oo(a,h,g){a.j=g?Lo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Mo(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function Id(a,h,g){h instanceof Fo?(a.i=h,$T(a.i,a.l)):(g||(h=jo(h,jT)),a.i=new Fo(h,a.l))}function Ce(a,h,g){a.i.set(h,g)}function Sl(a){return Ce(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Lo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function jo(a,h,g){return typeof a=="string"?(a=encodeURI(a).replace(h,OT),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function OT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ig=/[#\/\?@]/g,MT=/[#\?:]/g,LT=/[#\?]/g,jT=/[#\?@]/g,FT=/#/g;function Fo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Ds(a){a.g||(a.g=new Map,a.h=0,a.i&&VT(a.i,function(h,g){a.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Fo.prototype,t.add=function(a,h){Ds(this),this.i=null,a=yi(this,a);let g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(h),this.h+=1,this};function og(a,h){Ds(a),h=yi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function ag(a,h){return Ds(a),h=yi(a,h),a.g.has(h)}t.forEach=function(a,h){Ds(this),this.g.forEach(function(g,S){g.forEach(function(O){a.call(h,O,S,this)},this)},this)};function lg(a,h){Ds(a);let g=[];if(typeof h=="string")ag(a,h)&&(g=g.concat(a.g.get(yi(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)g=g.concat(a[h]);return g}t.set=function(a,h){return Ds(this),this.i=null,a=yi(this,a),ag(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=lg(this,a),a.length>0?String(a[0]):h):h};function ug(a,h,g){og(a,h),g.length>0&&(a.i=null,a.g.set(yi(a,h),p(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let S=0;S<h.length;S++){var g=h[S];const O=Do(g);g=lg(this,g);for(let L=0;L<g.length;L++){let q=O;g[L]!==""&&(q+="="+Do(g[L])),a.push(q)}}return this.i=a.join("&")};function cg(a){const h=new Fo;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function yi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function $T(a,h){h&&!a.j&&(Ds(a),a.i=null,a.g.forEach(function(g,S){const O=S.toLowerCase();S!=O&&(og(this,S),ug(this,O,g))},a)),a.j=h}function UT(a,h){const g=new Z;if(o.Image){const S=new Image;S.onload=d(kr,g,"TestLoadImage: loaded",!0,h,S),S.onerror=d(kr,g,"TestLoadImage: error",!1,h,S),S.onabort=d(kr,g,"TestLoadImage: abort",!1,h,S),S.ontimeout=d(kr,g,"TestLoadImage: timeout",!1,h,S),o.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=a}else h(!1)}function zT(a,h){const g=new Z,S=new AbortController,O=setTimeout(()=>{S.abort(),kr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:S.signal}).then(L=>{clearTimeout(O),L.ok?kr(g,"TestPingServer: ok",!0,h):kr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),kr(g,"TestPingServer: error",!1,h)})}function kr(a,h,g,S,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),S(g)}catch{}}function BT(){this.g=new pi}function Ad(a){this.i=a.Sb||null,this.h=a.ab||!1}f(Ad,xl),Ad.prototype.g=function(){return new Cl(this.i,this.h)};function Cl(a,h){De.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Cl,De),t=Cl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,Uo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$o(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Uo(this)),this.g&&(this.readyState=3,Uo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dg(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function dg(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?$o(this):Uo(this),this.readyState==3&&dg(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,$o(this))},t.Na=function(a){this.g&&(this.response=a,$o(this))},t.ga=function(){this.g&&$o(this)};function $o(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Uo(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=h.next();return a.join(`\r
`)};function Uo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function hg(a){let h="";return U(a,function(g,S){h+=S,h+=":",h+=g,h+=`\r
`}),h}function Rd(a,h,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=hg(g),typeof a=="string"?g!=null&&Do(g):Ce(a,h,g))}function Fe(a){De.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Fe,De);var HT=/^https?$/i,WT=["POST","PUT"];t=Fe.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fn.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(L){fg(this,L);return}if(a=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var O in S)g.set(O,S[O]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())g.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),O=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(WT,h,void 0)>=0)||S||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,q]of g)this.g.setRequestHeader(L,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(L){fg(this,L)}};function fg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,pg(a),Il(a)}function pg(a){a.A||(a.A=!0,st(a,"complete"),st(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,st(this,"complete"),st(this,"abort"),Il(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Il(this,!0)),Fe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?mg(this):this.Xa())},t.Xa=function(){mg(this)};function mg(a){if(a.h&&typeof i<"u"){if(a.v&&Nr(a)==4)setTimeout(a.Ca.bind(a),0);else if(st(a,"readystatechange"),Nr(a)==4){a.h=!1;try{const L=a.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var S;if(S=L===0){let q=String(a.D).match(sg)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),S=!HT.test(q?q.toLowerCase():"")}g=S}if(g)st(a,"complete"),st(a,"success");else{a.o=6;try{var O=Nr(a)>2?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.ca()+"]",pg(a)}}finally{Il(a)}}}}function Il(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const g=a.g;a.g=null,h||st(a,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Nr(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Nr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),wd(h)}};function gg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function qT(a){const h={};a=(a.g&&Nr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<a.length;S++){if(P(a[S]))continue;var g=PT(a[S]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=h[O]||[];h[O]=L,L.push(g)}Q(h,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(a,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||h}function yg(a){this.za=0,this.i=[],this.j=new Z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zo("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zo("baseRetryDelayMs",5e3,a),this.Za=zo("retryDelaySeedMs",1e4,a),this.Ta=zo("forwardChannelMaxRetries",2,a),this.va=zo("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Zm(a&&a.concurrentRequestLimit),this.Ba=new BT,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yg.prototype,t.ka=8,t.I=1,t.connect=function(a,h,g,S){Ke(0),this.W=a,this.H=h||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.J=Cg(this,null,this.W),Rl(this)};function Pd(a){if(vg(a),a.I==3){var h=a.V++,g=On(a.J);if(Ce(g,"SID",a.M),Ce(g,"RID",h),Ce(g,"TYPE","terminate"),Bo(a,g),h=new Rr(a,a.j,h),h.M=2,h.A=Sl(On(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=h.A,g=!0),g||(h.g=Ig(h.j,null),h.g.ea(h.A)),h.F=Date.now(),bl(h)}Sg(a)}function Al(a){a.g&&(Nd(a),a.g.cancel(),a.g=null)}function vg(a){Al(a),a.v&&(o.clearTimeout(a.v),a.v=null),Pl(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Rl(a){if(!eg(a.h)&&!a.m){a.m=!0;var h=a.Ea;V||w(),M||(V(),M=!0),b.add(h,a),a.D=0}}function QT(a,h){return tg(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=ks(c(a.Ea,a,h),bg(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const O=new Rr(this,this.j,a);let L=this.o;if(this.U&&(L?(L=ne(L),ce(L,this.U)):L=this.U),this.u!==null||this.R||(O.J=L,L=null),this.S)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(h+=S,h>4096){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=_g(this,O,h),g=On(this.J),Ce(g,"RID",a),Ce(g,"CVER",22),this.G&&Ce(g,"X-HTTP-Session-Id",this.G),Bo(this,g),L&&(this.R?h="headers="+Do(hg(L))+"&"+h:this.u&&Rd(g,this.u,L)),Cd(this.h,O),this.Ra&&Ce(g,"TYPE","init"),this.S?(Ce(g,"$req",h),Ce(g,"SID","null"),O.U=!0,Ed(O,g,null)):Ed(O,g,h),this.I=2}}else this.I==3&&(a?wg(this,a):this.i.length==0||eg(this.h)||wg(this))};function wg(a,h){var g;h?g=h.l:g=a.V++;const S=On(a.J);Ce(S,"SID",a.M),Ce(S,"RID",g),Ce(S,"AID",a.K),Bo(a,S),a.u&&a.o&&Rd(S,a.u,a.o),g=new Rr(a,a.j,g,a.D+1),a.u===null&&(g.J=a.o),h&&(a.i=h.G.concat(a.i)),h=_g(a,g,1e3),g.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Cd(a.h,g),Ed(g,S,h)}function Bo(a,h){a.H&&U(a.H,function(g,S){Ce(h,S,g)}),a.l&&U({},function(g,S){Ce(h,S,g)})}function _g(a,h,g){g=Math.min(a.i.length,g);const S=a.l?c(a.l.Ka,a.l,a):null;e:{var O=a.i;let de=-1;for(;;){const Ye=["count="+g];de==-1?g>0?(de=O[0].g,Ye.push("ofs="+de)):de=0:Ye.push("ofs="+de);let Te=!0;for(let ot=0;ot<g;ot++){var L=O[ot].g;const Mn=O[ot].map;if(L-=de,L<0)de=Math.max(0,O[ot].g-100),Te=!1;else try{L="req"+L+"_"||"";try{var q=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Os,Dr]of q){let Vr=Dr;l(Dr)&&(Vr=Po(Dr)),Ye.push(L+Os+"="+encodeURIComponent(Vr))}}catch(Os){throw Ye.push(L+"type="+encodeURIComponent("_badmap")),Os}}catch{S&&S(Mn)}}if(Te){q=Ye.join("&");break e}}q=void 0}return a=a.i.splice(0,g),h.G=a,q}function xg(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;V||w(),M||(V(),M=!0),b.add(h,a),a.A=0}}function kd(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=ks(c(a.Da,a),bg(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Eg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=ks(c(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ke(10),Al(this),Eg(this))};function Nd(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Eg(a){a.g=new Rr(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=On(a.na);Ce(h,"RID","rpc"),Ce(h,"SID",a.M),Ce(h,"AID",a.K),Ce(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&Ce(h,"TO",a.ia),Ce(h,"TYPE","xmlhttp"),Bo(a,h),a.u&&a.o&&Rd(h,a.u,a.o),a.O&&(a.g.H=a.O);var g=a.g;a=a.ba,g.M=1,g.A=Sl(On(h)),g.u=null,g.R=!0,Ym(g,a)}t.Va=function(){this.C!=null&&(this.C=null,Al(this),kd(this),Ke(19))};function Pl(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Tg(a,h){var g=null;if(a.g==h){Pl(a),Nd(a),a.g=null;var S=2}else if(Sd(a.h,h))g=h.G,ng(a.h,h),S=1;else return;if(a.I!=0){if(h.o)if(S==1){g=h.u?h.u.length:0,h=Date.now()-h.F;var O=a.D;S=gi(),st(S,new hn(S,g)),Rl(a)}else xg(a);else if(O=h.m,O==3||O==0&&h.X>0||!(S==1&&QT(a,h)||S==2&&kd(a)))switch(g&&g.length>0&&(h=a.h,h.i=h.i.concat(g)),O){case 1:Vs(a,5);break;case 4:Vs(a,10);break;case 3:Vs(a,6);break;default:Vs(a,2)}}}function bg(a,h){let g=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(g*=2),g*h}function Vs(a,h){if(a.j.info("Error code "+h),h==2){var g=c(a.bb,a),S=a.Ua;const O=!S;S=new Pr(S||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Oo(S,"https"),Sl(S),O?UT(S.toString(),g):zT(S.toString(),g)}else Ke(2);a.I=0,a.l&&a.l.pa(h),Sg(a),vg(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function Sg(a){if(a.I=0,a.ja=[],a.l){const h=rg(a.h);(h.length!=0||a.i.length!=0)&&(C(a.ja,h),C(a.ja,a.i),a.h.i.length=0,p(a.i),a.i.length=0),a.l.oa()}}function Cg(a,h,g){var S=g instanceof Pr?On(g):new Pr(g);if(S.g!="")h&&(S.g=h+"."+S.g),Mo(S,S.u);else{var O=o.location;S=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;const L=new Pr(null);S&&Oo(L,S),h&&(L.g=h),O&&Mo(L,O),g&&(L.h=g),S=L}return g=a.G,h=a.wa,g&&h&&Ce(S,g,h),Ce(S,"VER",a.ka),Bo(a,S),S}function Ig(a,h,g){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new Fe(new Ad({ab:g})):new Fe(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ag(){}t=Ag.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kl(){}kl.prototype.g=function(a,h){return new Ht(a,h)};function Ht(a,h){De.call(this),this.g=new yg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!P(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!P(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new vi(this)}f(Ht,De),Ht.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Pd(this.g)},Ht.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.v&&(g={},g.__data__=Po(a),a=g);h.i.push(new DT(h.Ya++,a)),h.I==3&&Rl(h)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Pd(this.g),delete this.g,Ht.Z.N.call(this)};function Rg(a){Dn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const g in h){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}f(Rg,Dn);function Pg(){mi.call(this),this.status=1}f(Pg,mi);function vi(a){this.g=a}f(vi,Ag),vi.prototype.ra=function(){st(this.g,"a")},vi.prototype.qa=function(a){st(this.g,new Rg(a))},vi.prototype.pa=function(a){st(this.g,new Pg)},vi.prototype.oa=function(){st(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,tE=function(){return new kl},eE=function(){return gi()},Zx=Nt,Mf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tn.NO_ERROR=0,tn.TIMEOUT=8,tn.HTTP_ERROR=6,Su=tn,Dt.COMPLETE="complete",Jx=Dt,ko.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",De.prototype.listen=De.prototype.J,ia=ko,Fe.prototype.listenOnce=Fe.prototype.K,Fe.prototype.getLastError=Fe.prototype.Ha,Fe.prototype.getLastErrorCode=Fe.prototype.ya,Fe.prototype.getStatus=Fe.prototype.ca,Fe.prototype.getResponseJson=Fe.prototype.La,Fe.prototype.getResponseText=Fe.prototype.la,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Fa,Xx=Fe}).apply(typeof nu<"u"?nu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="12.10.0";function QN(t){So=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Hx("@firebase/firestore");function _i(){return ii.logLevel}function G(t,...e){if(ii.logLevel<=ye.DEBUG){const n=e.map(ym);ii.debug(`Firestore (${So}): ${t}`,...n)}}function Er(t,...e){if(ii.logLevel<=ye.ERROR){const n=e.map(ym);ii.error(`Firestore (${So}): ${t}`,...n)}}function oi(t,...e){if(ii.logLevel<=ye.WARN){const n=e.map(ym);ii.warn(`Firestore (${So}): ${t}`,...n)}}function ym(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nE(t,r,n)}function nE(t,e,n){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Er(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||nE(e,s,r)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class KN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YN{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new us;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new us,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new us)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new rE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new xt(e)}}class XN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class JN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new XN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,NN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=e4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Lf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return wh(s)===wh(i)?fe(s,i):wh(s)?1:-1}return fe(t.length,e.length)}const t4=55296,n4=57343;function wh(t){const e=t.charCodeAt(0);return e>=t4&&e<=n4}function ho(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="__name__";class Fn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Fn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return fe(e.length,n.length)}static compareSegments(e,n){const r=Fn.isNumericId(e),s=Fn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fn.extractNumericId(e).compare(Fn.extractNumericId(n)):Lf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class Oe extends Fn{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const r4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Fn{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return r4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fv}static keyField(){return new ht([Fv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Oe.fromString(e))}static fromName(e){return new J(Oe.fromString(e).popFirst(5))}static empty(){return new J(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i4(t,e,n,r){if(e===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $v(t){if(!J.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(t);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function ml(t,e){if(!sE(t))throw new Y(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-62135596800,zv=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zv);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Uv)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zv}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ml(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Qe("string",Re._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new Re(0,0))}static max(){return new re(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=-1;function o4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=re.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new ys(s,J.empty(),e)}function a4(t){return new ys(t.readTime,t.key,Xa)}class ys{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ys(re.min(),J.empty(),Xa)}static max(){return new ys(re.max(),J.empty(),Xa)}}function l4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==u4)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function d4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ed.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=-1;function td(t){return t==null}function fc(t){return t===0&&1/t==-1/0}function h4(t){return typeof t=="number"&&Number.isInteger(t)&&!fc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="";function f4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bv(e)),e=p4(t.get(n),e);return Bv(e)}function p4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case iE:n+="";break;default:n+=i}}return n}function Bv(t){return t+iE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dt.RED,this.left=s??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(e){return new Wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class Wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new nt(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aE("Invalid base64 string: "+i):i}}(e);return new mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const m4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=m4.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="server_timestamp",uE="__type__",cE="__previous_value__",dE="__local_write_time__";function xm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uE])==null?void 0:r.stringValue)===lE}function nd(t){const e=t.mapValue.fields[cE];return xm(e)?nd(e):e}function Ja(t){const e=vs(t.mapValue.fields[dE].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r,s,i,o,l,u,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=f}}const pc="(default)";class Za{constructor(e,n){this.projectId=e,this.database=n||pc}static empty(){return new Za("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}function y4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__type__",fE="__max__",su={mapValue:{fields:{__type__:{stringValue:fE}}}},pE="__vector__",mc="value";function _s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xm(t)?4:w4(t)?9007199254740991:v4(t)?10:11:ee(28295,{value:t})}function er(t,e){if(t===e)return!0;const n=_s(t);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ja(t).isEqual(Ja(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=vs(s.timestampValue),l=vs(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ws(s.bytesValue).isEqual(ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ze(s.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(s.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ze(s.integerValue)===ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ze(s.doubleValue),l=ze(i.doubleValue);return o===l?fc(o)===fc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Hv(o)!==Hv(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!er(o[u],l[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function el(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=_s(t),r=_s(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=ze(i.integerValue||i.doubleValue),u=ze(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return qv(t.timestampValue,e.timestampValue);case 4:return qv(Ja(t),Ja(e));case 5:return Lf(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ws(i),u=ws(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=fe(l[c],u[c]);if(d!==0)return d}return fe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=fe(ze(i.latitude),ze(o.latitude));return l!==0?l:fe(ze(i.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,C,_;const l=i.fields||{},u=o.fields||{},c=(m=l[mc])==null?void 0:m.arrayValue,d=(p=u[mc])==null?void 0:p.arrayValue,f=fe(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return f!==0?f:Qv(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===su.mapValue&&o===su.mapValue)return 0;if(i===su.mapValue)return 1;if(o===su.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=Lf(u[f],d[f]);if(m!==0)return m;const p=fo(l[u[f]],c[d[f]]);if(p!==0)return p}return fe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function qv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=vs(t),r=vs(e),s=fe(n.seconds,r.seconds);return s!==0?s:fe(n.nanos,r.nanos)}function Qv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=fo(n[s],r[s]);if(i)return i}return fe(n.length,r.length)}function po(t){return jf(t)}function jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${jf(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function Cu(t){switch(_s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nd(t);return e?16+Cu(e):16;case 5:return 2*t.stringValue.length;case 6:return ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Cu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Cs(r.fields,(i,o)=>{s+=i.length+Cu(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function Ff(t){return!!t&&"integerValue"in t}function Em(t){return!!t&&"arrayValue"in t}function Gv(t){return!!t&&"nullValue"in t}function Kv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Iu(t){return!!t&&"mapValue"in t}function v4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hE])==null?void 0:r.stringValue)===pE}function xa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xa(t.arrayValue.values[n]);return e}return{...t}}function w4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Iu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(n)}setAll(e){let n=ht.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=xa(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Iu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Iu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Lt(xa(this.value))}}function mE(t){const e=[];return Cs(t.fields,(n,r)=>{const s=new ht([n]);if(Iu(r)){const i=mE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tt(e,0,re.min(),re.min(),re.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,s){return new Tt(e,1,n,re.min(),r,s,0)}static newNoDocument(e,n){return new Tt(e,2,n,re.min(),re.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,re.min(),re.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.position=e,this.inclusive=n}}function Yv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=fo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function _4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{}class Ze extends gE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E4(e,n,r):n==="array-contains"?new S4(e,r):n==="in"?new C4(e,r):n==="not-in"?new I4(e,r):n==="array-contains-any"?new A4(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new T4(e,r):new b4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends gE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return yE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(t){return t.op==="and"}function vE(t){return x4(t)&&yE(t)}function x4(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function $f(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+po(t.value);if(vE(t))return t.filters.map(e=>$f(e)).join(",");{const e=t.filters.map(n=>$f(n)).join(",");return`${t.op}(${e})`}}function wE(t,e){return t instanceof Ze?function(r,s){return s instanceof Ze&&r.op===s.op&&r.field.isEqual(s.field)&&er(r.value,s.value)}(t,e):t instanceof tr?function(r,s){return s instanceof tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&wE(o,s.filters[l]),!0):!1}(t,e):void ee(19439)}function _E(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(_E).join(" ,")+"}"}(t):"Filter"}class E4 extends Ze{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class T4 extends Ze{constructor(e,n){super(e,"in",n),this.keys=xE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b4 extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=xE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class S4 extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Em(n)&&el(n.arrayValue,this.value)}}class C4 extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&el(this.value.arrayValue,n)}}class I4 extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!el(this.value.arrayValue,n)}}class A4 extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Em(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>el(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Jv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new R4(t,e,n,r,s,i,o)}function Tm(t){const e=oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$f(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),e.Te=n}return e.Te}function bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xv(t.startAt,e.startAt)&&Xv(t.endAt,e.endAt)}function Uf(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function P4(t,e,n,r,s,i,o,l){return new rd(t,e,n,r,s,i,o,l)}function sd(t){return new rd(t)}function Zv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function k4(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function N4(t){return t.collectionGroup!==null}function Ea(t){const e=oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new nt(ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new yc(i,r))}),n.has(ht.keyField().canonicalString())||e.Ie.push(new yc(ht.keyField(),r))}return e.Ie}function Kn(t){const e=oe(t);return e.Ee||(e.Ee=D4(e,Ea(t))),e.Ee}function D4(t,e){if(t.limitType==="F")return Jv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new yc(s.field,i)});const n=t.endAt?new gc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gc(t.startAt.position,t.startAt.inclusive):null;return Jv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zf(t,e,n){return new rd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function id(t,e){return bm(Kn(t),Kn(e))&&t.limitType===e.limitType}function EE(t){return`${Tm(Kn(t))}|lt:${t.limitType}`}function xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>_E(s)).join(", ")}]`),td(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>po(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>po(s)).join(",")),`Target(${r})`}(Kn(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ea(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const c=Yv(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ea(r),s)||r.endAt&&!function(o,l,u){const c=Yv(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ea(r),s))}(t,e)}function V4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TE(t){return(e,n)=>{let r=!1;for(const s of Ea(t)){const i=O4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function O4(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),c=l.data.field(i);return u!==null&&c!==null?fo(u,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new je(J.comparator);function Tr(){return M4}const bE=new je(J.comparator);function oa(...t){let e=bE;for(const n of t)e=e.insert(n.key,n);return e}function SE(t){let e=bE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zs(){return Ta()}function CE(){return Ta()}function Ta(){return new hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const L4=new je(J.comparator),j4=new nt(J.comparator);function pe(...t){let e=j4;for(const n of t)e=e.add(n);return e}const F4=new nt(fe);function $4(){return F4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function IE(t){return{integerValue:""+t}}function U4(t,e){return h4(e)?IE(e):Sm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function z4(t,e,n){return t instanceof vc?function(s,i){const o={fields:{[uE]:{stringValue:lE},[dE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xm(i)&&(i=nd(i)),i&&(o.fields[cE]=i),{mapValue:o}}(n,e):t instanceof tl?RE(t,e):t instanceof nl?PE(t,e):function(s,i){const o=AE(s,i),l=e0(o)+e0(s.Ae);return Ff(o)&&Ff(s.Ae)?IE(l):Sm(s.serializer,l)}(t,e)}function B4(t,e,n){return t instanceof tl?RE(t,e):t instanceof nl?PE(t,e):n}function AE(t,e){return t instanceof wc?function(r){return Ff(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class vc extends ad{}class tl extends ad{constructor(e){super(),this.elements=e}}function RE(t,e){const n=kE(e);for(const r of t.elements)n.some(s=>er(s,r))||n.push(r);return{arrayValue:{values:n}}}class nl extends ad{constructor(e){super(),this.elements=e}}function PE(t,e){let n=kE(e);for(const r of t.elements)n=n.filter(s=>!er(s,r));return{arrayValue:{values:n}}}class wc extends ad{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function e0(t){return ze(t.integerValue||t.doubleValue)}function kE(t){return Em(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function H4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tl&&s instanceof tl||r instanceof nl&&s instanceof nl?ho(r.elements,s.elements,er):r instanceof wc&&s instanceof wc?er(r.Ae,s.Ae):r instanceof vc&&s instanceof vc}(t.transform,e.transform)}class W4{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function NE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VE(t.key,Yn.none()):new gl(t.key,t.data,Yn.none());{const n=t.data,r=Lt.empty();let s=new nt(ht.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Is(t.key,r,new Gt(s.toArray()),Yn.none())}}function q4(t,e,n){t instanceof gl?function(s,i,o){const l=s.value.clone(),u=n0(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Is?function(s,i,o){if(!Au(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=n0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(DE(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ba(t,e,n,r){return t instanceof gl?function(i,o,l,u){if(!Au(i.precondition,o))return l;const c=i.value.clone(),d=r0(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Is?function(i,o,l,u){if(!Au(i.precondition,o))return l;const c=r0(i.fieldTransforms,u,o),d=o.data;return d.setAll(DE(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Au(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Q4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=AE(r.transform,s||null);i!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,i))}return n||null}function t0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ho(r,s,(i,o)=>H4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gl extends ld{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Is extends ld{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function DE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n0(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,B4(o,l,n[s]))}return r}function r0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,z4(i,o,e))}return r}class VE extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G4 extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&q4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ba(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CE();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=NE(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,r)=>t0(n,r))&&ho(this.baseMutations,e.baseMutations,(n,r)=>t0(n,r))}}class Cm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return L4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Cm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,ge;function J4(t){switch(t){case z.OK:return ee(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function OE(t){if(t===void 0)return Er("GRPC error has no .code"),z.UNKNOWN;switch(t){case We.OK:return z.OK;case We.CANCELLED:return z.CANCELLED;case We.UNKNOWN:return z.UNKNOWN;case We.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case We.INTERNAL:return z.INTERNAL;case We.UNAVAILABLE:return z.UNAVAILABLE;case We.UNAUTHENTICATED:return z.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case We.NOT_FOUND:return z.NOT_FOUND;case We.ALREADY_EXISTS:return z.ALREADY_EXISTS;case We.PERMISSION_DENIED:return z.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case We.ABORTED:return z.ABORTED;case We.OUT_OF_RANGE:return z.OUT_OF_RANGE;case We.UNIMPLEMENTED:return z.UNIMPLEMENTED;case We.DATA_LOSS:return z.DATA_LOSS;default:return ee(39323,{code:t})}}(ge=We||(We={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new ls([4294967295,4294967295],0);function s0(t){const e=Z4().encode(t),n=new Yx;return n.update(e),new Uint8Array(n.digest())}function i0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ls([n,r],0),new ls([s,i],0)]}class Im{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new aa(`Invalid padding: ${n}`);if(r<0)throw new aa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new aa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ls.fromNumber(r)));return s.compare(eD)===1&&(s=new ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=s0(e),[r,s]=i0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Im(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=s0(e),[r,s]=i0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(re.min(),s,new je(fe),Tr(),pe())}}class yl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class ME{constructor(e,n){this.targetId=e,this.Ce=n}}class LE{constructor(e,n,r=mt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class o0{constructor(){this.ve=0,this.Fe=a0(),this.Me=mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),r=pe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new yl(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=a0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class tD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tr(),this.He=iu(),this.Je=iu(),this.Ze=new je(fe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Uf(i))if(r===0){const o=new J(i.path);this.et(n,o,Tt.newNoDocument(o,re.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ws(r).toUint8Array()}catch(u){if(u instanceof aE)return oi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Im(o,s,i)}catch(u){return oi(u instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Uf(l.target)){const u=new J(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Tt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=pe();this.Je.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new ud(e,n,this.Ze,this.je,r);return this.je=Tr(),this.He=iu(),this.Je=iu(),this.Ze=new je(fe),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new o0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new nt(fe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new nt(fe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function iu(){return new je(J.comparator)}function a0(){return new je(J.comparator)}const nD={asc:"ASCENDING",desc:"DESCENDING"},rD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sD={and:"AND",or:"OR"};class iD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bf(t,e){return t.useProto3Json||td(e)?e:{value:e}}function _c(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oD(t,e){return _c(t,e.toTimestamp())}function Xn(t){return xe(!!t,49232),re.fromTimestamp(function(n){const r=vs(n);return new Re(r.seconds,r.nanos)}(t))}function Am(t,e){return Hf(t,e).canonicalString()}function Hf(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FE(t){const e=Oe.fromString(t);return xe(HE(e),10190,{key:e.toString()}),e}function Wf(t,e){return Am(t.databaseId,e.path)}function _h(t,e){const n=FE(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(UE(n))}function $E(t,e){return Am(t.databaseId,e)}function aD(t){const e=FE(t);return e.length===4?Oe.emptyPath():UE(e)}function qf(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UE(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function l0(t,e,n){return{name:Wf(t,e),fields:n.value.mapValue.fields}}function lD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(xe(d===void 0||typeof d=="string",58123),mt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?z.UNKNOWN:OE(c.code);return new Y(d,c.message||"")}(o);n=new LE(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=_h(t,r.document.name),i=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):re.min(),l=new Lt({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(s,i,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ru(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=_h(t,r.document),i=r.readTime?Xn(r.readTime):re.min(),o=Tt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Ru([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=_h(t,r.document),i=r.removedTargetIds||[];n=new Ru([],i,s,null)}else{if(!("filter"in e))return ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new X4(s,i),l=r.targetId;n=new ME(l,o)}}return n}function uD(t,e){let n;if(e instanceof gl)n={update:l0(t,e.key,e.value)};else if(e instanceof VE)n={delete:Wf(t,e.key)};else if(e instanceof Is)n={update:l0(t,e.key,e.data),updateMask:vD(e.fieldMask)};else{if(!(e instanceof G4))return ee(16599,{dt:e.type});n={verify:Wf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof vc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof wc)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:oD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function cD(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Xn(s.updateTime):Xn(i);return o.isEqual(re.min())&&(o=Xn(i)),new W4(o,s.transformResults||[])}(n,e))):[]}function dD(t,e){return{documents:[$E(t,e.path)]}}function hD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$E(t,s);const i=function(c){if(c.length!==0)return BE(tr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Ei(m.field),direction:mD(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Bf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function fD(t){let e=aD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=zE(f);return m instanceof tr&&vE(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(C){return new yc(Ti(C.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,td(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,p=f.values||[];return new gc(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,p=f.values||[];return new gc(p,m)}(n.endAt)),P4(e,s,o,i,l,"F",u,c)}function pD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ti(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ti(n.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ti(n.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ti(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Ti(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>zE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function mD(t){return nD[t]}function gD(t){return rD[t]}function yD(t){return sD[t]}function Ei(t){return{fieldPath:t.canonicalString()}}function Ti(t){return ht.fromServerFormat(t.fieldPath)}function BE(t){return t instanceof Ze?function(n){if(n.op==="=="){if(Kv(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NAN"}};if(Gv(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kv(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NAN"}};if(Gv(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ei(n.field),op:gD(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(s=>BE(s));return r.length===1?r[0]:{compositeFilter:{op:yD(n.op),filters:r}}}(t):ee(54877,{filter:t})}function vD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function WE(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,s,i=re.min(),o=re.min(),l=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.yt=e}}function _D(t){const e=fD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.Sn=new ED}addToCollectionParentIndex(e,n){return this.Sn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ys.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class ED{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class Ot{static withCacheSize(e){return new Ot(e,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot.DEFAULT_COLLECTION_PERCENTILE=10,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ot.DEFAULT=new Ot(qE,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ot.DISABLED=new Ot(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new mo(0)}static ar(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="LruGarbageCollector",TD=1048576;function d0([t,e],[n,r]){const s=fe(t,n);return s===0?fe(e,r):s}class bD{constructor(e){this.Pr=e,this.buffer=new nt(d0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){G(c0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?G(c0,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)})}}class CD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(ed.ce);const r=new bD(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(u0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),_i()<=ye.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function ID(t,e){return new CD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ba(r.mutation,s,Gt.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=oa();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Tr();const o=Ta(),l=function(){return Ta()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Is)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ba(d.mutation,c,d.mutation.getFieldMask(),Re.now())):o.set(c.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>l.set(c,new RD(d,o.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Ta();let s=new je((o,l)=>o-l),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Gt.empty();d=l.applyToLocalView(c,d),r.set(u,d);const f=(s.get(l.batchId)||pe()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,f=CE();d.forEach(m=>{if(!i.has(m)){const p=NE(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return k4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(zs());let l=Xa,u=i;return o.next(c=>$.forEach(c,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,pe())).next(d=>({batchId:l,changes:SE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=oa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=oa();return this.indexManager.getCollectionParents(e,i).next(l=>$.forEach(l,u=>{const c=function(f,m){return new rd(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Tt.newInvalidDocument(d)))});let l=oa();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&ba(d.mutation,c,Gt.empty(),Re.now()),od(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Xn(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:_D(s.bundledQuery),readTime:Xn(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.overlays=new je(J.comparator),this.Lr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zs();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=zs(),i=n.length+1,o=new J(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=zs(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=zs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=s)););return $.resolve(l)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Y4(n,r));let i=this.Lr.get(n);i===void 0&&(i=pe(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.kr=new nt(at.Kr),this.qr=new nt(at.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new at(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new at(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new J(new Oe([])),r=new at(n,e),s=new at(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new J(new Oe([])),r=new at(n,e),s=new at(n,e+1);let i=pe();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new at(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return J.comparator(e.key,n.key)||fe(e.Hr,n.Hr)}static Ur(e,n){return fe(e.Hr,n.Hr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new nt(at.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new K4(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Jr=this.Jr.add(new at(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?_m:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),s=new at(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const l=this.Zr(o.Hr);i.push(l)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(fe);return n.forEach(s=>{const i=new at(s,0),o=new at(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],l=>{r=r.add(l.Hr)})}),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new at(new J(i),0);let l=new nt(fe);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.Hr)),!0)},o),$.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,s=>{const i=new at(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new at(n,0),s=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.ti=e,this.docs=function(){return new je(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=Tr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Tr();const o=n.path,l=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||l4(a4(d),r)<=0||(s.has(d.key)||od(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ni(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MD(this)}getSize(e){return $.resolve(this.size)}}class MD extends AD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.persistence=e,this.ri=new hi(n=>Tm(n),bm),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.ii=0,this.si=new Rm,this.targetCount=0,this.oi=mo._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.lr(n),$.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this._i={},this.overlays={},this.ai=new ed(0),this.ui=!1,this.ui=!0,this.ci=new DD,this.referenceDelegate=e(this),this.li=new LD(this),this.indexManager=new xD,this.remoteDocumentCache=function(s){return new OD(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new wD(n),this.Pi=new kD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ND,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new VD(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new jD(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return $.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class jD extends c4{constructor(e){super(),this.currentSequenceNumber=e}}class Pm{constructor(e){this.persistence=e,this.Ri=new Rm,this.Ai=null}static Vi(e){return new Pm(e)}get di(){if(this.Ai)return this.Ai;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,r=>{const s=J.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,re.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class xc{constructor(e,n){this.persistence=e,this.fi=new hi(r=>f4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ID(this,n)}static Vi(e,n){return new xc(e,n)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return $.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,re.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cu(e.data.value)),n}wr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new km(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return Rk()?8:d4(Ik())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new FD;return this.ys(e,n,o).next(l=>{if(i.result=l,this.As)return this.ws(e,n,o,l.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(_i()<=ye.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(_i()<=ye.DEBUG&&G("QueryEngine","Query:",xi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(_i()<=ye.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):$.resolve())}gs(e,n){if(Zv(n))return $.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=zf(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.fs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,o,u.readTime)?this.gs(e,zf(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,r,s){return Zv(n)||s.isEqual(re.min())?$.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?$.resolve(null):(_i()<=ye.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xi(n)),this.Ds(e,o,n,o4(s,Xa)).next(l=>l))})}bs(e,n){let r=new nt(TE(e));return n.forEach((s,i)=>{od(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return _i()<=ye.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",xi(n)),this.fs.getDocumentsMatchingQuery(e,n,ys.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="LocalStore",UD=3e8;class zD{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new je(fe),this.Fs=new hi(i=>Tm(i),bm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function BD(t,e,n,r){return new zD(t,e,n,r)}async function GE(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=pe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:l}))})})}function HD(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const f=c.batch,m=f.keys();let p=$.resolve();return m.forEach(C=>{p=p.next(()=>d.getEntry(u,C)).next(_=>{const E=c.docVersions.get(C);xe(E!==null,48541),_.version.compareTo(E)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=pe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function KE(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function WD(t,e){const n=oe(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const l=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;l.push(n.li.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(mt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(_,E,v){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=UD?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&l.push(n.li.updateTargetData(i,p))});let u=Tr(),c=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(qD(i,o,e.documentUpdates).next(d=>{u=d.Bs,c=d.Ls})),!r.isEqual(re.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return $.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.vs=s,i))}function qD(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Tr();return n.forEach((l,u)=>{const c=i.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):G(Nm,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:o,Ls:s}})}function QD(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_m),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GD(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new Xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Qf(t,e,n){const r=oe(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Io(o))throw o;G(Nm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function h0(t,e,n){const r=oe(t);let s=re.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=oe(u),m=f.Fs.get(d);return m!==void 0?$.resolve(f.vs.get(m)):f.li.getTargetData(c,d)}(r,o,Kn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:re.min(),n?i:pe())).next(l=>(KD(r,V4(e),l),{documents:l,ks:i})))}function KD(t,e,n){let r=t.Ms.get(e)||re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class f0{constructor(){this.activeTargetIds=$4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YD{constructor(){this.vo=new f0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new f0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="ConnectivityMonitor";class m0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){G(p0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){G(p0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou=null;function Gf(){return ou===null?ou=function(){return 268435456+Math.round(2147483648*Math.random())}():ou++,"0x"+ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="RestConnection",JD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ZD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===pc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Gf(),l=this.Qo(e,n.toUriEncodedString());G(xh,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,i);const{host:c}=new URL(l),d=mm(c);return this.zo(e,l,u,r,d).then(f=>(G(xh,`Received RPC '${e}' ${o}: `,f),f),f=>{throw oi(xh,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=JD[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection",ea=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Wi extends ZD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Wi.c_){const e=eE();ea(e,Zx.STAT_EVENT,n=>{n.stat===Mf.PROXY?G(wt,"STAT_EVENT: detected buffering proxy"):n.stat===Mf.NOPROXY&&G(wt,"STAT_EVENT: detected no buffering proxy")}),Wi.c_=!0}}zo(e,n,r,s,i){const o=Gf();return new Promise((l,u)=>{const c=new Xx;c.setWithCredentials(!0),c.listenOnce(Jx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Su.NO_ERROR:const f=c.getResponseJson();G(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Su.TIMEOUT:G(wt,`RPC '${e}' ${o} timed out`),u(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case Su.HTTP_ERROR:const m=c.getStatus();if(G(wt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const C=p==null?void 0:p.error;if(C&&C.status&&C.message){const _=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(y)>=0?y:z.UNKNOWN}(C.status);u(new Y(_,C.message))}else u(new Y(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y(z.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(wt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(wt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Gf(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");G(wt,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);this.I_(d);let f=!1,m=!1;const p=new eV({Ho:C=>{m?G(wt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(f||(G(wt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),G(wt,`RPC '${e}' stream ${s} sending:`,C),d.send(C))},Jo:()=>d.close()});return ea(d,ia.EventType.OPEN,()=>{m||(G(wt,`RPC '${e}' stream ${s} transport opened.`),p.i_())}),ea(d,ia.EventType.CLOSE,()=>{m||(m=!0,G(wt,`RPC '${e}' stream ${s} transport closed`),p.o_(),this.E_(d))}),ea(d,ia.EventType.ERROR,C=>{m||(m=!0,oi(wt,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),p.o_(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),ea(d,ia.EventType.MESSAGE,C=>{var _;if(!m){const E=C.data[0];xe(!!E,16349);const v=E,y=(v==null?void 0:v.error)||((_=v[0])==null?void 0:_.error);if(y){G(wt,`RPC '${e}' stream ${s} received error:`,y);const T=y.status;let D=function(b){const w=We[b];if(w!==void 0)return OE(w)}(T),V=y.message;T==="NOT_FOUND"&&V.includes("database")&&V.includes("does not exist")&&V.includes(this.databaseId.database)&&oi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=z.INTERNAL,V="Unknown error status: "+T+" with message "+y.message),m=!0,p.o_(new Y(D,V)),d.close()}else G(wt,`RPC '${e}' stream ${s} received:`,E),p.__(E)}}),Wi.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return tE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){return new Wi(t)}function Eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return new iD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi.c_=!1;class YE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="PersistentStream";class XE{constructor(e,n,r,s,i,o,l,u){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(g0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(G(g0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nV extends XE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lD(this.serializer,e),r=function(i){if(!("targetChange"in i))return re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Xn(o.readTime):re.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=qf(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=Uf(u)?{documents:dD(i,u)}:{query:hD(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=jE(i,o.resumeToken);const c=Bf(i,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){l.readTime=_c(i,o.snapshotVersion.toTimestamp());const c=Bf(i,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=pD(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=qf(this.serializer),n.removeTarget=e,this.K_(n)}}class rV extends XE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cD(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=qf(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uD(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{}class iV extends sV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Hf(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(z.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.jo(e,Hf(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function oV(t,e,n,r){return new iV(t,e,n,r)}class aV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Er(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="RemoteStore";class lV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{fi(this)&&(G(ai,"Restarting streams for network reachability change."),await async function(u){const c=oe(u);c.Ea.add(4),await vl(c),c.Va.set("Unknown"),c.Ea.delete(4),await dd(c)}(this))})}),this.Va=new aV(r,s)}}async function dd(t){if(fi(t))for(const e of t.Ra)await e(!0)}async function vl(t){for(const e of t.Ra)await e(!1)}function JE(t,e){const n=oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mm(n)?Om(n):Ao(n).O_()&&Vm(n,e))}function Dm(t,e){const n=oe(t),r=Ao(n);n.Ia.delete(e),r.O_()&&ZE(n,e),n.Ia.size===0&&(r.O_()?r.L_():fi(n)&&n.Va.set("Unknown"))}function Vm(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(t).Z_(e)}function ZE(t,e){t.da.$e(e),Ao(t).X_(e)}function Om(t){t.da=new tD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ao(t).start(),t.Va.ua()}function Mm(t){return fi(t)&&!Ao(t).x_()&&t.Ia.size>0}function fi(t){return oe(t).Ea.size===0}function eT(t){t.da=void 0}async function uV(t){t.Va.set("Online")}async function cV(t){t.Ia.forEach((e,n)=>{Vm(t,e)})}async function dV(t,e){eT(t),Mm(t)?(t.Va.ha(e),Om(t)):t.Va.set("Unknown")}async function hV(t,e,n){if(t.Va.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.da.removeTarget(l))}(t,e)}catch(r){G(ai,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ec(t,r)}else if(e instanceof Ru?t.da.Xe(e):e instanceof ME?t.da.st(e):t.da.tt(e),!n.isEqual(re.min()))try{const r=await KE(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.da.Tt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(mt.EMPTY_BYTE_STRING,d.snapshotVersion)),ZE(i,u);const f=new Xr(d.target,u,c,d.sequenceNumber);Vm(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G(ai,"Failed to raise snapshot:",r),await Ec(t,r)}}async function Ec(t,e,n){if(!Io(e))throw e;t.Ea.add(1),await vl(t),t.Va.set("Offline"),n||(n=()=>KE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ai,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dd(t)})}function tT(t,e){return e().catch(n=>Ec(t,n,e))}async function hd(t){const e=oe(t),n=xs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_m;for(;fV(e);)try{const s=await QD(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,pV(e,s)}catch(s){await Ec(e,s)}nT(e)&&rT(e)}function fV(t){return fi(t)&&t.Ta.length<10}function pV(t,e){t.Ta.push(e);const n=xs(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function nT(t){return fi(t)&&!xs(t).x_()&&t.Ta.length>0}function rT(t){xs(t).start()}async function mV(t){xs(t).ra()}async function gV(t){const e=xs(t);for(const n of t.Ta)e.ea(n.mutations)}async function yV(t,e,n){const r=t.Ta.shift(),s=Cm.from(r,e,n);await tT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hd(t)}async function vV(t,e){e&&xs(t).Y_&&await async function(r,s){if(function(o){return J4(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();xs(r).B_(),await tT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await hd(r)}}(t,e),nT(t)&&rT(t)}async function y0(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),G(ai,"RemoteStore received new credentials");const r=fi(n);n.Ea.add(3),await vl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dd(n)}async function wV(t,e){const n=oe(t);e?(n.Ea.delete(2),await dd(n)):e||(n.Ea.add(2),await vl(n),n.Va.set("Unknown"))}function Ao(t){return t.ma||(t.ma=function(n,r,s){const i=oe(n);return i.sa(),new nV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:uV.bind(null,t),Yo:cV.bind(null,t),t_:dV.bind(null,t),J_:hV.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Mm(t)?Om(t):t.Va.set("Unknown")):(await t.ma.stop(),eT(t))})),t.ma}function xs(t){return t.fa||(t.fa=function(n,r,s){const i=oe(n);return i.sa(),new rV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:mV.bind(null,t),t_:vV.bind(null,t),ta:gV.bind(null,t),na:yV.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await hd(t)):(await t.fa.stop(),t.Ta.length>0&&(G(ai,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Lm(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(t,e){if(Er("AsyncQueue",`${e}: ${t}`),Io(t))return new Y(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{static emptySet(e){return new qi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=oa(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.ga=new je(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class go{constructor(e,n,r,s,i,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new go(e,n,qi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class xV{constructor(){this.queries=w0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=oe(n),i=s.queries;s.queries=w0(),i.forEach((o,l)=>{for(const u of l.ba)u.onError(r)})})(this,new Y(z.ABORTED,"Firestore shutting down"))}}function w0(){return new hi(t=>EE(t),id)}async function sT(t,e){const n=oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new _V,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=jm(o,`Initialization of query '${xi(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Fm(n)}async function iT(t,e){const n=oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function EV(t,e){const n=oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.ba)l.Fa(s)&&(r=!0);o.wa=s}}r&&Fm(n)}function TV(t,e,n){const r=oe(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Fm(t){t.Ca.forEach(e=>{e.next()})}var Kf,_0;(_0=Kf||(Kf={})).Ma="default",_0.Cache="cache";class oT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.key=e}}class lT{constructor(e){this.key=e}}class bV{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pe(),this.mutatedKeys=pe(),this.eu=TE(e),this.tu=new qi(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new v0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=od(this.query,f)?f:null,C=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;m&&p?m.data.isEqual(p.data)?C!==_&&(r.track({type:3,doc:p}),E=!0):this.su(m,p)||(r.track({type:2,doc:p}),E=!0,(u&&this.eu(p,u)>0||c&&this.eu(p,c)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),E=!0):m&&!p&&(r.track({type:1,doc:m}),E=!0,(u||c)&&(l=!0)),E&&(p?(o=o.add(p),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(p,C){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Vt:E})}};return _(p)-_(C)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,o.length!==0||c?{snapshot:new go(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new lT(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new aT(r))}),n}cu(e){this.Za=e.ks,this.Ya=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $m="SyncEngine";class SV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CV{constructor(e){this.key=e,this.hu=!1}}class IV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hi(l=>EE(l),id),this.Iu=new Map,this.Eu=new Set,this.Ru=new je(J.comparator),this.Au=new Map,this.Vu=new Rm,this.du={},this.mu=new Map,this.fu=mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AV(t,e,n=!0){const r=pT(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await uT(r,e,n,!0),s}async function RV(t,e){const n=pT(t);await uT(n,e,!0,!1)}async function uT(t,e,n,r){const s=await GD(t.localStore,Kn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await PV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&JE(t.remoteStore,s),l}async function PV(t,e,n,r,s){t.pu=(f,m,p)=>async function(_,E,v,y){let T=E.view.ru(v);T.Ss&&(T=await h0(_.localStore,E.query,!1).then(({documents:b})=>E.view.ru(b,T)));const D=y&&y.targetChanges.get(E.targetId),V=y&&y.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,_.isPrimaryClient,D,V);return E0(_,E.targetId,M.au),M.snapshot}(t,f,m,p);const i=await h0(t.localStore,e,!0),o=new bV(e,i.ks),l=o.ru(i.documents),u=yl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(l,t.isPrimaryClient,u);E0(t,n,c.au);const d=new SV(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function kV(t,e,n){const r=oe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!id(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Dm(r.remoteStore,s.targetId),Yf(r,s.targetId)}).catch(Co)):(Yf(r,s.targetId),await Qf(r.localStore,s.targetId,!0))}async function NV(t,e){const n=oe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dm(n.remoteStore,r.targetId))}async function DV(t,e,n){const r=$V(t);try{const s=await function(o,l){const u=oe(o),c=Re.now(),d=l.reduce((p,C)=>p.add(C.key),pe());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let C=Tr(),_=pe();return u.xs.getEntries(p,d).next(E=>{C=E,C.forEach((v,y)=>{y.isValidDocument()||(_=_.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,C)).next(E=>{f=E;const v=[];for(const y of l){const T=Q4(y,f.get(y.key).overlayedDocument);T!=null&&v.push(new Is(y.key,T,mE(T.value.mapValue),Yn.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,v,l)}).next(E=>{m=E;const v=E.applyToLocalDocumentSet(f,_);return u.documentOverlayCache.saveOverlays(p,E.batchId,v)})}).then(()=>({batchId:m.batchId,changes:SE(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let c=o.du[o.currentUser.toKey()];c||(c=new je(fe)),c=c.insert(l,u),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await wl(r,s.changes),await hd(r.remoteStore)}catch(s){const i=jm(s,"Failed to persist write");n.reject(i)}}async function cT(t,e){const n=oe(t);try{const r=await WD(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await wl(n,r,e)}catch(r){await Co(r)}}function x0(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=oe(o);u.onlineState=l;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.ba)m.va(l)&&(c=!0)}),c&&Fm(u)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VV(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new je(J.comparator);o=o.insert(i,Tt.newNoDocument(i,re.min()));const l=pe().add(i),u=new ud(re.min(),new Map,new je(fe),o,l);await cT(r,u),r.Ru=r.Ru.remove(i),r.Au.delete(e),Um(r)}else await Qf(r.localStore,e,!1).then(()=>Yf(r,e,n)).catch(Co)}async function OV(t,e){const n=oe(t),r=e.batch.batchId;try{const s=await HD(n.localStore,e);hT(n,r,null),dT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wl(n,s)}catch(s){await Co(s)}}async function MV(t,e,n){const r=oe(t);try{const s=await function(o,l){const u=oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(xe(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);hT(r,e,n),dT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wl(r,s)}catch(s){await Co(s)}}function dT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function hT(t,e,n){const r=oe(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Yf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||fT(t,r)})}function fT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Dm(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Um(t))}function E0(t,e,n){for(const r of n)r instanceof aT?(t.Vu.addReference(r.key,e),LV(t,r)):r instanceof lT?(G($m,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||fT(t,r.key)):ee(19791,{wu:r})}function LV(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(G($m,"New document in limbo: "+n),t.Eu.add(r),Um(t))}function Um(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Oe.fromString(e)),r=t.fu.next();t.Au.set(r,new CV(n)),t.Ru=t.Ru.insert(n,r),JE(t.remoteStore,new Xr(Kn(sd(n.path)),r,"TargetPurposeLimboResolution",ed.ce))}}async function wl(t,e,n){const r=oe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=km.Es(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(u,c){const d=oe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(c,m=>$.forEach(m.Ts,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>$.forEach(m.Is,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Io(f))throw f;G(Nm,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const p=d.vs.get(m),C=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(C);d.vs=d.vs.insert(m,_)}}}(r.localStore,i))}async function jV(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){G($m,"User change. New user:",e.toKey());const r=await GE(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new Y(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wl(n,r.Ns)}}function FV(t,e){const n=oe(t),r=n.Au.get(e);if(r&&r.hu)return pe().add(r.key);{let s=pe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function pT(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VV.bind(null,e),e.Pu.J_=EV.bind(null,e.eventManager),e.Pu.yu=TV.bind(null,e.eventManager),e}function $V(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MV.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BD(this.persistence,new $D,e.initialUser,this.serializer)}Cu(e){return new QE(Pm.Vi,this.serializer)}Du(e){return new YD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class UV extends Tc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof xc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ot.withCacheSize(this.cacheSizeBytes):Ot.DEFAULT;return new QE(r=>xc.Vi(r,n),this.serializer)}}class Xf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jV.bind(null,this.syncEngine),await wV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xV}()}createDatastore(e){const n=cd(e.databaseInfo.databaseId),r=tV(e.databaseInfo);return oV(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new lV(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>x0(this.syncEngine,n,0),function(){return m0.v()?new m0:new XD}())}createSyncEngine(e,n){return function(s,i,o,l,u,c,d){const f=new IV(s,i,o,l,u,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=oe(s);G(ai,"RemoteStore shutting down."),i.Ea.add(5),await vl(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Xf.provider={build:()=>new Xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class zV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=xt.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Es,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Es,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Th(t,e){t.asyncQueue.verifyOperationInProgress(),G(Es,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function T0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BV(t);G(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>y0(e.remoteStore,s)),t._onlineComponents=e}async function BV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Es,"Using user provided OfflineComponentProvider");try{await Th(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;oi("Error using user provided cache. Falling back to memory cache: "+n),await Th(t,new Tc)}}else G(Es,"Using default OfflineComponentProvider"),await Th(t,new UV(void 0));return t._offlineComponents}async function gT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Es,"Using user provided OnlineComponentProvider"),await T0(t,t._uninitializedComponentsProvider._online)):(G(Es,"Using default OnlineComponentProvider"),await T0(t,new Xf))),t._onlineComponents}function HV(t){return gT(t).then(e=>e.syncEngine)}async function Jf(t){const e=await gT(t),n=e.eventManager;return n.onListen=AV.bind(null,e.syncEngine),n.onUnlisten=kV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NV.bind(null,e.syncEngine),n}function WV(t,e,n,r){const s=new mT(r),i=new oT(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>sT(await Jf(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>iT(await Jf(t),i))}}function qV(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,c){const d=new mT({next:m=>{d.Nu(),o.enqueueAndForget(()=>iT(i,f));const p=m.docs.has(l);!p&&m.fromCache?c.reject(new Y(z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&u&&u.source==="server"?c.reject(new Y(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new oT(sd(l.path),d,{includeMetadataChanges:!0,Ka:!0});return sT(i,f)}(await Jf(t),t.asyncQueue,e,n,r)),r.promise}function QV(t,e){const n=new us;return t.asyncQueue.enqueueAndForget(async()=>DV(await HV(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="ComponentProvider",b0=new Map;function KV(t,e,n,r,s){return new g4(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,yT(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firestore.googleapis.com",S0=!0;class C0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=S0}else this.host=e.host,this.ssl=e.ssl??S0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TD)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GN;switch(r.type){case"firstParty":return new JN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=b0.get(n);r&&(G(GV,"Removing Datastore"),b0.delete(n),r.terminate())}(this),Promise.resolve()}}function YV(t,e,n,r={}){var c;t=Gn(t,zm);const s=mm(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(Ek(`https://${l}`),Ck("Firestore",!0)),i.host!==vT&&i.host!==l&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!cc(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=xt.MOCK_USER;else{d=Tk(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xt(m)}t._authCredentials=new KN(new rE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fd(this.firestore,e,this._query)}}class Ge{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ge(this.firestore,e,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ml(n,Ge._jsonSchema))return new Ge(e,r||null,new J(Oe.fromString(n.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:Qe("string",Ge._jsonSchemaVersion),referencePath:Qe("string")};class rl extends fd{constructor(e,n,r){super(e,n,sd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new J(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function pd(t,e,...n){if(t=gs(t),arguments.length===1&&(e=vm.newId()),s4("doc","path",e),t instanceof zm){const r=Oe.fromString(e,...n);return $v(r),new Ge(t,null,new J(r))}{if(!(t instanceof Ge||t instanceof rl))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return $v(r),new Ge(t.firestore,t instanceof rl?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="AsyncQueue";class A0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YE(this,"async_queue_retry"),this._c=()=>{const r=Eh();r&&G(I0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Eh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;G(I0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Er("INTERNAL UNHANDLED ERROR: ",R0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Lm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ee(47125,{Pc:R0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function R0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class yo extends zm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new A0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A0(e),this._firestoreClient=void 0,await e}}}function XV(t,e){const n=typeof t=="object"?t:MN(),r=typeof t=="string"?t:pc,s=kN(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_k("firestore");i&&YV(s,...i)}return s}function Bm(t){if(t._terminated)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JV(t),t._firestoreClient}function JV(t){var r,s,i,o;const e=t._freezeSettings(),n=KV(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this._byteString=e}static fromBase64String(e){try{return new on(mt.fromBase64String(e))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new on(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:on._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ml(e,on._jsonSchema))return on.fromBase64String(e.bytes)}}on._jsonSchemaVersion="firestore/bytes/1.0",on._jsonSchema={type:Qe("string",on._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jn._jsonSchemaVersion}}static fromJSON(e){if(ml(e,Jn._jsonSchema))return new Jn(e.latitude,e.longitude)}}Jn._jsonSchemaVersion="firestore/geoPoint/1.0",Jn._jsonSchema={type:Qe("string",Jn._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ml(e,bn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new bn(e.vectorValues);throw new Y(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bn._jsonSchemaVersion="firestore/vectorValue/1.0",bn._jsonSchema={type:Qe("string",bn._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=/^__.*__$/;class eO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new gl(e,this.data,n,this.fieldTransforms)}}class wT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _T(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{dataSource:t})}}class qm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(_T(this.dataSource)&&ZV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class tO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}createContext(e,n,r,s=!1){return new qm({dataSource:e,methodName:n,targetDoc:r,path:ht.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xT(t){const e=t._freezeSettings(),n=cd(t._databaseId);return new tO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nO(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);Qm("Data must be an object, but it was:",o,r);const l=ET(r,o);let u,c;if(i.merge)u=new Gt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=sl(e,f,n);if(!o.contains(m))throw new Y(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ST(d,m)||d.push(m)}u=new Gt(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new eO(new Lt(l),u,c)}class md extends Wm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function rO(t,e,n,r){const s=t.createContext(1,e,n);Qm("Data must be an object, but it was:",s,r);const i=[],o=Lt.empty();Cs(r,(u,c)=>{const d=bT(e,u,n);c=gs(c);const f=s.childContextForFieldPath(d);if(c instanceof md)i.push(d);else{const m=gd(c,f);m!=null&&(i.push(d),o.set(d,m))}});const l=new Gt(i);return new wT(o,l,s.fieldTransforms)}function sO(t,e,n,r,s,i){const o=t.createContext(1,e,n),l=[sl(e,r,n)],u=[s];if(i.length%2!=0)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(sl(e,i[m])),u.push(i[m+1]);const c=[],d=Lt.empty();for(let m=l.length-1;m>=0;--m)if(!ST(c,l[m])){const p=l[m];let C=u[m];C=gs(C);const _=o.childContextForFieldPath(p);if(C instanceof md)c.push(p);else{const E=gd(C,_);E!=null&&(c.push(p),d.set(p,E))}}const f=new Gt(c);return new wT(d,f,o.fieldTransforms)}function gd(t,e){if(TT(t=gs(t)))return Qm("Unsupported field value:",e,t),ET(t,e);if(t instanceof Wm)return function(r,s){if(!_T(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=gd(l,s.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=gs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Re.fromDate(r);return{timestampValue:_c(s.serializer,i)}}if(r instanceof Re){const i=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_c(s.serializer,i)}}if(r instanceof Jn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof on)return{bytesValue:jE(s.serializer,r._byteString)};if(r instanceof Ge){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Am(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof bn)return function(o,l){const u=o instanceof bn?o.toArray():o;return{mapValue:{fields:{[hE]:{stringValue:pE},[mc]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw l.createError("VectorValues must only contain numeric values.");return Sm(l.serializer,d)})}}}}}}(r,s);if(WE(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${wm(r)}`)}(t,e)}function ET(t,e){const n={};return oE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,s)=>{const i=gd(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function TT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Jn||t instanceof on||t instanceof Ge||t instanceof Wm||t instanceof bn||WE(t))}function Qm(t,e,n){if(!TT(n)||!sE(n)){const r=wm(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function sl(t,e,n){if((e=gs(e))instanceof Hm)return e._internalPath;if(typeof e=="string")return bT(t,e);throw bc("Field path arguments must be of type string or ",t,!1,void 0,n)}const iO=new RegExp("[~\\*/\\[\\]]");function bT(t,e,n){if(e.search(iO)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hm(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Y(z.INVALID_ARGUMENT,l+t+u)}function ST(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[mc].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ze(o.doubleValue));return new bn(n)}convertGeoPoint(e){return new Jn(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ja(e));default:return null}}convertTimestamp(e){const n=vs(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);xe(HE(r),9688,{name:e});const s=new Za(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||Er(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new on(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}const P0="@firebase/firestore",k0="4.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(sl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aO extends IT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function uO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class la{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends IT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:Qe("string",Js._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Pu extends Js{data(e={}){return super.data(e)}}class Qi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new la(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pu(this._firestore,this._userDataWriter,r.key,r,new la(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new Pu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new la(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Pu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new la(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:cO(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi._jsonSchemaVersion="firestore/querySnapshot/1.0",Qi._jsonSchema={type:Qe("string",Qi._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){t=Gn(t,Ge);const e=Gn(t.firestore,yo),n=Bm(e);return qV(n,t._key).then(r=>RT(e,t,r))}function hO(t,e,n){t=Gn(t,Ge);const r=Gn(t.firestore,yo),s=uO(t.converter,e),i=xT(r);return AT(r,[nO(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yn.none())])}function fO(t,e,n,...r){t=Gn(t,Ge);const s=Gn(t.firestore,yo),i=xT(s);let o;return o=typeof(e=gs(e))=="string"||e instanceof Hm?sO(i,"updateDoc",t._key,e,n,r):rO(i,"updateDoc",t._key,e),AT(s,[o.toMutation(t._key,Yn.exists(!0))])}function pO(t,...e){var c,d,f;t=gs(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||N0(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(N0(e[r])){const m=e[r];e[r]=(c=m.next)==null?void 0:c.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(f=m.complete)==null?void 0:f.bind(m)}let i,o,l;if(t instanceof Ge)o=Gn(t.firestore,yo),l=sd(t._key.path),i={next:m=>{e[r]&&e[r](RT(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Gn(t,fd);o=Gn(m.firestore,yo),l=m._query;const p=new CT(o);i={next:C=>{e[r]&&e[r](new Qi(o,p,m,C))},error:e[r+1],complete:e[r+2]},lO(t._query)}const u=Bm(o);return WV(u,l,s,i)}function AT(t,e){const n=Bm(t);return QV(n,e)}function RT(t,e,n){const r=n.docs.get(e._key),s=new CT(t);return new Js(t,s,e._key,r,new la(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){QN(ON),hc(new Ka("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new yo(new YN(r.getProvider("auth-internal")),new ZN(o,r.getProvider("app-check-internal")),y4(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Hi(P0,k0,e),Hi(P0,k0,"esm2020")})();var mO="firebase",gO="12.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(mO,gO,"app");const yO={apiKey:"AIzaSyDT3dBdcw9FERAJBASNDvSiH5DGH-carL0",authDomain:"saudia-connect-play.firebaseapp.com",projectId:"saudia-connect-play",storageBucket:"saudia-connect-play.firebasestorage.app",messagingSenderId:"872875755443",appId:"1:872875755443:web:4186cbbe1b677ce91eedc6",measurementId:"G-897NVF66RD"},vO=Qx(yO),yd=XV(vO);async function wO(t){const e=pd(yd,"games",t.roomCode);await hO(e,{...t,createdAt:new Date})}async function _O(t){const e=pd(yd,"games",t),n=await dO(e);return n.exists()?n.data():null}async function ku(t,e){const n=pd(yd,"games",t);await fO(n,e)}function xO(t,e){const n=pd(yd,"games",t);return pO(n,r=>{r.exists()&&e(r.data())})}const EO=()=>{const t=fm(),[e,n]=k.useState(""),[r,s]=k.useState(""),[i,o]=k.useState("home"),[l,u]=k.useState(!1),[c,d]=k.useState(!1),f=async()=>{if(e.trim()){u(!0);try{const p=jx(e.trim());await wO(p),sessionStorage.setItem("playerId",p.hostId),t(`/game/${p.roomCode}`)}finally{u(!1)}}},m=async()=>{if(!(!e.trim()||!r.trim())){d(!0);try{const p=r.trim().toUpperCase(),C=await _O(p);if(!C)return;const _=crypto.randomUUID();C.players.push({id:_,name:e.trim(),team:"red",isSpymaster:!1,isHost:!1}),await ku(p,{players:C.players}),sessionStorage.setItem("playerId",_),t(`/game/${p}`)}finally{d(!1)}}};return x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 relative overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 opacity-[0.06] pointer-events-none",style:{backgroundImage:`url(${Fx})`,backgroundSize:"300px"}}),x.jsx("div",{className:"absolute top-[-15%] right-[-10%] w-80 h-80 rounded-full bg-team-red/10 blur-3xl pointer-events-none"}),x.jsx("div",{className:"absolute bottom-[-15%] left-[-10%] w-80 h-80 rounded-full bg-team-blue/10 blur-3xl pointer-events-none"}),x.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-primary/5 blur-3xl pointer-events-none"}),x.jsxs("div",{className:"relative z-10 w-full max-w-sm mx-auto animate-fade-in",children:[x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-primary shadow-[0_8px_32px_hsl(var(--primary)/0.35)] mb-5",children:x.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:""})}),x.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2 tracking-tight",children:" "}),x.jsx("p",{className:"text-muted-foreground text-base",children:"  "})]}),i==="home"&&x.jsxs("div",{className:"space-y-3 animate-fade-in",children:[x.jsxs("button",{onClick:()=>o("create"),className:"w-full h-14 rounded-2xl bg-primary text-primary-foreground font-bold text-base flex items-center justify-center gap-2.5 shadow-[0_4px_24px_hsl(var(--primary)/0.35)] hover:shadow-[0_6px_32px_hsl(var(--primary)/0.45)] hover:scale-[1.01] active:scale-[0.99] transition-all duration-200",children:[x.jsx(D_,{className:"w-5 h-5"}),"  "]}),x.jsxs("button",{onClick:()=>o("join"),className:"w-full h-14 rounded-2xl bg-card border border-border/60 text-foreground font-bold text-base flex items-center justify-center gap-2.5 hover:border-primary/40 hover:bg-secondary/60 transition-all duration-200",children:[x.jsx(II,{className:"w-5 h-5"})," "]}),x.jsxs("div",{className:"flex items-center justify-center gap-1.5 pt-3 text-xs text-muted-foreground",children:[x.jsx(V_,{className:"w-3.5 h-3.5"}),x.jsx("span",{children:"    "})]})]}),i==="create"&&x.jsxs("div",{className:"space-y-3 animate-fade-in",children:[x.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-5 shadow-sm space-y-4",children:[x.jsx("h2",{className:"text-lg font-bold text-center",children:" "}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block font-medium",children:""}),x.jsx(wa,{placeholder:" ...",value:e,onChange:p=>n(p.target.value),onKeyDown:p=>p.key==="Enter"&&f(),className:"h-12 text-center text-base",dir:"rtl",autoFocus:!0})]}),x.jsx("button",{onClick:f,disabled:!e.trim()||l,className:`w-full h-12 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200
                  ${e.trim()&&!l?"bg-primary text-primary-foreground shadow-[0_4px_20px_hsl(var(--primary)/0.3)] hover:scale-[1.01] active:scale-[0.99]":"bg-muted text-muted-foreground cursor-not-allowed"}`,children:l?x.jsx("span",{className:"animate-pulse",children:" ..."}):x.jsxs(x.Fragment,{children:["  ",x.jsx(Gy,{className:"w-4 h-4"})]})})]}),x.jsx("button",{onClick:()=>o("home"),className:"w-full py-2.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:""})]}),i==="join"&&x.jsxs("div",{className:"space-y-3 animate-fade-in",children:[x.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-5 shadow-sm space-y-4",children:[x.jsx("h2",{className:"text-lg font-bold text-center",children:" "}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block font-medium",children:""}),x.jsx(wa,{placeholder:" ...",value:e,onChange:p=>n(p.target.value),className:"h-12 text-center text-base",dir:"rtl",autoFocus:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block font-medium",children:" "}),x.jsx(wa,{placeholder:"X X X X X",value:r,onChange:p=>s(p.target.value.toUpperCase()),onKeyDown:p=>p.key==="Enter"&&m(),className:"h-12 text-center text-xl tracking-[0.4em] font-mono font-bold",maxLength:6,dir:"ltr"})]}),x.jsx("button",{onClick:m,disabled:!e.trim()||r.length<5||c,className:`w-full h-12 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200
                  ${e.trim()&&r.length>=5&&!c?"bg-primary text-primary-foreground shadow-[0_4px_20px_hsl(var(--primary)/0.3)] hover:scale-[1.01] active:scale-[0.99]":"bg-muted text-muted-foreground cursor-not-allowed"}`,children:c?x.jsx("span",{className:"animate-pulse",children:" ..."}):x.jsxs(x.Fragment,{children:[" ",x.jsx(Gy,{className:"w-4 h-4"})]})})]}),x.jsx("button",{onClick:()=>o("home"),className:"w-full py-2.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:""})]})]})]})},TO=({currentPlayer:t,cards:e,isSpymaster:n,onCardClick:r,onRightClick:s,currentTeam:i,canGuess:o})=>{const l=d=>{if(d.revealed)switch(d.type){case"red":return"bg-team-red text-white border-team-red shadow-inner";case"blue":return"bg-team-blue text-white border-team-blue shadow-inner";case"assassin":return"bg-gray-900 text-white border-gray-900 dark:bg-black dark:border-black";default:return"bg-muted text-muted-foreground border-muted opacity-70"}if(n){let p="";switch(d.type){case"red":p="bg-red-500 dark:bg-red-700 text-white border-red-600 font-bold";break;case"blue":p="bg-blue-500 dark:bg-blue-700 text-white border-blue-600 font-bold";break;case"assassin":p="bg-gray-900 dark:bg-black text-white border-gray-700 font-bold";break;default:p="bg-stone-100 dark:bg-muted text-stone-500 dark:text-muted-foreground border-stone-300 dark:border-border"}const C=d.highlighted?"ring-2 ring-gold shadow-[0_0_12px_hsl(var(--gold)/0.4)]":"";return`${p} ${C}`}const f=d.highlighted?"ring-2 ring-gold shadow-[0_0_12px_hsl(var(--gold)/0.4)]":"";return`bg-card border-border/70 text-foreground transition-all duration-200 ${o&&(t==null?void 0:t.team)===i&&!n?"cursor-pointer hover:bg-secondary hover:border-primary/40 hover:shadow-md hover:-translate-y-0.5 active:scale-[0.97] active:translate-y-0":"cursor-default"} ${f}`},u=(d,f)=>{d.preventDefault(),e[f].revealed||s(f)},c=o&&(t==null?void 0:t.team)===i&&!(t!=null&&t.isSpymaster);return x.jsx("div",{className:"flex-1 px-2 py-3 sm:px-3 sm:py-4",children:x.jsx("div",{className:"w-full max-w-4xl mx-auto grid grid-cols-5 gap-1.5 sm:gap-2",style:{gridAutoRows:"1fr",aspectRatio:"5 / 5"},children:e.map((d,f)=>{var m;return x.jsxs("button",{onClick:()=>{!(d!=null&&d.word)||!c||d.revealed||r(f)},onContextMenu:p=>u(p,f),disabled:!c||d.revealed,className:`
              relative rounded-xl border-2 p-1.5 sm:p-2.5
              min-h-0 min-w-0 aspect-square
              flex items-center justify-center text-center
              font-semibold text-[10px] sm:text-xl
              transition-all duration-200 animate-scale-in
              select-none
              ${!c||d.revealed?"cursor-default":"cursor-pointer"}
              ${l(d)}
            `,style:{animationDelay:`${f*18}ms`},children:[x.jsx("span",{className:"leading-tight break-words w-full px-0.5",children:((m=d==null?void 0:d.word)==null?void 0:m.word)??""}),(d==null?void 0:d.revealed)&&d.type==="assassin"&&x.jsx("span",{className:"absolute top-1 right-1 text-[10px]",children:""})]},f)})})})},bO=k_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Sa=k.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?IC:"button";return x.jsx(o,{className:Sr(bO({variant:e,size:n,className:t})),ref:i,...s})});Sa.displayName="Button";const SO=({game:t,playerId:e,onStart:n,onSwitchTeam:r,onToggleSpymaster:s})=>{const i=t.hostId===e,o=t.players.filter(v=>v.team==="red"),l=t.players.filter(v=>v.team==="blue"),u=fm(),c=t.players.find(v=>v.id===e),d=()=>{navigator.clipboard.writeText(t.roomCode),LA.success("  ")},f=()=>{const v=`https://wa.me/?text=${encodeURIComponent(`   ! 
 : ${t.roomCode}`)}`;window.open(v,"_blank")},m=o.some(v=>v.isSpymaster),p=l.some(v=>v.isSpymaster),C=o.some(v=>!v.isSpymaster),_=l.some(v=>!v.isSpymaster),E=m&&p&&C&&_;return x.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4 py-8 relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-[-10%] left-[-5%] w-72 h-72 rounded-full bg-team-red/10 blur-3xl pointer-events-none"}),x.jsx("div",{className:"absolute bottom-[-10%] right-[-5%] w-72 h-72 rounded-full bg-team-blue/10 blur-3xl pointer-events-none"}),x.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-primary/5 blur-3xl pointer-events-none"}),x.jsxs("div",{className:"w-full max-w-xl mx-auto animate-fade-in space-y-5 relative z-10",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(Sa,{variant:"ghost",size:"sm",onClick:()=>u("/"),className:"text-muted-foreground hover:text-foreground gap-1 text-sm",children:[x.jsx(bI,{className:"w-4 h-4"}),""]}),x.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground text-xs",children:[x.jsx(V_,{className:"w-3.5 h-3.5"}),x.jsxs("span",{children:[t.players.length," "]})]})]}),x.jsxs("div",{className:"text-center space-y-1",children:[x.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:" "})}),x.jsx("p",{className:"text-muted-foreground text-sm",children:"    "})]}),x.jsxs("div",{className:"bg-card border border-border/60 rounded-2xl p-5 shadow-sm space-y-4",children:[x.jsx("p",{className:"text-xs text-muted-foreground text-center font-medium uppercase tracking-widest",children:" "}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("span",{className:"text-4xl font-mono font-black tracking-[0.25em] text-primary select-all",children:t.roomCode}),x.jsx("button",{onClick:d,className:"p-2.5 rounded-xl bg-secondary hover:bg-secondary/80 transition-all hover:scale-105 active:scale-95",title:" ",children:x.jsx(SI,{className:"w-4 h-4 text-muted-foreground"})})]}),x.jsxs(Sa,{variant:"outline",size:"sm",onClick:f,className:"gap-2 w-full",children:[x.jsx(kI,{className:"w-4 h-4"}),"  "]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:`rounded-2xl p-4 border transition-all duration-200 ${(c==null?void 0:c.team)==="red"?"bg-team-red/15 border-team-red/40 shadow-[0_0_20px_hsl(var(--team-red)/0.12)]":"bg-card border-border/50"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h3",{className:"text-sm font-bold text-team-red",children:" "}),x.jsx("span",{className:"text-[10px] bg-team-red/10 text-team-red px-2 py-0.5 rounded-full font-semibold",children:o.length})]}),x.jsxs("div",{className:"space-y-1.5 min-h-[60px]",children:[o.length===0&&x.jsx("p",{className:"text-[11px] text-muted-foreground text-center py-3",children:"  "}),o.map(v=>x.jsxs("div",{className:`rounded-xl px-3 py-2 text-xs flex items-center justify-between gap-1 transition-colors ${v.id===e?"bg-team-red/20 border border-team-red/30":"bg-background/60"}`,children:[x.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[v.isSpymaster&&x.jsx(Eu,{className:"w-3 h-3 text-gold flex-shrink-0"}),x.jsx("span",{className:"font-medium truncate",children:v.name}),v.id===t.hostId&&x.jsx(Ky,{className:"w-2.5 h-2.5 text-muted-foreground flex-shrink-0"})]}),v.isSpymaster&&x.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1.5 py-0.5 rounded-full font-bold flex-shrink-0",children:""})]},v.id))]}),(c==null?void 0:c.team)!=="red"&&x.jsx("button",{onClick:()=>r(e,"red"),className:"mt-2 w-full text-[11px] text-team-red hover:bg-team-red/10 py-2 rounded-xl transition-colors font-semibold border border-dashed border-team-red/30 hover:border-team-red/50",children:"+  "})]}),x.jsxs("div",{className:`rounded-2xl p-4 border transition-all duration-200 ${(c==null?void 0:c.team)==="blue"?"bg-team-blue/15 border-team-blue/40 shadow-[0_0_20px_hsl(var(--team-blue)/0.12)]":"bg-card border-border/50"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h3",{className:"text-sm font-bold text-team-blue",children:" "}),x.jsx("span",{className:"text-[10px] bg-team-blue/10 text-team-blue px-2 py-0.5 rounded-full font-semibold",children:l.length})]}),x.jsxs("div",{className:"space-y-1.5 min-h-[60px]",children:[l.length===0&&x.jsx("p",{className:"text-[11px] text-muted-foreground text-center py-3",children:"  "}),l.map(v=>x.jsxs("div",{className:`rounded-xl px-3 py-2 text-xs flex items-center justify-between gap-1 transition-colors ${v.id===e?"bg-team-blue/20 border border-team-blue/30":"bg-background/60"}`,children:[x.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[v.isSpymaster&&x.jsx(Eu,{className:"w-3 h-3 text-gold flex-shrink-0"}),x.jsx("span",{className:"font-medium truncate",children:v.name}),v.id===t.hostId&&x.jsx(Ky,{className:"w-2.5 h-2.5 text-muted-foreground flex-shrink-0"})]}),v.isSpymaster&&x.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1.5 py-0.5 rounded-full font-bold flex-shrink-0",children:""})]},v.id))]}),(c==null?void 0:c.team)!=="blue"&&x.jsx("button",{onClick:()=>r(e,"blue"),className:"mt-2 w-full text-[11px] text-team-blue hover:bg-team-blue/10 py-2 rounded-xl transition-colors font-semibold border border-dashed border-team-blue/30 hover:border-team-blue/50",children:"+  "})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[x.jsxs("div",{className:`flex items-center gap-1.5 justify-center py-2 px-3 rounded-xl ${m&&C?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted/50 text-muted-foreground"}`,children:[x.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${m&&C?"bg-green-500":"bg-muted-foreground/40"}`})," ",m&&C?" ":" "]}),x.jsxs("div",{className:`flex items-center gap-1.5 justify-center py-2 px-3 rounded-xl ${p&&_?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted/50 text-muted-foreground"}`,children:[x.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${p&&_?"bg-green-500":"bg-muted-foreground/40"}`})," ",p&&_?" ":" "]})]}),x.jsxs("button",{onClick:()=>s(e),className:`w-full py-3 rounded-2xl border text-sm font-semibold flex items-center justify-center gap-2 transition-all duration-200 ${c!=null&&c.isSpymaster?"bg-gold/15 border-gold/40 text-gold hover:bg-gold/20":"bg-card border-border/60 text-foreground hover:border-gold/40 hover:text-gold"}`,children:[x.jsx(Eu,{className:"w-4 h-4"}),c!=null&&c.isSpymaster?"   ":"  "]}),i&&x.jsx(Sa,{onClick:n,disabled:!E,className:`w-full h-14 text-base font-bold rounded-2xl tracking-wide transition-all duration-200 ${E?"shadow-[0_4px_24px_hsl(var(--primary)/0.35)] hover:shadow-[0_6px_32px_hsl(var(--primary)/0.45)] hover:scale-[1.01] active:scale-[0.99]":""}`,children:" "}),!i&&x.jsx("p",{className:"text-center text-xs text-muted-foreground pb-2",children:"    ..."})]})]})},CO=({game:t,onEndTurn:e})=>{const n=Math.floor(t.timer/60),r=t.timer%60,s=t.timer<=15,i=t.turnPhase==="guessing",o=t.currentTeam==="red";return x.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border/50 px-4 py-2.5 sticky top-0 z-20",children:x.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[x.jsx("span",{className:`shrink-0 text-xs font-bold px-3 py-1.5 rounded-full transition-colors ${o?"bg-team-red text-team-red-foreground":"bg-team-blue text-team-blue-foreground"}`,children:o?"":""}),t.currentHint?x.jsxs("div",{className:"flex items-center gap-2 bg-secondary/80 rounded-xl px-3 py-1.5 min-w-0 overflow-hidden",children:[x.jsx("span",{className:"font-bold text-sm text-foreground truncate",children:t.currentHint.word}),x.jsxs("span",{className:"text-xs text-muted-foreground shrink-0",children:["(",t.currentHint.count,")"]}),i&&x.jsxs("span",{className:"text-xs font-semibold text-gold shrink-0",children:[" ",t.guessesRemaining," "]})]}):x.jsx("span",{className:"text-xs text-muted-foreground",children:t.turnPhase==="hint"?"  ...":""})]}),i&&x.jsxs("div",{className:`flex items-center gap-1.5 shrink-0 font-mono font-bold text-lg tabular-nums transition-colors ${s?"text-destructive animate-pulse":"text-foreground"}`,children:[x.jsx(DI,{className:`w-4 h-4 ${s?"text-destructive":"text-muted-foreground"}`}),n,":",r.toString().padStart(2,"0")]}),i&&x.jsxs("button",{onClick:e,className:"shrink-0 flex items-center gap-1.5 text-xs font-semibold px-3 py-2 rounded-xl border border-border/60 bg-background/60 hover:bg-secondary/80 hover:border-border transition-all duration-150 active:scale-95",children:[" ",x.jsx(TI,{className:"w-3.5 h-3.5"})]})]})})},IO=({winner:t,scores:e,onRestart:n,onHome:r})=>{const s=t==="red";return x.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative overflow-hidden",children:[x.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl pointer-events-none ${s?"bg-team-red/15":"bg-team-blue/15"}`}),x.jsxs("div",{className:"relative z-10 bg-card border border-border/60 rounded-2xl p-8 max-w-sm w-full text-center animate-scale-in shadow-xl space-y-6",children:[x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsx(VI,{className:"h-10 w-full"}),x.jsx("div",{className:`text-xs font-bold tracking-widest uppercase px-3 py-1 rounded-full ${s?"bg-team-red/15 text-team-red":"bg-team-blue/15 text-team-blue"}`,children:" "}),x.jsxs("h2",{className:"text-2xl font-bold mt-1",children:[" ",s?" ":" ","!"]})]}),x.jsxs("div",{className:"flex items-center justify-center gap-4",children:[x.jsxs("div",{className:"text-center flex-1",children:[x.jsx("div",{className:`w-full py-3 rounded-xl font-black text-2xl flex items-center justify-center transition-all ${s?"bg-team-red text-team-red-foreground ring-2 ring-team-red/50 shadow-lg":"bg-team-red/10 text-team-red"}`,children:e.red}),x.jsx("span",{className:"text-[11px] text-muted-foreground mt-1.5 block font-medium",children:""})]}),x.jsx("span",{className:"text-muted-foreground/40 font-bold text-lg pb-5",children:""}),x.jsxs("div",{className:"text-center flex-1",children:[x.jsx("div",{className:`w-full py-3 rounded-xl font-black text-2xl flex items-center justify-center transition-all ${s?"bg-team-blue/10 text-team-blue":"bg-team-blue text-team-blue-foreground ring-2 ring-team-blue/50 shadow-lg"}`,children:e.blue}),x.jsx("span",{className:"text-[11px] text-muted-foreground mt-1.5 block font-medium",children:""})]})]}),x.jsxs("div",{className:"space-y-2.5 pt-1",children:[x.jsxs("button",{onClick:n,className:`w-full h-12 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all duration-200 hover:scale-[1.01] active:scale-[0.99]
              ${s?"bg-team-red text-team-red-foreground shadow-[0_4px_20px_hsl(var(--team-red)/0.35)]":"bg-team-blue text-team-blue-foreground shadow-[0_4px_20px_hsl(var(--team-blue)/0.35)]"}`,children:[x.jsx(PI,{className:"w-4 h-4"})," "]}),x.jsxs("button",{onClick:r,className:"w-full h-11 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 border border-border/60 bg-background/60 hover:bg-secondary/60 transition-all duration-200 text-muted-foreground hover:text-foreground",children:[x.jsx(CI,{className:"w-4 h-4"})," "]})]})]})]})},au=({game:t,team:e})=>{const n=t.players.filter(c=>c.team===e),r=t.currentTeam===e,s=t.scores[e],i=t.targetScores[e],o=Math.round(s/i*100),u=e==="red"?{bg:"bg-team-red/10",border:"border-team-red/25",text:"text-team-red",badge:"bg-team-red",bar:"bg-team-red",label:""}:{bg:"bg-team-blue/10",border:"border-team-blue/25",text:"text-team-blue",badge:"bg-team-blue",bar:"bg-team-blue",label:""};return x.jsxs("div",{className:`
      ${u.bg} border ${u.border} rounded-2xl p-3
      ${r?"ring-2 ring-gold shadow-[0_0_16px_hsl(var(--gold)/0.2)]":""}
      transition-all duration-300
    `,children:[r&&x.jsx("div",{className:`text-[9px] text-center font-bold ${u.text} mb-2 tracking-widest uppercase`,children:"  "}),x.jsxs("div",{className:"text-center mb-3",children:[x.jsxs("div",{className:`${u.badge} text-white rounded-xl py-2 px-4 inline-flex items-baseline gap-1.5`,children:[x.jsx("span",{className:"text-2xl font-black",children:s}),x.jsxs("span",{className:"text-xs opacity-70 font-medium",children:["/ ",i]})]}),x.jsx("div",{className:`text-[11px] font-bold mt-1.5 ${u.text}`,children:u.label})]}),x.jsx("div",{className:"w-full h-1.5 bg-background/60 rounded-full mb-3 overflow-hidden",children:x.jsx("div",{className:`h-full rounded-full ${u.bar} transition-all duration-500`,style:{width:`${o}%`}})}),x.jsx("div",{className:"space-y-1",children:n.map(c=>x.jsxs("div",{className:"bg-background/50 rounded-xl px-2.5 py-1.5 text-[11px] flex items-center justify-between gap-1",children:[x.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[c.isSpymaster&&x.jsx(Eu,{className:"w-2.5 h-2.5 text-gold flex-shrink-0"}),x.jsx("span",{className:"font-medium truncate",children:c.name})]}),c.isSpymaster&&x.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1.5 py-0.5 rounded-full font-bold shrink-0",children:""})]},c.id))}),r&&t.currentHint&&x.jsxs("div",{className:`mt-2.5 p-2.5 rounded-xl border ${u.border} ${u.bg} text-center`,children:[x.jsx("div",{className:"text-[9px] text-muted-foreground mb-0.5 tracking-wide",children:" "}),x.jsx("div",{className:`font-bold text-sm ${u.text}`,children:t.currentHint.word}),x.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[t.currentHint.count," "]})]})]})},AO=({currentTeam:t,onSubmitHint:e})=>{const[n,r]=k.useState(""),[s,i]=k.useState(1),o=()=>{n.trim()&&(e(n.trim(),s),r(""),i(1))},l=t==="red";return x.jsxs("div",{className:`
      mx-auto max-w-lg rounded-2xl border-2 p-4 animate-fade-in
      ${l?"border-team-red/30 bg-team-red/5":"border-team-blue/30 bg-team-blue/5"}
    `,children:[x.jsx("h3",{className:"text-sm font-bold text-center mb-3 text-muted-foreground",children:" "}),x.jsxs("div",{className:"flex gap-2 items-end",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"text-[11px] text-muted-foreground mb-1 block font-medium",children:""}),x.jsx(wa,{value:n,onChange:u=>r(u.target.value),onKeyDown:u=>u.key==="Enter"&&o(),placeholder:"...",className:"h-10 text-center font-semibold",dir:"rtl",autoFocus:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[11px] text-muted-foreground mb-1 block font-medium text-center",children:""}),x.jsxs("div",{className:"flex items-center gap-1 h-10",children:[x.jsx("button",{onClick:()=>i(u=>Math.max(1,u-1)),className:"w-8 h-8 rounded-lg bg-secondary hover:bg-secondary/80 flex items-center justify-center transition-colors active:scale-90",children:x.jsx(AI,{className:"w-3 h-3"})}),x.jsx("span",{className:"w-8 text-center font-bold text-base tabular-nums",children:s}),x.jsx("button",{onClick:()=>i(u=>Math.min(8,u+1)),className:"w-8 h-8 rounded-lg bg-secondary hover:bg-secondary/80 flex items-center justify-center transition-colors active:scale-90",children:x.jsx(D_,{className:"w-3 h-3"})})]})]}),x.jsxs("button",{onClick:o,disabled:!n.trim(),className:`h-10 px-4 rounded-xl font-bold text-sm flex items-center gap-1.5 transition-all duration-200 active:scale-95
            ${n.trim()?l?"bg-team-red text-team-red-foreground hover:opacity-90":"bg-team-blue text-team-blue-foreground hover:opacity-90":"bg-muted text-muted-foreground cursor-not-allowed"}
          `,children:["",x.jsx(EI,{className:"w-3.5 h-3.5"})]})]})]})},RO=({team:t,onComplete:e})=>{const[n,r]=k.useState(!0),[s,i]=k.useState(!1);if(k.useEffect(()=>{const l=setTimeout(()=>i(!0),1600),u=setTimeout(()=>{r(!1),e()},2e3);return()=>{clearTimeout(l),clearTimeout(u)}},[e]),!n)return null;const o=t==="red";return x.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm transition-opacity duration-300 ${s?"opacity-0":"opacity-100 animate-fade-in"} ${o?"bg-team-red/20":"bg-team-blue/20"}`,children:[x.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full blur-3xl pointer-events-none ${o?"bg-team-red/30":"bg-team-blue/30"}`}),x.jsxs("div",{className:`
        relative rounded-2xl px-12 py-10 text-center animate-scale-in shadow-2xl border
        ${o?"bg-team-red border-team-red/20":"bg-team-blue border-team-blue/20"}
      `,children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:o?" ":" "}),x.jsx("p",{className:"text-white/70 text-base font-medium",children:"   !"}),x.jsx("div",{className:"mt-5 w-full h-1 bg-white/20 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-white/60 rounded-full",style:{animation:"shrink 1.6s linear forwards"}})})]}),x.jsx("style",{children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},PO=()=>{const{roomCode:t}=LP(),e=fm(),[n,r]=k.useState(null),[s,i]=k.useState(!1),[o,l]=k.useState("red"),u=sessionStorage.getItem("playerId")||"";k.useEffect(()=>{if(!t)return;const w=xO(t,I=>r(I));return()=>w()},[t]);const c=k.useCallback(async w=>{r(w),await ku(w.roomCode,w)},[]),d=()=>{if(!n)return;const w={...n,phase:"playing",turnPhase:"hint"};c(w),l("red"),i(!0)},f=(w,I)=>{n&&c({...n,turnPhase:"guessing",currentHint:{word:w,count:I},guessesRemaining:I+1,timer:n.maxTime})},m=w=>{if(!n||n.phase!=="playing"||n.turnPhase!=="guessing")return;const I=n.players.find(N=>N.id===u);if(!I||I.team!==n.currentTeam||I.isSpymaster)return;const A=n.currentTeam,R=lk(n,w);c(R),R.phase==="playing"&&R.currentTeam!==A&&(l(R.currentTeam),i(!0))},p=w=>{if(!n)return;const I=n.players.find(R=>R.id===u);!I||!(n.turnPhase==="guessing"&&I.team===n.currentTeam&&!I.isSpymaster)||c(uk(n,w))},C=()=>{if(!n)return;const w=n.currentTeam==="red"?"blue":"red";c({...n,currentTeam:w,timer:n.maxTime,turnPhase:"hint",currentHint:null,guessesRemaining:0}),l(w),i(!0)},_=()=>{const w=n.players.find(A=>A.id===u);if(!n||!w)return;const I=jx(w.name);I.roomCode=n.roomCode,I.players=n.players,I.hostId=n.hostId,c(I)},E=(w,I)=>{if(!n)return;const A=n.players.map(R=>R.id===w?{...R,team:I}:R);c({...n,players:A})},v=w=>{if(!n)return;const I=n.players.find(R=>R.id===w);if(!I)return;const A=n.players.map(R=>R.id===w?{...R,isSpymaster:!R.isSpymaster}:R.team===I.team&&R.isSpymaster?{...R,isSpymaster:!1}:R);c({...n,players:A})},y=n==null?void 0:n.players.find(w=>w.id===u),T=y==null?void 0:y.isHost;if(k.useEffect(()=>{if(!n||!T||n.phase!=="playing"||n.turnPhase!=="guessing")return;const w=setInterval(async()=>{if(n.timer<=0){const I=n.currentTeam==="red"?"blue":"red";await ku(n.roomCode,{currentTeam:I,timer:n.maxTime,turnPhase:"hint",currentHint:null,guessesRemaining:0})}else await ku(n.roomCode,{timer:n.timer-1})},1e3);return()=>clearInterval(w)},[n,T]),!n)return null;const D=(y==null?void 0:y.isSpymaster)||!1,V=(y==null?void 0:y.team)===n.currentTeam,M=D&&V,b=n.turnPhase==="guessing";return x.jsxs("div",{className:"min-h-screen flex flex-col relative bg-background",children:[x.jsx("div",{className:"absolute inset-0 opacity-[0.04] pointer-events-none",style:{backgroundImage:`url(${Fx})`,backgroundSize:"300px"}}),x.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[n.phase==="lobby"&&x.jsx(SO,{game:n,playerId:u,onStart:d,onSwitchTeam:E,onToggleSpymaster:v}),n.phase==="playing"&&x.jsxs(x.Fragment,{children:[x.jsx(CO,{game:n,onEndTurn:C}),x.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[x.jsxs("div",{className:"hidden md:flex flex-col w-48 p-3 gap-3 shrink-0",children:[x.jsx(au,{game:n,team:"red"}),x.jsx(au,{game:n,team:"blue"})]}),x.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[!M&&y&&!V&&x.jsx("div",{className:"px-3 pt-3",children:x.jsx("div",{className:"bg-secondary/50 border border-border/40 rounded-xl py-2.5 px-4 text-center",children:x.jsx("span",{className:"text-muted-foreground text-sm font-medium",children:"    "})})}),n.turnPhase==="hint"&&M&&x.jsx("div",{className:"p-3",children:x.jsx(AO,{currentTeam:n.currentTeam,onSubmitHint:f})}),n.turnPhase==="hint"&&!M&&V&&x.jsx("div",{className:"px-3 pt-3",children:x.jsx("div",{className:`border rounded-xl py-2.5 px-4 text-center animate-pulse ${n.currentTeam==="red"?"bg-team-red/5 border-team-red/20":"bg-team-blue/5 border-team-blue/20"}`,children:x.jsx("span",{className:"text-sm text-muted-foreground",children:"    ..."})})}),n.turnPhase==="guessing"&&n.currentHint&&x.jsx("div",{className:"px-3 pt-3",children:x.jsx("div",{className:`border rounded-xl py-2.5 px-5 text-center ${n.currentTeam==="red"?"bg-team-red/5 border-team-red/20":"bg-team-blue/5 border-team-blue/20"}`,children:x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("span",{className:"font-bold text-base text-foreground",children:n.currentHint.word}),x.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",n.currentHint.count,")"]}),x.jsxs("span",{className:"text-sm font-semibold text-gold",children:[" ",n.guessesRemaining>0?n.guessesRemaining:0," "]})]})})}),x.jsx(TO,{cards:n.cards,isSpymaster:D,onCardClick:m,currentPlayer:y,onRightClick:p,currentTeam:n.currentTeam,canGuess:b})]})]}),x.jsxs("div",{className:"md:hidden flex gap-2 px-3 pb-3",children:[x.jsx("div",{className:"flex-1",children:x.jsx(au,{game:n,team:"red"})}),x.jsx("div",{className:"flex-1",children:x.jsx(au,{game:n,team:"blue"})})]})]}),n.phase==="finished"&&x.jsx(IO,{winner:n.winner,scores:n.scores,onRestart:_,onHome:()=>e("/")})]}),s&&x.jsx(RO,{team:o,onComplete:()=>i(!1)})]})},kO=()=>{const t=hm();return k.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),x.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),x.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},NO=()=>{const{theme:t,toggleTheme:e}=rk();return x.jsx(Sa,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full w-12 h-12 hover:bg-transparent","aria-label":" ",children:t==="dark"?x.jsx(NI,{className:"h-5 w-5 text-gold"}):x.jsx(RI,{className:"h-5 w-5 text-primary"})})},DO=new iP,VO=()=>x.jsx(nk,{children:x.jsx(aP,{client:DO,children:x.jsxs(O2,{children:[x.jsx(yA,{}),x.jsx(YA,{}),x.jsxs(tk,{children:[x.jsx("div",{className:"fixed top-1 left-4 z-50",children:x.jsx(NO,{})}),x.jsxs(JP,{children:[x.jsx(bu,{path:"/",element:x.jsx(EO,{})}),x.jsx(bu,{path:"/game/:roomCode",element:x.jsx(PO,{})}),x.jsx(bu,{path:"*",element:x.jsx(kO,{})})]})]})]})})});n_(document.getElementById("root")).render(x.jsx(VO,{}));
