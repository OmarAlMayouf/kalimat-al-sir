var Pg=t=>{throw TypeError(t)};var Nd=(t,e,n)=>e.has(t)||Pg("Cannot "+n);var j=(t,e,n)=>(Nd(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?Pg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(Nd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),gt=(t,e,n)=>(Nd(t,e,"access private method"),n);var Nl=(t,e,n,r)=>({set _(s){ae(t,e,s,n)},get _(){return j(t,e,r)}});function $T(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function F0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j0={exports:{}},Tc={},U0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),BT=Symbol.for("react.portal"),HT=Symbol.for("react.fragment"),WT=Symbol.for("react.strict_mode"),qT=Symbol.for("react.profiler"),QT=Symbol.for("react.provider"),GT=Symbol.for("react.context"),KT=Symbol.for("react.forward_ref"),YT=Symbol.for("react.suspense"),XT=Symbol.for("react.memo"),JT=Symbol.for("react.lazy"),kg=Symbol.iterator;function ZT(t){return t===null||typeof t!="object"?null:(t=kg&&t[kg]||t["@@iterator"],typeof t=="function"?t:null)}var z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$0=Object.assign,B0={};function wo(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||z0}wo.prototype.isReactComponent={};wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H0(){}H0.prototype=wo.prototype;function Xf(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||z0}var Jf=Xf.prototype=new H0;Jf.constructor=Xf;$0(Jf,wo.prototype);Jf.isPureReactComponent=!0;var Ng=Array.isArray,W0=Object.prototype.hasOwnProperty,Zf={current:null},q0={key:!0,ref:!0,__self:!0,__source:!0};function Q0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)W0.call(e,r)&&!q0.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ol,type:t,key:i,ref:o,props:s,_owner:Zf.current}}function eS(t,e){return{$$typeof:ol,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ep(t){return typeof t=="object"&&t!==null&&t.$$typeof===ol}function tS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dg=/\/+/g;function Dd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tS(""+t.key):e.toString(36)}function au(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ol:case BT:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Dd(o,0):r,Ng(s)?(n="",t!=null&&(n=t.replace(Dg,"$&/")+"/"),au(s,e,n,"",function(c){return c})):s!=null&&(ep(s)&&(s=eS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Ng(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Dd(i,l);o+=au(i,e,n,u,s)}else if(u=ZT(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Dd(i,l++),o+=au(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dl(t,e,n){if(t==null)return t;var r=[],s=0;return au(t,r,"","",function(i){return e.call(n,i,s++)}),r}function nS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},lu={transition:null},rS={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:lu,ReactCurrentOwner:Zf};function G0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Dl,forEach:function(t,e,n){Dl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dl(t,function(){e++}),e},toArray:function(t){return Dl(t,function(e){return e})||[]},only:function(t){if(!ep(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=wo;he.Fragment=HT;he.Profiler=qT;he.PureComponent=Xf;he.StrictMode=WT;he.Suspense=YT;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS;he.act=G0;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Zf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)W0.call(e,u)&&!q0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ol,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:GT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QT,_context:t},t.Consumer=t};he.createElement=Q0;he.createFactory=function(t){var e=Q0.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:KT,render:t}};he.isValidElement=ep;he.lazy=function(t){return{$$typeof:JT,_payload:{_status:-1,_result:t},_init:nS}};he.memo=function(t,e){return{$$typeof:XT,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=lu.transition;lu.transition={};try{t()}finally{lu.transition=e}};he.unstable_act=G0;he.useCallback=function(t,e){return Pt.current.useCallback(t,e)};he.useContext=function(t){return Pt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Pt.current.useEffect(t,e)};he.useId=function(){return Pt.current.useId()};he.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Pt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};he.useRef=function(t){return Pt.current.useRef(t)};he.useState=function(t){return Pt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Pt.current.useTransition()};he.version="18.3.1";U0.exports=he;var R=U0.exports;const W=F0(R),K0=$T({__proto__:null,default:W},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS=R,iS=Symbol.for("react.element"),oS=Symbol.for("react.fragment"),aS=Object.prototype.hasOwnProperty,lS=sS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uS={key:!0,ref:!0,__self:!0,__source:!0};function Y0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aS.call(e,r)&&!uS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:iS,type:t,key:i,ref:o,props:s,_owner:lS.current}}Tc.Fragment=oS;Tc.jsx=Y0;Tc.jsxs=Y0;j0.exports=Tc;var P=j0.exports,X0={exports:{}},Jt={},J0={exports:{}},Z0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,z){var Q=F.length;F.push(z);e:for(;0<Q;){var ne=Q-1>>>1,X=F[ne];if(0<s(X,z))F[ne]=z,F[Q]=X,Q=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var z=F[0],Q=F.pop();if(Q!==z){F[0]=Q;e:for(var ne=0,X=F.length,ce=X>>>1;ne<ce;){var le=2*(ne+1)-1,ke=F[le],He=le+1,me=F[He];if(0>s(ke,Q))He<X&&0>s(me,ke)?(F[ne]=me,F[He]=Q,ne=He):(F[ne]=ke,F[le]=Q,ne=le);else if(He<X&&0>s(me,Q))F[ne]=me,F[He]=Q,ne=He;else break e}}return z}function s(F,z){var Q=F.sortIndex-z.sortIndex;return Q!==0?Q:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,m=3,p=!1,C=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=F)r(c),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(c)}}function D(F){if(E=!1,_(F),!C)if(n(u)!==null)C=!0,te(V);else{var z=n(c);z!==null&&ie(D,z.startTime-F)}}function V(F,z){C=!1,E&&(E=!1,v(w),w=-1),p=!0;var Q=m;try{for(_(z),f=n(u);f!==null&&(!(f.expirationTime>z)||F&&!k());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var X=ne(f.expirationTime<=z);z=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(u)&&r(u),_(z)}else r(u);f=n(u)}if(f!==null)var ce=!0;else{var le=n(c);le!==null&&ie(D,le.startTime-z),ce=!1}return ce}finally{f=null,m=Q,p=!1}}var M=!1,x=null,w=-1,I=5,b=-1;function k(){return!(t.unstable_now()-b<I)}function N(){if(x!==null){var F=t.unstable_now();b=F;var z=!0;try{z=x(!0,F)}finally{z?A():(M=!1,x=null)}}else M=!1}var A;if(typeof y=="function")A=function(){y(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,se=H.port2;H.port1.onmessage=N,A=function(){se.postMessage(null)}}else A=function(){T(N,0)};function te(F){x=F,M||(M=!0,A())}function ie(F,z){w=T(function(){F(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){C||p||(C=!0,te(V))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var Q=m;m=z;try{return F()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=m;m=F;try{return z()}finally{m=Q}},t.unstable_scheduleCallback=function(F,z,Q){var ne=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Q+X,F={id:d++,callback:z,priorityLevel:F,startTime:Q,expirationTime:X,sortIndex:-1},Q>ne?(F.sortIndex=Q,e(c,F),n(u)===null&&F===n(c)&&(E?(v(w),w=-1):E=!0,ie(D,Q-ne))):(F.sortIndex=X,e(u,F),C||p||(C=!0,te(V))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var z=m;return function(){var Q=m;m=z;try{return F.apply(this,arguments)}finally{m=Q}}}})(Z0);J0.exports=Z0;var cS=J0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS=R,Xt=cS;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ew=new Set,Ca={};function li(t,e){ro(t,e),ro(t+"Capture",e)}function ro(t,e){for(Ca[t]=e,t=0;t<e.length;t++)ew.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xh=Object.prototype.hasOwnProperty,hS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vg={},Og={};function fS(t){return xh.call(Og,t)?!0:xh.call(Vg,t)?!1:hS.test(t)?Og[t]=!0:(Vg[t]=!0,!1)}function pS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mS(t,e,n,r){if(e===null||typeof e>"u"||pS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var tp=/[\-:]([a-z])/g;function np(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tp,np);pt[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tp,np);pt[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tp,np);pt[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function rp(t,e,n,r){var s=pt.hasOwnProperty(e)?pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mS(e,n,s,r)&&(n=null),r||s===null?fS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=dS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),Si=Symbol.for("react.portal"),Ci=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),tw=Symbol.for("react.provider"),nw=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),Ch=Symbol.for("react.suspense_list"),op=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),rw=Symbol.for("react.offscreen"),Mg=Symbol.iterator;function Wo(t){return t===null||typeof t!="object"?null:(t=Mg&&t[Mg]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Vd;function na(t){if(Vd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vd=e&&e[1]||""}return`
`+Vd+t}var Od=!1;function Md(t,e){if(!t||Od)return"";Od=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Od=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?na(t):""}function gS(t){switch(t.tag){case 5:return na(t.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 2:case 15:return t=Md(t.type,!1),t;case 11:return t=Md(t.type.render,!1),t;case 1:return t=Md(t.type,!0),t;default:return""}}function bh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ci:return"Fragment";case Si:return"Portal";case Th:return"Profiler";case sp:return"StrictMode";case Sh:return"Suspense";case Ch:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nw:return(t.displayName||"Context")+".Consumer";case tw:return(t._context.displayName||"Context")+".Provider";case ip:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case op:return e=t.displayName||null,e!==null?e:bh(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return bh(t(e))}catch{}}return null}function yS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bh(e);case 8:return e===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vS(t){var e=sw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ol(t){t._valueTracker||(t._valueTracker=vS(t))}function iw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ih(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ow(t,e){e=e.checked,e!=null&&rp(t,"checked",e,!1)}function Ah(t,e){ow(t,e);var n=cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rh(t,e.type,cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rh(t,e,n){(e!=="number"||Pu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ra=Array.isArray;function Mi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+cs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ph(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ra(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cs(n)}}function aw(t,e){var n=cs(e.value),r=cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ug(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ml,uw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ba(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wS=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(t){wS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ca[e]=ca[t]})});function cw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ca.hasOwnProperty(t)&&ca[t]?(""+e).trim():e+"px"}function dw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var _S=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nh(t,e){if(e){if(_S[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Dh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=null;function ap(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oh=null,Li=null,Fi=null;function zg(t){if(t=ul(t)){if(typeof Oh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Ac(e),Oh(t.stateNode,t.type,e))}}function hw(t){Li?Fi?Fi.push(t):Fi=[t]:Li=t}function fw(){if(Li){var t=Li,e=Fi;if(Fi=Li=null,zg(t),e)for(t=0;t<e.length;t++)zg(e[t])}}function pw(t,e){return t(e)}function mw(){}var Ld=!1;function gw(t,e,n){if(Ld)return t(e,n);Ld=!0;try{return pw(t,e,n)}finally{Ld=!1,(Li!==null||Fi!==null)&&(mw(),fw())}}function Ia(t,e){var n=t.stateNode;if(n===null)return null;var r=Ac(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Mh=!1;if(mr)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){Mh=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{Mh=!1}function ES(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var da=!1,ku=null,Nu=!1,Lh=null,xS={onError:function(t){da=!0,ku=t}};function TS(t,e,n,r,s,i,o,l,u){da=!1,ku=null,ES.apply(xS,arguments)}function SS(t,e,n,r,s,i,o,l,u){if(TS.apply(this,arguments),da){if(da){var c=ku;da=!1,ku=null}else throw Error(B(198));Nu||(Nu=!0,Lh=c)}}function ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $g(t){if(ui(t)!==t)throw Error(B(188))}function CS(t){var e=t.alternate;if(!e){if(e=ui(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return $g(s),t;if(i===r)return $g(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function vw(t){return t=CS(t),t!==null?ww(t):null}function ww(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ww(t);if(e!==null)return e;t=t.sibling}return null}var _w=Xt.unstable_scheduleCallback,Bg=Xt.unstable_cancelCallback,bS=Xt.unstable_shouldYield,IS=Xt.unstable_requestPaint,Be=Xt.unstable_now,AS=Xt.unstable_getCurrentPriorityLevel,lp=Xt.unstable_ImmediatePriority,Ew=Xt.unstable_UserBlockingPriority,Du=Xt.unstable_NormalPriority,RS=Xt.unstable_LowPriority,xw=Xt.unstable_IdlePriority,Sc=null,Wn=null;function PS(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Sc,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:DS,kS=Math.log,NS=Math.LN2;function DS(t){return t>>>=0,t===0?32:31-(kS(t)/NS|0)|0}var Ll=64,Fl=4194304;function sa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=sa(l):(i&=o,i!==0&&(r=sa(i)))}else o=n&~s,o!==0?r=sa(o):i!==0&&(r=sa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),s=1<<n,r|=t[n],e&=~s;return r}function VS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xn(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=VS(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Fh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tw(){var t=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),t}function Fd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function al(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function MS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function up(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function Sw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cw,cp,bw,Iw,Aw,jh=!1,jl=[],Jr=null,Zr=null,es=null,Aa=new Map,Ra=new Map,zr=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hg(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(e.pointerId)}}function Qo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ul(e),e!==null&&cp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FS(t,e,n,r,s){switch(e){case"focusin":return Jr=Qo(Jr,t,e,n,r,s),!0;case"dragenter":return Zr=Qo(Zr,t,e,n,r,s),!0;case"mouseover":return es=Qo(es,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Aa.set(i,Qo(Aa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ra.set(i,Qo(Ra.get(i)||null,t,e,n,r,s)),!0}return!1}function Rw(t){var e=js(t.target);if(e!==null){var n=ui(e);if(n!==null){if(e=n.tag,e===13){if(e=yw(n),e!==null){t.blockedOn=e,Aw(t.priority,function(){bw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vh=r,n.target.dispatchEvent(r),Vh=null}else return e=ul(n),e!==null&&cp(e),t.blockedOn=n,!1;e.shift()}return!0}function Wg(t,e,n){uu(t)&&n.delete(e)}function jS(){jh=!1,Jr!==null&&uu(Jr)&&(Jr=null),Zr!==null&&uu(Zr)&&(Zr=null),es!==null&&uu(es)&&(es=null),Aa.forEach(Wg),Ra.forEach(Wg)}function Go(t,e){t.blockedOn===e&&(t.blockedOn=null,jh||(jh=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,jS)))}function Pa(t){function e(s){return Go(s,t)}if(0<jl.length){Go(jl[0],t);for(var n=1;n<jl.length;n++){var r=jl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&Go(Jr,t),Zr!==null&&Go(Zr,t),es!==null&&Go(es,t),Aa.forEach(e),Ra.forEach(e),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)Rw(n),n.blockedOn===null&&zr.shift()}var ji=Sr.ReactCurrentBatchConfig,Ou=!0;function US(t,e,n,r){var s=xe,i=ji.transition;ji.transition=null;try{xe=1,dp(t,e,n,r)}finally{xe=s,ji.transition=i}}function zS(t,e,n,r){var s=xe,i=ji.transition;ji.transition=null;try{xe=4,dp(t,e,n,r)}finally{xe=s,ji.transition=i}}function dp(t,e,n,r){if(Ou){var s=Uh(t,e,n,r);if(s===null)Gd(t,e,r,Mu,n),Hg(t,r);else if(FS(s,t,e,n,r))r.stopPropagation();else if(Hg(t,r),e&4&&-1<LS.indexOf(t)){for(;s!==null;){var i=ul(s);if(i!==null&&Cw(i),i=Uh(t,e,n,r),i===null&&Gd(t,e,r,Mu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gd(t,e,r,null,n)}}var Mu=null;function Uh(t,e,n,r){if(Mu=null,t=ap(r),t=js(t),t!==null)if(e=ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mu=t,null}function Pw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AS()){case lp:return 1;case Ew:return 4;case Du:case RS:return 16;case xw:return 536870912;default:return 16}default:return 16}}var Gr=null,hp=null,cu=null;function kw(){if(cu)return cu;var t,e=hp,n=e.length,r,s="value"in Gr?Gr.value:Gr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return cu=s.slice(t,1<r?1-r:void 0)}function du(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function qg(){return!1}function Zt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ul:qg,this.isPropagationStopped=qg,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fp=Zt(_o),ll=Le({},_o,{view:0,detail:0}),$S=Zt(ll),jd,Ud,Ko,Cc=Le({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(jd=t.screenX-Ko.screenX,Ud=t.screenY-Ko.screenY):Ud=jd=0,Ko=t),jd)},movementY:function(t){return"movementY"in t?t.movementY:Ud}}),Qg=Zt(Cc),BS=Le({},Cc,{dataTransfer:0}),HS=Zt(BS),WS=Le({},ll,{relatedTarget:0}),zd=Zt(WS),qS=Le({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),QS=Zt(qS),GS=Le({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KS=Zt(GS),YS=Le({},_o,{data:0}),Gg=Zt(YS),XS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZS[t])?!!e[t]:!1}function pp(){return eC}var tC=Le({},ll,{key:function(t){if(t.key){var e=XS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=du(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(t){return t.type==="keypress"?du(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?du(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nC=Zt(tC),rC=Le({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Zt(rC),sC=Le({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),iC=Zt(sC),oC=Le({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),aC=Zt(oC),lC=Le({},Cc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uC=Zt(lC),cC=[9,13,27,32],mp=mr&&"CompositionEvent"in window,ha=null;mr&&"documentMode"in document&&(ha=document.documentMode);var dC=mr&&"TextEvent"in window&&!ha,Nw=mr&&(!mp||ha&&8<ha&&11>=ha),Yg=" ",Xg=!1;function Dw(t,e){switch(t){case"keyup":return cC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bi=!1;function hC(t,e){switch(t){case"compositionend":return Vw(e);case"keypress":return e.which!==32?null:(Xg=!0,Yg);case"textInput":return t=e.data,t===Yg&&Xg?null:t;default:return null}}function fC(t,e){if(bi)return t==="compositionend"||!mp&&Dw(t,e)?(t=kw(),cu=hp=Gr=null,bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nw&&e.locale!=="ko"?null:e.data;default:return null}}var pC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pC[t.type]:e==="textarea"}function Ow(t,e,n,r){hw(r),e=Lu(e,"onChange"),0<e.length&&(n=new fp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fa=null,ka=null;function mC(t){qw(t,0)}function bc(t){var e=Ri(t);if(iw(e))return t}function gC(t,e){if(t==="change")return e}var Mw=!1;if(mr){var $d;if(mr){var Bd="oninput"in document;if(!Bd){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Bd=typeof Zg.oninput=="function"}$d=Bd}else $d=!1;Mw=$d&&(!document.documentMode||9<document.documentMode)}function ey(){fa&&(fa.detachEvent("onpropertychange",Lw),ka=fa=null)}function Lw(t){if(t.propertyName==="value"&&bc(ka)){var e=[];Ow(e,ka,t,ap(t)),gw(mC,e)}}function yC(t,e,n){t==="focusin"?(ey(),fa=e,ka=n,fa.attachEvent("onpropertychange",Lw)):t==="focusout"&&ey()}function vC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bc(ka)}function wC(t,e){if(t==="click")return bc(e)}function _C(t,e){if(t==="input"||t==="change")return bc(e)}function EC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:EC;function Na(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xh.call(e,s)||!Cn(t[s],e[s]))return!1}return!0}function ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ny(t,e){var n=ty(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ty(n)}}function Fw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jw(){for(var t=window,e=Pu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pu(t.document)}return e}function gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xC(t){var e=jw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fw(n.ownerDocument.documentElement,n)){if(r!==null&&gp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ny(n,i);var o=ny(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TC=mr&&"documentMode"in document&&11>=document.documentMode,Ii=null,zh=null,pa=null,$h=!1;function ry(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$h||Ii==null||Ii!==Pu(r)||(r=Ii,"selectionStart"in r&&gp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pa&&Na(pa,r)||(pa=r,r=Lu(zh,"onSelect"),0<r.length&&(e=new fp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ii)))}function zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ai={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Hd={},Uw={};mr&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Ic(t){if(Hd[t])return Hd[t];if(!Ai[t])return t;var e=Ai[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uw)return Hd[t]=e[n];return t}var zw=Ic("animationend"),$w=Ic("animationiteration"),Bw=Ic("animationstart"),Hw=Ic("transitionend"),Ww=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){Ww.set(t,e),li(e,[t])}for(var Wd=0;Wd<sy.length;Wd++){var qd=sy[Wd],SC=qd.toLowerCase(),CC=qd[0].toUpperCase()+qd.slice(1);Ts(SC,"on"+CC)}Ts(zw,"onAnimationEnd");Ts($w,"onAnimationIteration");Ts(Bw,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(Hw,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function iy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SS(r,e,void 0,t),t.currentTarget=null}function qw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;iy(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;iy(s,l,c),i=u}}}if(Nu)throw t=Lh,Nu=!1,Lh=null,t}function Ae(t,e){var n=e[Qh];n===void 0&&(n=e[Qh]=new Set);var r=t+"__bubble";n.has(r)||(Qw(e,t,2,!1),n.add(r))}function Qd(t,e,n){var r=0;e&&(r|=4),Qw(n,t,r,e)}var $l="_reactListening"+Math.random().toString(36).slice(2);function Da(t){if(!t[$l]){t[$l]=!0,ew.forEach(function(n){n!=="selectionchange"&&(bC.has(n)||Qd(n,!1,t),Qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$l]||(e[$l]=!0,Qd("selectionchange",!1,e))}}function Qw(t,e,n,r){switch(Pw(e)){case 1:var s=US;break;case 4:s=zS;break;default:s=dp}n=s.bind(null,e,n,t),s=void 0,!Mh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=js(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}gw(function(){var c=i,d=ap(n),f=[];e:{var m=Ww.get(t);if(m!==void 0){var p=fp,C=t;switch(t){case"keypress":if(du(n)===0)break e;case"keydown":case"keyup":p=nC;break;case"focusin":C="focus",p=zd;break;case"focusout":C="blur",p=zd;break;case"beforeblur":case"afterblur":p=zd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=HS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iC;break;case zw:case $w:case Bw:p=QS;break;case Hw:p=aC;break;case"scroll":p=$S;break;case"wheel":p=uC;break;case"copy":case"cut":case"paste":p=KS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Kg}var E=(e&4)!==0,T=!E&&t==="scroll",v=E?m!==null?m+"Capture":null:m;E=[];for(var y=c,_;y!==null;){_=y;var D=_.stateNode;if(_.tag===5&&D!==null&&(_=D,v!==null&&(D=Ia(y,v),D!=null&&E.push(Va(y,D,_)))),T)break;y=y.return}0<E.length&&(m=new p(m,C,null,n,d),f.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Vh&&(C=n.relatedTarget||n.fromElement)&&(js(C)||C[gr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(C=n.relatedTarget||n.toElement,p=c,C=C?js(C):null,C!==null&&(T=ui(C),C!==T||C.tag!==5&&C.tag!==6)&&(C=null)):(p=null,C=c),p!==C)){if(E=Qg,D="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=Kg,D="onPointerLeave",v="onPointerEnter",y="pointer"),T=p==null?m:Ri(p),_=C==null?m:Ri(C),m=new E(D,y+"leave",p,n,d),m.target=T,m.relatedTarget=_,D=null,js(d)===c&&(E=new E(v,y+"enter",C,n,d),E.target=_,E.relatedTarget=T,D=E),T=D,p&&C)t:{for(E=p,v=C,y=0,_=E;_;_=wi(_))y++;for(_=0,D=v;D;D=wi(D))_++;for(;0<y-_;)E=wi(E),y--;for(;0<_-y;)v=wi(v),_--;for(;y--;){if(E===v||v!==null&&E===v.alternate)break t;E=wi(E),v=wi(v)}E=null}else E=null;p!==null&&oy(f,m,p,E,!1),C!==null&&T!==null&&oy(f,T,C,E,!0)}}e:{if(m=c?Ri(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var V=gC;else if(Jg(m))if(Mw)V=_C;else{V=vC;var M=yC}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=wC);if(V&&(V=V(t,c))){Ow(f,V,n,d);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Rh(m,"number",m.value)}switch(M=c?Ri(c):window,t){case"focusin":(Jg(M)||M.contentEditable==="true")&&(Ii=M,zh=c,pa=null);break;case"focusout":pa=zh=Ii=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,ry(f,n,d);break;case"selectionchange":if(TC)break;case"keydown":case"keyup":ry(f,n,d)}var x;if(mp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else bi?Dw(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Nw&&n.locale!=="ko"&&(bi||w!=="onCompositionStart"?w==="onCompositionEnd"&&bi&&(x=kw()):(Gr=d,hp="value"in Gr?Gr.value:Gr.textContent,bi=!0)),M=Lu(c,w),0<M.length&&(w=new Gg(w,t,null,n,d),f.push({event:w,listeners:M}),x?w.data=x:(x=Vw(n),x!==null&&(w.data=x)))),(x=dC?hC(t,n):fC(t,n))&&(c=Lu(c,"onBeforeInput"),0<c.length&&(d=new Gg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=x))}qw(f,e)})}function Va(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ia(t,n),i!=null&&r.unshift(Va(t,i,s)),i=Ia(t,e),i!=null&&r.push(Va(t,i,s))),t=t.return}return r}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Ia(n,i),u!=null&&o.unshift(Va(n,u,l))):s||(u=Ia(n,i),u!=null&&o.push(Va(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IC=/\r\n?/g,AC=/\u0000|\uFFFD/g;function ay(t){return(typeof t=="string"?t:""+t).replace(IC,`
`).replace(AC,"")}function Bl(t,e,n){if(e=ay(e),ay(t)!==e&&n)throw Error(B(425))}function Fu(){}var Bh=null,Hh=null;function Wh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qh=typeof setTimeout=="function"?setTimeout:void 0,RC=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,PC=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(kC)}:qh;function kC(t){setTimeout(function(){throw t})}function Kd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Pa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Pa(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Eo,Oa="__reactProps$"+Eo,gr="__reactContainer$"+Eo,Qh="__reactEvents$"+Eo,NC="__reactListeners$"+Eo,DC="__reactHandles$"+Eo;function js(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uy(t);t!==null;){if(n=t[Bn])return n;t=uy(t)}return e}t=n,n=t.parentNode}return null}function ul(t){return t=t[Bn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Ac(t){return t[Oa]||null}var Gh=[],Pi=-1;function Ss(t){return{current:t}}function Pe(t){0>Pi||(t.current=Gh[Pi],Gh[Pi]=null,Pi--)}function Ce(t,e){Pi++,Gh[Pi]=t.current,t.current=e}var ds={},St=Ss(ds),jt=Ss(!1),Zs=ds;function so(t,e){var n=t.type.contextTypes;if(!n)return ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(t){return t=t.childContextTypes,t!=null}function ju(){Pe(jt),Pe(St)}function cy(t,e,n){if(St.current!==ds)throw Error(B(168));Ce(St,e),Ce(jt,n)}function Gw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,yS(t)||"Unknown",s));return Le({},n,r)}function Uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ds,Zs=St.current,Ce(St,t),Ce(jt,jt.current),!0}function dy(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Gw(t,e,Zs),r.__reactInternalMemoizedMergedChildContext=t,Pe(jt),Pe(St),Ce(St,t)):Pe(jt),Ce(jt,n)}var cr=null,Rc=!1,Yd=!1;function Kw(t){cr===null?cr=[t]:cr.push(t)}function VC(t){Rc=!0,Kw(t)}function Cs(){if(!Yd&&cr!==null){Yd=!0;var t=0,e=xe;try{var n=cr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,Rc=!1}catch(s){throw cr!==null&&(cr=cr.slice(t+1)),_w(lp,Cs),s}finally{xe=e,Yd=!1}}return null}var ki=[],Ni=0,zu=null,$u=0,rn=[],sn=0,ei=null,hr=1,fr="";function Ms(t,e){ki[Ni++]=$u,ki[Ni++]=zu,zu=t,$u=e}function Yw(t,e,n){rn[sn++]=hr,rn[sn++]=fr,rn[sn++]=ei,ei=t;var r=hr;t=fr;var s=32-xn(r)-1;r&=~(1<<s),n+=1;var i=32-xn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hr=1<<32-xn(e)+s|n<<s|r,fr=i+t}else hr=1<<i|n<<s|r,fr=t}function yp(t){t.return!==null&&(Ms(t,1),Yw(t,1,0))}function vp(t){for(;t===zu;)zu=ki[--Ni],ki[Ni]=null,$u=ki[--Ni],ki[Ni]=null;for(;t===ei;)ei=rn[--sn],rn[sn]=null,fr=rn[--sn],rn[sn]=null,hr=rn[--sn],rn[sn]=null}var Kt=null,Qt=null,Ne=!1,En=null;function Xw(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,Qt=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ei!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,Qt=null,!0):!1;default:return!1}}function Kh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yh(t){if(Ne){var e=Qt;if(e){var n=e;if(!hy(t,e)){if(Kh(t))throw Error(B(418));e=ts(n.nextSibling);var r=Kt;e&&hy(t,e)?Xw(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Kt=t)}}else{if(Kh(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ne=!1,Kt=t}}}function fy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function Hl(t){if(t!==Kt)return!1;if(!Ne)return fy(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wh(t.type,t.memoizedProps)),e&&(e=Qt)){if(Kh(t))throw Jw(),Error(B(418));for(;e;)Xw(t,e),e=ts(e.nextSibling)}if(fy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Kt?ts(t.stateNode.nextSibling):null;return!0}function Jw(){for(var t=Qt;t;)t=ts(t.nextSibling)}function io(){Qt=Kt=null,Ne=!1}function wp(t){En===null?En=[t]:En.push(t)}var OC=Sr.ReactCurrentBatchConfig;function Yo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Wl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function py(t){var e=t._init;return e(t._payload)}function Zw(t){function e(v,y){if(t){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=is(v,y),v.index=0,v.sibling=null,v}function i(v,y,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=2,y):_):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,y,_,D){return y===null||y.tag!==6?(y=rh(_,v.mode,D),y.return=v,y):(y=s(y,_),y.return=v,y)}function u(v,y,_,D){var V=_.type;return V===Ci?d(v,y,_.props.children,D,_.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===jr&&py(V)===y.type)?(D=s(y,_.props),D.ref=Yo(v,y,_),D.return=v,D):(D=vu(_.type,_.key,_.props,null,v.mode,D),D.ref=Yo(v,y,_),D.return=v,D)}function c(v,y,_,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=sh(_,v.mode,D),y.return=v,y):(y=s(y,_.children||[]),y.return=v,y)}function d(v,y,_,D,V){return y===null||y.tag!==7?(y=Ys(_,v.mode,D,V),y.return=v,y):(y=s(y,_),y.return=v,y)}function f(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=rh(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vl:return _=vu(y.type,y.key,y.props,null,v.mode,_),_.ref=Yo(v,null,y),_.return=v,_;case Si:return y=sh(y,v.mode,_),y.return=v,y;case jr:var D=y._init;return f(v,D(y._payload),_)}if(ra(y)||Wo(y))return y=Ys(y,v.mode,_,null),y.return=v,y;Wl(v,y)}return null}function m(v,y,_,D){var V=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:l(v,y,""+_,D);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vl:return _.key===V?u(v,y,_,D):null;case Si:return _.key===V?c(v,y,_,D):null;case jr:return V=_._init,m(v,y,V(_._payload),D)}if(ra(_)||Wo(_))return V!==null?null:d(v,y,_,D,null);Wl(v,_)}return null}function p(v,y,_,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(_)||null,l(y,v,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Vl:return v=v.get(D.key===null?_:D.key)||null,u(y,v,D,V);case Si:return v=v.get(D.key===null?_:D.key)||null,c(y,v,D,V);case jr:var M=D._init;return p(v,y,_,M(D._payload),V)}if(ra(D)||Wo(D))return v=v.get(_)||null,d(y,v,D,V,null);Wl(y,D)}return null}function C(v,y,_,D){for(var V=null,M=null,x=y,w=y=0,I=null;x!==null&&w<_.length;w++){x.index>w?(I=x,x=null):I=x.sibling;var b=m(v,x,_[w],D);if(b===null){x===null&&(x=I);break}t&&x&&b.alternate===null&&e(v,x),y=i(b,y,w),M===null?V=b:M.sibling=b,M=b,x=I}if(w===_.length)return n(v,x),Ne&&Ms(v,w),V;if(x===null){for(;w<_.length;w++)x=f(v,_[w],D),x!==null&&(y=i(x,y,w),M===null?V=x:M.sibling=x,M=x);return Ne&&Ms(v,w),V}for(x=r(v,x);w<_.length;w++)I=p(x,v,w,_[w],D),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?w:I.key),y=i(I,y,w),M===null?V=I:M.sibling=I,M=I);return t&&x.forEach(function(k){return e(v,k)}),Ne&&Ms(v,w),V}function E(v,y,_,D){var V=Wo(_);if(typeof V!="function")throw Error(B(150));if(_=V.call(_),_==null)throw Error(B(151));for(var M=V=null,x=y,w=y=0,I=null,b=_.next();x!==null&&!b.done;w++,b=_.next()){x.index>w?(I=x,x=null):I=x.sibling;var k=m(v,x,b.value,D);if(k===null){x===null&&(x=I);break}t&&x&&k.alternate===null&&e(v,x),y=i(k,y,w),M===null?V=k:M.sibling=k,M=k,x=I}if(b.done)return n(v,x),Ne&&Ms(v,w),V;if(x===null){for(;!b.done;w++,b=_.next())b=f(v,b.value,D),b!==null&&(y=i(b,y,w),M===null?V=b:M.sibling=b,M=b);return Ne&&Ms(v,w),V}for(x=r(v,x);!b.done;w++,b=_.next())b=p(x,v,w,b.value,D),b!==null&&(t&&b.alternate!==null&&x.delete(b.key===null?w:b.key),y=i(b,y,w),M===null?V=b:M.sibling=b,M=b);return t&&x.forEach(function(N){return e(v,N)}),Ne&&Ms(v,w),V}function T(v,y,_,D){if(typeof _=="object"&&_!==null&&_.type===Ci&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Vl:e:{for(var V=_.key,M=y;M!==null;){if(M.key===V){if(V=_.type,V===Ci){if(M.tag===7){n(v,M.sibling),y=s(M,_.props.children),y.return=v,v=y;break e}}else if(M.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===jr&&py(V)===M.type){n(v,M.sibling),y=s(M,_.props),y.ref=Yo(v,M,_),y.return=v,v=y;break e}n(v,M);break}else e(v,M);M=M.sibling}_.type===Ci?(y=Ys(_.props.children,v.mode,D,_.key),y.return=v,v=y):(D=vu(_.type,_.key,_.props,null,v.mode,D),D.ref=Yo(v,y,_),D.return=v,v=D)}return o(v);case Si:e:{for(M=_.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(v,y.sibling),y=s(y,_.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=sh(_,v.mode,D),y.return=v,v=y}return o(v);case jr:return M=_._init,T(v,y,M(_._payload),D)}if(ra(_))return C(v,y,_,D);if(Wo(_))return E(v,y,_,D);Wl(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,_),y.return=v,v=y):(n(v,y),y=rh(_,v.mode,D),y.return=v,v=y),o(v)):n(v,y)}return T}var oo=Zw(!0),e_=Zw(!1),Bu=Ss(null),Hu=null,Di=null,_p=null;function Ep(){_p=Di=Hu=null}function xp(t){var e=Bu.current;Pe(Bu),t._currentValue=e}function Xh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ui(t,e){Hu=t,_p=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(_p!==t)if(t={context:t,memoizedValue:e,next:null},Di===null){if(Hu===null)throw Error(B(308));Di=t,Hu.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return e}var Us=null;function Tp(t){Us===null?Us=[t]:Us.push(t)}function t_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tp(e)):(n.next=s.next,s.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ur=!1;function Sp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,yr(t,n)}return s=r.interleaved,s===null?(e.next=e,Tp(r)):(e.next=s.next,s.next=e),r.interleaved=e,yr(t,n)}function hu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}function my(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wu(t,e,n,r){var s=t.updateQueue;Ur=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,E=l;switch(m=e,p=n,E.tag){case 1:if(C=E.payload,typeof C=="function"){f=C.call(p,f,m);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=E.payload,m=typeof C=="function"?C.call(p,f,m):C,m==null)break e;f=Le({},f,m);break e;case 2:Ur=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=p,u=f):d=d.next=p,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ni|=o,t.lanes=o,t.memoizedState=f}}function gy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var cl={},qn=Ss(cl),Ma=Ss(cl),La=Ss(cl);function zs(t){if(t===cl)throw Error(B(174));return t}function Cp(t,e){switch(Ce(La,e),Ce(Ma,t),Ce(qn,cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kh(e,t)}Pe(qn),Ce(qn,e)}function ao(){Pe(qn),Pe(Ma),Pe(La)}function r_(t){zs(La.current);var e=zs(qn.current),n=kh(e,t.type);e!==n&&(Ce(Ma,t),Ce(qn,n))}function bp(t){Ma.current===t&&(Pe(qn),Pe(Ma))}var Ve=Ss(0);function qu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xd=[];function Ip(){for(var t=0;t<Xd.length;t++)Xd[t]._workInProgressVersionPrimary=null;Xd.length=0}var fu=Sr.ReactCurrentDispatcher,Jd=Sr.ReactCurrentBatchConfig,ti=0,Me=null,Xe=null,at=null,Qu=!1,ma=!1,Fa=0,MC=0;function yt(){throw Error(B(321))}function Ap(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function Rp(t,e,n,r,s,i){if(ti=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fu.current=t===null||t.memoizedState===null?UC:zC,t=n(r,s),ma){i=0;do{if(ma=!1,Fa=0,25<=i)throw Error(B(301));i+=1,at=Xe=null,e.updateQueue=null,fu.current=$C,t=n(r,s)}while(ma)}if(fu.current=Gu,e=Xe!==null&&Xe.next!==null,ti=0,at=Xe=Me=null,Qu=!1,e)throw Error(B(300));return t}function Pp(){var t=Fa!==0;return Fa=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Me.memoizedState=at=t:at=at.next=t,at}function cn(){if(Xe===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=at===null?Me.memoizedState:at.next;if(e!==null)at=e,Xe=t;else{if(t===null)throw Error(B(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},at===null?Me.memoizedState=at=t:at=at.next=t}return at}function ja(t,e){return typeof e=="function"?e(t):e}function Zd(t){var e=cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((ti&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Me.lanes|=d,ni|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,Cn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,ni|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eh(t){var e=cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Cn(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function s_(){}function i_(t,e){var n=Me,r=cn(),s=e(),i=!Cn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ft=!0),r=r.queue,kp(l_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Ua(9,a_.bind(null,n,r,s,e),void 0,null),lt===null)throw Error(B(349));ti&30||o_(n,e,s)}return s}function o_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a_(t,e,n,r){e.value=n,e.getSnapshot=r,u_(e)&&c_(t)}function l_(t,e,n){return n(function(){u_(e)&&c_(t)})}function u_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function c_(t){var e=yr(t,1);e!==null&&Tn(e,t,1,-1)}function yy(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},e.queue=t,t=t.dispatch=jC.bind(null,Me,t),[e.memoizedState,t]}function Ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function d_(){return cn().memoizedState}function pu(t,e,n,r){var s=Fn();Me.flags|=t,s.memoizedState=Ua(1|e,n,void 0,r===void 0?null:r)}function Pc(t,e,n,r){var s=cn();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var o=Xe.memoizedState;if(i=o.destroy,r!==null&&Ap(r,o.deps)){s.memoizedState=Ua(e,n,i,r);return}}Me.flags|=t,s.memoizedState=Ua(1|e,n,i,r)}function vy(t,e){return pu(8390656,8,t,e)}function kp(t,e){return Pc(2048,8,t,e)}function h_(t,e){return Pc(4,2,t,e)}function f_(t,e){return Pc(4,4,t,e)}function p_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m_(t,e,n){return n=n!=null?n.concat([t]):null,Pc(4,4,p_.bind(null,e,t),n)}function Np(){}function g_(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ap(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function y_(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ap(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function v_(t,e,n){return ti&21?(Cn(n,e)||(n=Tw(),Me.lanes|=n,ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function LC(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Jd.transition;Jd.transition={};try{t(!1),e()}finally{xe=n,Jd.transition=r}}function w_(){return cn().memoizedState}function FC(t,e,n){var r=ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},__(t))E_(e,n);else if(n=t_(t,e,n,r),n!==null){var s=Rt();Tn(n,t,r,s),x_(n,e,r)}}function jC(t,e,n){var r=ss(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(__(t))E_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Cn(l,o)){var u=e.interleaved;u===null?(s.next=s,Tp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=t_(t,e,s,r),n!==null&&(s=Rt(),Tn(n,t,r,s),x_(n,e,r))}}function __(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function E_(t,e){ma=Qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}var Gu={readContext:un,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},UC={readContext:un,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pu(4194308,4,p_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pu(4194308,4,t,e)},useInsertionEffect:function(t,e){return pu(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FC.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:yy,useDebugValue:Np,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=yy(!1),e=t[0];return t=LC.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,s=Fn();if(Ne){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),lt===null)throw Error(B(349));ti&30||o_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,vy(l_.bind(null,r,i,t),[t]),r.flags|=2048,Ua(9,a_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Fn(),e=lt.identifierPrefix;if(Ne){var n=fr,r=hr;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zC={readContext:un,useCallback:g_,useContext:un,useEffect:kp,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:y_,useReducer:Zd,useRef:d_,useState:function(){return Zd(ja)},useDebugValue:Np,useDeferredValue:function(t){var e=cn();return v_(e,Xe.memoizedState,t)},useTransition:function(){var t=Zd(ja)[0],e=cn().memoizedState;return[t,e]},useMutableSource:s_,useSyncExternalStore:i_,useId:w_,unstable_isNewReconciler:!1},$C={readContext:un,useCallback:g_,useContext:un,useEffect:kp,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:y_,useReducer:eh,useRef:d_,useState:function(){return eh(ja)},useDebugValue:Np,useDeferredValue:function(t){var e=cn();return Xe===null?e.memoizedState=t:v_(e,Xe.memoizedState,t)},useTransition:function(){var t=eh(ja)[0],e=cn().memoizedState;return[t,e]},useMutableSource:s_,useSyncExternalStore:i_,useId:w_,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kc={isMounted:function(t){return(t=t._reactInternals)?ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=ss(t),i=pr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ns(t,i,s),e!==null&&(Tn(e,t,s,r),hu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=ss(t),i=pr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ns(t,i,s),e!==null&&(Tn(e,t,s,r),hu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=ss(t),s=pr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ns(t,s,r),e!==null&&(Tn(e,t,r,n),hu(e,t,r))}};function wy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Na(n,r)||!Na(s,i):!0}function T_(t,e,n){var r=!1,s=ds,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=Ut(e)?Zs:St.current,r=e.contextTypes,i=(r=r!=null)?so(t,s):ds),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function _y(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kc.enqueueReplaceState(e,e.state,null)}function Zh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Sp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=Ut(e)?Zs:St.current,s.context=so(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Jh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&kc.enqueueReplaceState(s,s.state,null),Wu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function lo(t,e){try{var n="",r=e;do n+=gS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function th(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ef(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BC=typeof WeakMap=="function"?WeakMap:Map;function S_(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yu||(Yu=!0,df=r),ef(t,e)},n}function C_(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ef(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ef(t,e),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ey(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rb.bind(null,t,e,n),e.then(t,t))}function xy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ty(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,ns(n,e,1))),n.lanes|=1),t)}var HC=Sr.ReactCurrentOwner,Ft=!1;function It(t,e,n,r){e.child=t===null?e_(e,null,n,r):oo(e,t.child,n,r)}function Sy(t,e,n,r,s){n=n.render;var i=e.ref;return Ui(e,s),r=Rp(t,e,n,r,i,s),n=Pp(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(Ne&&n&&yp(e),e.flags|=1,It(t,e,r,s),e.child)}function Cy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Up(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,b_(t,e,i,r,s)):(t=vu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(o,r)&&t.ref===e.ref)return vr(t,e,s)}return e.flags|=1,t=is(i,r),t.ref=e.ref,t.return=e,e.child=t}function b_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Na(i,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,vr(t,e,s)}return tf(t,e,n,r,s)}function I_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Oi,Wt),Wt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Oi,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(Oi,Wt),Wt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(Oi,Wt),Wt|=r;return It(t,e,s,n),e.child}function A_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tf(t,e,n,r,s){var i=Ut(n)?Zs:St.current;return i=so(e,i),Ui(e,s),n=Rp(t,e,n,r,i,s),r=Pp(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vr(t,e,s)):(Ne&&r&&yp(e),e.flags|=1,It(t,e,n,s),e.child)}function by(t,e,n,r,s){if(Ut(n)){var i=!0;Uu(e)}else i=!1;if(Ui(e,s),e.stateNode===null)mu(t,e),T_(e,n,r),Zh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=Ut(n)?Zs:St.current,c=so(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&_y(e,o,r,c),Ur=!1;var m=e.memoizedState;o.state=m,Wu(e,r,o,s),u=e.memoizedState,l!==r||m!==u||jt.current||Ur?(typeof d=="function"&&(Jh(e,n,d,r),u=e.memoizedState),(l=Ur||wy(e,n,l,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,n_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:gn(e.type,l),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=un(u):(u=Ut(n)?Zs:St.current,u=so(e,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&_y(e,o,r,u),Ur=!1,m=e.memoizedState,o.state=m,Wu(e,r,o,s);var C=e.memoizedState;l!==f||m!==C||jt.current||Ur?(typeof p=="function"&&(Jh(e,n,p,r),C=e.memoizedState),(c=Ur||wy(e,n,c,r,m,C,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return nf(t,e,n,r,i,s)}function nf(t,e,n,r,s,i){A_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&dy(e,n,!1),vr(t,e,i);r=e.stateNode,HC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oo(e,t.child,null,i),e.child=oo(e,null,l,i)):It(t,e,l,i),e.memoizedState=r.state,s&&dy(e,n,!0),e.child}function R_(t){var e=t.stateNode;e.pendingContext?cy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cy(t,e.context,!1),Cp(t,e.containerInfo)}function Iy(t,e,n,r,s){return io(),wp(s),e.flags|=256,It(t,e,n,r),e.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function sf(t){return{baseLanes:t,cachePool:null,transitions:null}}function P_(t,e,n){var r=e.pendingProps,s=Ve.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Ve,s&1),t===null)return Yh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vc(o,r,0,null),t=Ys(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sf(n),e.memoizedState=rf,t):Dp(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return WC(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=is(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=is(l,i):(i=Ys(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?sf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=rf,r}return i=t.child,t=i.sibling,r=is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dp(t,e){return e=Vc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ql(t,e,n,r){return r!==null&&wp(r),oo(e,t.child,null,n),t=Dp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=th(Error(B(422))),ql(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vc({mode:"visible",children:r.children},s,0,null),i=Ys(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&oo(e,t.child,null,o),e.child.memoizedState=sf(o),e.memoizedState=rf,i);if(!(e.mode&1))return ql(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=th(i,r,void 0),ql(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ft||l){if(r=lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yr(t,s),Tn(r,t,s,-1))}return jp(),r=th(Error(B(421))),ql(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qt=ts(s.nextSibling),Kt=e,Ne=!0,En=null,t!==null&&(rn[sn++]=hr,rn[sn++]=fr,rn[sn++]=ei,hr=t.id,fr=t.overflow,ei=e),e=Dp(e,r.children),e.flags|=4096,e)}function Ay(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xh(t.return,e,n)}function nh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function k_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(It(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,n,e);else if(t.tag===19)Ay(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nh(e,!0,n,null,i);break;case"together":nh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qC(t,e,n){switch(e.tag){case 3:R_(e),io();break;case 5:r_(e);break;case 1:Ut(e.type)&&Uu(e);break;case 4:Cp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Bu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?P_(t,e,n):(Ce(Ve,Ve.current&1),t=vr(t,e,n),t!==null?t.sibling:null);Ce(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,I_(t,e,n)}return vr(t,e,n)}var N_,of,D_,V_;N_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};of=function(){};D_=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,zs(qn.current);var i=null;switch(n){case"input":s=Ih(t,s),r=Ih(t,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=Ph(t,s),r=Ph(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fu)}Nh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ca.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ae("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};V_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xo(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QC(t,e,n){var r=e.pendingProps;switch(vp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Ut(e.type)&&ju(),vt(e),null;case 3:return r=e.stateNode,ao(),Pe(jt),Pe(St),Ip(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(pf(En),En=null))),of(t,e),vt(e),null;case 5:bp(e);var s=zs(La.current);if(n=e.type,t!==null&&e.stateNode!=null)D_(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return vt(e),null}if(t=zs(qn.current),Hl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Bn]=e,r[Oa]=i,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(s=0;s<ia.length;s++)Ae(ia[s],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Lg(r,i),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",r);break;case"textarea":jg(r,i),Ae("invalid",r)}Nh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bl(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bl(r.textContent,l,t),s=["children",""+l]):Ca.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":Ol(r),Fg(r,i,!0);break;case"textarea":Ol(r),Ug(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bn]=e,t[Oa]=r,N_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dh(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),s=r;break;case"iframe":case"object":case"embed":Ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<ia.length;s++)Ae(ia[s],t);s=r;break;case"source":Ae("error",t),s=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),s=r;break;case"details":Ae("toggle",t),s=r;break;case"input":Lg(t,r),s=Ih(t,r),Ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":jg(t,r),s=Ph(t,r),Ae("invalid",t);break;default:s=r}Nh(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?dw(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&uw(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ba(t,u):typeof u=="number"&&ba(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ca.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ae("scroll",t):u!=null&&rp(t,i,u,o))}switch(n){case"input":Ol(t),Fg(t,r,!1);break;case"textarea":Ol(t),Ug(t);break;case"option":r.value!=null&&t.setAttribute("value",""+cs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Mi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Mi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)V_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=zs(La.current),zs(qn.current),Hl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bn]=e,(i=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:Bl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bn]=e,e.stateNode=r}return vt(e),null;case 13:if(Pe(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Qt!==null&&e.mode&1&&!(e.flags&128))Jw(),io(),e.flags|=98560,i=!1;else if(i=Hl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Bn]=e}else io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),i=!1}else En!==null&&(pf(En),En=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?et===0&&(et=3):jp())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return ao(),of(t,e),t===null&&Da(e.stateNode.containerInfo),vt(e),null;case 10:return xp(e.type._context),vt(e),null;case 17:return Ut(e.type)&&ju(),vt(e),null;case 19:if(Pe(Ve),i=e.memoizedState,i===null)return vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xo(i,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qu(t),o!==null){for(e.flags|=128,Xo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ve,Ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&Be()>uo&&(e.flags|=128,r=!0,Xo(i,!1),e.lanes=4194304)}else{if(!r)if(t=qu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return vt(e),null}else 2*Be()-i.renderingStartTime>uo&&n!==1073741824&&(e.flags|=128,r=!0,Xo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Be(),e.sibling=null,n=Ve.current,Ce(Ve,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Fp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function GC(t,e){switch(vp(e),e.tag){case 1:return Ut(e.type)&&ju(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ao(),Pe(jt),Pe(St),Ip(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bp(e),null;case 13:if(Pe(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Ve),null;case 4:return ao(),null;case 10:return xp(e.type._context),null;case 22:case 23:return Fp(),null;case 24:return null;default:return null}}var Ql=!1,xt=!1,KC=typeof WeakSet=="function"?WeakSet:Set,K=null;function Vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function af(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Ry=!1;function YC(t,e){if(Bh=Ou,t=jw(),gp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(u=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hh={focusedElem:t,selectionRange:n},Ou=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var E=C.memoizedProps,T=C.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?E:gn(e.type,E),T);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){ze(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return C=Ry,Ry=!1,C}function ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&af(e,n,i)}s=s.next}while(s!==r)}}function Nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O_(t){var e=t.alternate;e!==null&&(t.alternate=null,O_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[Oa],delete e[Qh],delete e[NC],delete e[DC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M_(t){return t.tag===5||t.tag===3||t.tag===4}function Py(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fu));else if(r!==4&&(t=t.child,t!==null))for(uf(t,e,n),t=t.sibling;t!==null;)uf(t,e,n),t=t.sibling}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}var ut=null,_n=!1;function Or(t,e,n){for(n=n.child;n!==null;)L_(t,e,n),n=n.sibling}function L_(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:xt||Vi(n,e);case 6:var r=ut,s=_n;ut=null,Or(t,e,n),ut=r,_n=s,ut!==null&&(_n?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(_n?(t=ut,n=n.stateNode,t.nodeType===8?Kd(t.parentNode,n):t.nodeType===1&&Kd(t,n),Pa(t)):Kd(ut,n.stateNode));break;case 4:r=ut,s=_n,ut=n.stateNode.containerInfo,_n=!0,Or(t,e,n),ut=r,_n=s;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&af(n,e,o),s=s.next}while(s!==r)}Or(t,e,n);break;case 1:if(!xt&&(Vi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,e,l)}Or(t,e,n);break;case 21:Or(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Or(t,e,n),xt=r):Or(t,e,n);break;default:Or(t,e,n)}}function ky(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KC),e.forEach(function(r){var s=ib.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,_n=!1;break e;case 3:ut=l.stateNode.containerInfo,_n=!0;break e;case 4:ut=l.stateNode.containerInfo,_n=!0;break e}l=l.return}if(ut===null)throw Error(B(160));L_(i,o,s),ut=null,_n=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)F_(e,t),e=e.sibling}function F_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),Ln(t),r&4){try{ga(3,t,t.return),Nc(3,t)}catch(E){ze(t,t.return,E)}try{ga(5,t,t.return)}catch(E){ze(t,t.return,E)}}break;case 1:pn(e,t),Ln(t),r&512&&n!==null&&Vi(n,n.return);break;case 5:if(pn(e,t),Ln(t),r&512&&n!==null&&Vi(n,n.return),t.flags&32){var s=t.stateNode;try{ba(s,"")}catch(E){ze(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ow(s,i),Dh(l,o);var c=Dh(l,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?dw(s,f):d==="dangerouslySetInnerHTML"?uw(s,f):d==="children"?ba(s,f):rp(s,d,f,c)}switch(l){case"input":Ah(s,i);break;case"textarea":aw(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Mi(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Mi(s,!!i.multiple,i.defaultValue,!0):Mi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Oa]=i}catch(E){ze(t,t.return,E)}}break;case 6:if(pn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){ze(t,t.return,E)}}break;case 3:if(pn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(e.containerInfo)}catch(E){ze(t,t.return,E)}break;case 4:pn(e,t),Ln(t);break;case 13:pn(e,t),Ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mp=Be())),r&4&&ky(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(c=xt)||d,pn(e,t),xt=c):pn(e,t),Ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(f=K=d;K!==null;){switch(m=K,p=m.child,m.tag){case 0:case 11:case 14:case 15:ga(4,m,m.return);break;case 1:Vi(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(E){ze(r,n,E)}}break;case 5:Vi(m,m.return);break;case 22:if(m.memoizedState!==null){Dy(f);continue}}p!==null?(p.return=m,K=p):Dy(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=cw("display",o))}catch(E){ze(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){ze(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(e,t),Ln(t),r&4&&ky(t);break;case 21:break;default:pn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(M_(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ba(s,""),r.flags&=-33);var i=Py(t);cf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Py(t);uf(t,l,o);break;default:throw Error(B(161))}}catch(u){ze(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XC(t,e,n){K=t,j_(t)}function j_(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ql;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||xt;l=Ql;var c=xt;if(Ql=o,(xt=u)&&!c)for(K=s;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?Vy(s):u!==null?(u.return=o,K=u):Vy(s);for(;i!==null;)K=i,j_(i),i=i.sibling;K=s,Ql=l,xt=c}Ny(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):Ny(t)}}function Ny(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&gy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}xt||e.flags&512&&lf(e)}catch(m){ze(e,e.return,m)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Dy(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function Vy(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nc(4,e)}catch(u){ze(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){ze(e,s,u)}}var i=e.return;try{lf(e)}catch(u){ze(e,i,u)}break;case 5:var o=e.return;try{lf(e)}catch(u){ze(e,o,u)}}}catch(u){ze(e,e.return,u)}if(e===t){K=null;break}var l=e.sibling;if(l!==null){l.return=e.return,K=l;break}K=e.return}}var JC=Math.ceil,Ku=Sr.ReactCurrentDispatcher,Vp=Sr.ReactCurrentOwner,ln=Sr.ReactCurrentBatchConfig,ve=0,lt=null,qe=null,ft=0,Wt=0,Oi=Ss(0),et=0,za=null,ni=0,Dc=0,Op=0,ya=null,Mt=null,Mp=0,uo=1/0,ur=null,Yu=!1,df=null,rs=null,Gl=!1,Kr=null,Xu=0,va=0,hf=null,gu=-1,yu=0;function Rt(){return ve&6?Be():gu!==-1?gu:gu=Be()}function ss(t){return t.mode&1?ve&2&&ft!==0?ft&-ft:OC.transition!==null?(yu===0&&(yu=Tw()),yu):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Pw(t.type)),t):1}function Tn(t,e,n,r){if(50<va)throw va=0,hf=null,Error(B(185));al(t,n,r),(!(ve&2)||t!==lt)&&(t===lt&&(!(ve&2)&&(Dc|=n),et===4&&$r(t,ft)),zt(t,r),n===1&&ve===0&&!(e.mode&1)&&(uo=Be()+500,Rc&&Cs()))}function zt(t,e){var n=t.callbackNode;OS(t,e);var r=Vu(t,t===lt?ft:0);if(r===0)n!==null&&Bg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bg(n),e===1)t.tag===0?VC(Oy.bind(null,t)):Kw(Oy.bind(null,t)),PC(function(){!(ve&6)&&Cs()}),n=null;else{switch(Sw(r)){case 1:n=lp;break;case 4:n=Ew;break;case 16:n=Du;break;case 536870912:n=xw;break;default:n=Du}n=Q_(n,U_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function U_(t,e){if(gu=-1,yu=0,ve&6)throw Error(B(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var r=Vu(t,t===lt?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ju(t,r);else{e=r;var s=ve;ve|=2;var i=$_();(lt!==t||ft!==e)&&(ur=null,uo=Be()+500,Ks(t,e));do try{tb();break}catch(l){z_(t,l)}while(!0);Ep(),Ku.current=i,ve=s,qe!==null?e=0:(lt=null,ft=0,e=et)}if(e!==0){if(e===2&&(s=Fh(t),s!==0&&(r=s,e=ff(t,s))),e===1)throw n=za,Ks(t,0),$r(t,r),zt(t,Be()),n;if(e===6)$r(t,r);else{if(s=t.current.alternate,!(r&30)&&!ZC(s)&&(e=Ju(t,r),e===2&&(i=Fh(t),i!==0&&(r=i,e=ff(t,i))),e===1))throw n=za,Ks(t,0),$r(t,r),zt(t,Be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ls(t,Mt,ur);break;case 3:if($r(t,r),(r&130023424)===r&&(e=Mp+500-Be(),10<e)){if(Vu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qh(Ls.bind(null,t,Mt,ur),e);break}Ls(t,Mt,ur);break;case 4:if($r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JC(r/1960))-r,10<r){t.timeoutHandle=qh(Ls.bind(null,t,Mt,ur),r);break}Ls(t,Mt,ur);break;case 5:Ls(t,Mt,ur);break;default:throw Error(B(329))}}}return zt(t,Be()),t.callbackNode===n?U_.bind(null,t):null}function ff(t,e){var n=ya;return t.current.memoizedState.isDehydrated&&(Ks(t,e).flags|=256),t=Ju(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&pf(e)),t}function pf(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function ZC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Cn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~Op,e&=~Dc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function Oy(t){if(ve&6)throw Error(B(327));zi();var e=Vu(t,0);if(!(e&1))return zt(t,Be()),null;var n=Ju(t,e);if(t.tag!==0&&n===2){var r=Fh(t);r!==0&&(e=r,n=ff(t,r))}if(n===1)throw n=za,Ks(t,0),$r(t,e),zt(t,Be()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,Mt,ur),zt(t,Be()),null}function Lp(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(uo=Be()+500,Rc&&Cs())}}function ri(t){Kr!==null&&Kr.tag===0&&!(ve&6)&&zi();var e=ve;ve|=1;var n=ln.transition,r=xe;try{if(ln.transition=null,xe=1,t)return t()}finally{xe=r,ln.transition=n,ve=e,!(ve&6)&&Cs()}}function Fp(){Wt=Oi.current,Pe(Oi)}function Ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RC(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ju();break;case 3:ao(),Pe(jt),Pe(St),Ip();break;case 5:bp(r);break;case 4:ao();break;case 13:Pe(Ve);break;case 19:Pe(Ve);break;case 10:xp(r.type._context);break;case 22:case 23:Fp()}n=n.return}if(lt=t,qe=t=is(t.current,null),ft=Wt=e,et=0,za=null,Op=Dc=ni=0,Mt=ya=null,Us!==null){for(e=0;e<Us.length;e++)if(n=Us[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Us=null}return t}function z_(t,e){do{var n=qe;try{if(Ep(),fu.current=Gu,Qu){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qu=!1}if(ti=0,at=Xe=Me=null,ma=!1,Fa=0,Vp.current=null,n===null||n.return===null){et=1,za=e,qe=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=ft,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=xy(o);if(p!==null){p.flags&=-257,Ty(p,o,l,i,e),p.mode&1&&Ey(i,c,e),e=p,u=c;var C=e.updateQueue;if(C===null){var E=new Set;E.add(u),e.updateQueue=E}else C.add(u);break e}else{if(!(e&1)){Ey(i,c,e),jp();break e}u=Error(B(426))}}else if(Ne&&l.mode&1){var T=xy(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Ty(T,o,l,i,e),wp(lo(u,l));break e}}i=u=lo(u,l),et!==4&&(et=2),ya===null?ya=[i]:ya.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=S_(i,u,e);my(i,v);break e;case 1:l=u;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(rs===null||!rs.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=C_(i,l,e);my(i,D);break e}}i=i.return}while(i!==null)}H_(n)}catch(V){e=V,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function $_(){var t=Ku.current;return Ku.current=Gu,t===null?Gu:t}function jp(){(et===0||et===3||et===2)&&(et=4),lt===null||!(ni&268435455)&&!(Dc&268435455)||$r(lt,ft)}function Ju(t,e){var n=ve;ve|=2;var r=$_();(lt!==t||ft!==e)&&(ur=null,Ks(t,e));do try{eb();break}catch(s){z_(t,s)}while(!0);if(Ep(),ve=n,Ku.current=r,qe!==null)throw Error(B(261));return lt=null,ft=0,et}function eb(){for(;qe!==null;)B_(qe)}function tb(){for(;qe!==null&&!bS();)B_(qe)}function B_(t){var e=q_(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?H_(t):qe=e,Vp.current=null}function H_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GC(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,qe=null;return}}else if(n=QC(n,e,Wt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);et===0&&(et=5)}function Ls(t,e,n){var r=xe,s=ln.transition;try{ln.transition=null,xe=1,nb(t,e,n,r)}finally{ln.transition=s,xe=r}return null}function nb(t,e,n,r){do zi();while(Kr!==null);if(ve&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(MS(t,i),t===lt&&(qe=lt=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gl||(Gl=!0,Q_(Du,function(){return zi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var o=xe;xe=1;var l=ve;ve|=4,Vp.current=null,YC(t,n),F_(n,t),xC(Hh),Ou=!!Bh,Hh=Bh=null,t.current=n,XC(n),IS(),ve=l,xe=o,ln.transition=i}else t.current=n;if(Gl&&(Gl=!1,Kr=t,Xu=s),i=t.pendingLanes,i===0&&(rs=null),PS(n.stateNode),zt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yu)throw Yu=!1,t=df,df=null,t;return Xu&1&&t.tag!==0&&zi(),i=t.pendingLanes,i&1?t===hf?va++:(va=0,hf=t):va=0,Cs(),null}function zi(){if(Kr!==null){var t=Sw(Xu),e=ln.transition,n=xe;try{if(ln.transition=null,xe=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,Xu=0,ve&6)throw Error(B(331));var s=ve;for(ve|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:ga(8,d,i)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var m=d.sibling,p=d.return;if(O_(d),d===c){K=null;break}if(m!==null){m.return=p,K=m;break}K=p}}}var C=i.alternate;if(C!==null){var E=C.child;if(E!==null){C.child=null;do{var T=E.sibling;E.sibling=null,E=T}while(E!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ga(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,K=v;break e}K=i.return}}var y=t.current;for(K=y;K!==null;){o=K;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,K=_;else e:for(o=y;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nc(9,l)}}catch(V){ze(l,l.return,V)}if(l===o){K=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,K=D;break e}K=l.return}}if(ve=s,Cs(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Sc,t)}catch{}r=!0}return r}finally{xe=n,ln.transition=e}}return!1}function My(t,e,n){e=lo(n,e),e=S_(t,e,1),t=ns(t,e,1),e=Rt(),t!==null&&(al(t,1,e),zt(t,e))}function ze(t,e,n){if(t.tag===3)My(t,t,n);else for(;e!==null;){if(e.tag===3){My(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=lo(n,t),t=C_(e,t,1),e=ns(e,t,1),t=Rt(),e!==null&&(al(e,1,t),zt(e,t));break}}e=e.return}}function rb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(ft&n)===n&&(et===4||et===3&&(ft&130023424)===ft&&500>Be()-Mp?Ks(t,0):Op|=n),zt(t,e)}function W_(t,e){e===0&&(t.mode&1?(e=Fl,Fl<<=1,!(Fl&130023424)&&(Fl=4194304)):e=1);var n=Rt();t=yr(t,e),t!==null&&(al(t,e,n),zt(t,n))}function sb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W_(t,n)}function ib(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),W_(t,n)}var q_;q_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,qC(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Ne&&e.flags&1048576&&Yw(e,$u,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mu(t,e),t=e.pendingProps;var s=so(e,St.current);Ui(e,n),s=Rp(null,e,r,t,s,n);var i=Pp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(r)?(i=!0,Uu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sp(e),s.updater=kc,e.stateNode=s,s._reactInternals=e,Zh(e,r,t,n),e=nf(null,e,r,!0,i,n)):(e.tag=0,Ne&&i&&yp(e),It(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ab(r),t=gn(r,t),s){case 0:e=tf(null,e,r,t,n);break e;case 1:e=by(null,e,r,t,n);break e;case 11:e=Sy(null,e,r,t,n);break e;case 14:e=Cy(null,e,r,gn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),tf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),by(t,e,r,s,n);case 3:e:{if(R_(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,n_(t,e),Wu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=lo(Error(B(423)),e),e=Iy(t,e,r,n,s);break e}else if(r!==s){s=lo(Error(B(424)),e),e=Iy(t,e,r,n,s);break e}else for(Qt=ts(e.stateNode.containerInfo.firstChild),Kt=e,Ne=!0,En=null,n=e_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(io(),r===s){e=vr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return r_(e),t===null&&Yh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Wh(r,s)?o=null:i!==null&&Wh(r,i)&&(e.flags|=32),A_(t,e),It(t,e,o,n),e.child;case 6:return t===null&&Yh(e),null;case 13:return P_(t,e,n);case 4:return Cp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oo(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Sy(t,e,r,s,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(Bu,r._currentValue),r._currentValue=o,i!==null)if(Cn(i.value,o)){if(i.children===s.children&&!jt.current){e=vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=pr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Xh(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}It(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ui(e,n),s=un(s),r=r(s),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,s=gn(r,e.pendingProps),s=gn(r.type,s),Cy(t,e,r,s,n);case 15:return b_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),mu(t,e),e.tag=1,Ut(r)?(t=!0,Uu(e)):t=!1,Ui(e,n),T_(e,r,s),Zh(e,r,s,n),nf(null,e,r,!0,t,n);case 19:return k_(t,e,n);case 22:return I_(t,e,n)}throw Error(B(156,e.tag))};function Q_(t,e){return _w(t,e)}function ob(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new ob(t,e,n,r)}function Up(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ab(t){if(typeof t=="function")return Up(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ip)return 11;if(t===op)return 14}return 2}function is(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Up(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ci:return Ys(n.children,s,i,e);case sp:o=8,s|=8;break;case Th:return t=an(12,n,e,s|2),t.elementType=Th,t.lanes=i,t;case Sh:return t=an(13,n,e,s),t.elementType=Sh,t.lanes=i,t;case Ch:return t=an(19,n,e,s),t.elementType=Ch,t.lanes=i,t;case rw:return Vc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tw:o=10;break e;case nw:o=9;break e;case ip:o=11;break e;case op:o=14;break e;case jr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=an(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ys(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function Vc(t,e,n,r){return t=an(22,t,r,e),t.elementType=rw,t.lanes=n,t.stateNode={isHidden:!1},t}function rh(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function sh(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lb(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zp(t,e,n,r,s,i,o,l,u){return t=new lb(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=an(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sp(i),t}function ub(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Si,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function G_(t){if(!t)return ds;t=t._reactInternals;e:{if(ui(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Ut(n))return Gw(t,n,e)}return e}function K_(t,e,n,r,s,i,o,l,u){return t=zp(n,r,!0,t,s,i,o,l,u),t.context=G_(null),n=t.current,r=Rt(),s=ss(n),i=pr(r,s),i.callback=e??null,ns(n,i,s),t.current.lanes=s,al(t,s,r),zt(t,r),t}function Oc(t,e,n,r){var s=e.current,i=Rt(),o=ss(s);return n=G_(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ns(s,e,o),t!==null&&(Tn(t,s,o,i),hu(t,s,o)),o}function Zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ly(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $p(t,e){Ly(t,e),(t=t.alternate)&&Ly(t,e)}function cb(){return null}var Y_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bp(t){this._internalRoot=t}Mc.prototype.render=Bp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Oc(t,e,null,null)};Mc.prototype.unmount=Bp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ri(function(){Oc(null,t,null,null)}),e[gr]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Iw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zr.length&&e!==0&&e<zr[n].priority;n++);zr.splice(n,0,t),n===0&&Rw(t)}};function Hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fy(){}function db(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Zu(o);i.call(c)}}var o=K_(e,r,t,0,null,!1,!1,"",Fy);return t._reactRootContainer=o,t[gr]=o.current,Da(t.nodeType===8?t.parentNode:t),ri(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Zu(u);l.call(c)}}var u=zp(t,0,!1,null,null,!1,!1,"",Fy);return t._reactRootContainer=u,t[gr]=u.current,Da(t.nodeType===8?t.parentNode:t),ri(function(){Oc(e,u,n,r)}),u}function Fc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Zu(o);l.call(u)}}Oc(e,o,t,s)}else o=db(n,e,t,s,r);return Zu(o)}Cw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sa(e.pendingLanes);n!==0&&(up(e,n|1),zt(e,Be()),!(ve&6)&&(uo=Be()+500,Cs()))}break;case 13:ri(function(){var r=yr(t,1);if(r!==null){var s=Rt();Tn(r,t,1,s)}}),$p(t,1)}};cp=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=Rt();Tn(e,t,134217728,n)}$p(t,134217728)}};bw=function(t){if(t.tag===13){var e=ss(t),n=yr(t,e);if(n!==null){var r=Rt();Tn(n,t,e,r)}$p(t,e)}};Iw=function(){return xe};Aw=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Oh=function(t,e,n){switch(e){case"input":if(Ah(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ac(r);if(!s)throw Error(B(90));iw(r),Ah(r,s)}}}break;case"textarea":aw(t,n);break;case"select":e=n.value,e!=null&&Mi(t,!!n.multiple,e,!1)}};pw=Lp;mw=ri;var hb={usingClientEntryPoint:!1,Events:[ul,Ri,Ac,hw,fw,Lp]},Jo={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fb={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vw(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||cb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Sc=Kl.inject(fb),Wn=Kl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hb;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hp(e))throw Error(B(200));return ub(t,e,null,n)};Jt.createRoot=function(t,e){if(!Hp(t))throw Error(B(299));var n=!1,r="",s=Y_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zp(t,1,!1,null,null,n,!1,r,s),t[gr]=e.current,Da(t.nodeType===8?t.parentNode:t),new Bp(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=vw(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return ri(t)};Jt.hydrate=function(t,e,n){if(!Lc(e))throw Error(B(200));return Fc(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Hp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Y_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=K_(e,null,t,1,n??null,s,!1,i,o),t[gr]=e.current,Da(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Mc(e)};Jt.render=function(t,e,n){if(!Lc(e))throw Error(B(200));return Fc(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Lc(t))throw Error(B(40));return t._reactRootContainer?(ri(function(){Fc(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Lp;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Fc(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function X_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X_)}catch(t){console.error(t)}}X_(),X0.exports=Jt;var dl=X0.exports;const J_=F0(dl);var Z_,jy=dl;Z_=jy.createRoot,jy.hydrateRoot;const pb=1,mb=1e6;let ih=0;function gb(){return ih=(ih+1)%Number.MAX_SAFE_INTEGER,ih.toString()}const oh=new Map,Uy=t=>{if(oh.has(t))return;const e=setTimeout(()=>{oh.delete(t),wa({type:"REMOVE_TOAST",toastId:t})},mb);oh.set(t,e)},yb=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,pb)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Uy(n):t.toasts.forEach(r=>{Uy(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},wu=[];let _u={toasts:[]};function wa(t){_u=yb(_u,t),wu.forEach(e=>{e(_u)})}function vb({...t}){const e=gb(),n=s=>wa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>wa({type:"DISMISS_TOAST",toastId:e});return wa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function wb(){const[t,e]=R.useState(_u);return R.useEffect(()=>(wu.push(e),()=>{const n=wu.indexOf(e);n>-1&&wu.splice(n,1)}),[t]),{...t,toast:vb,dismiss:n=>wa({type:"DISMISS_TOAST",toastId:n})}}function Je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function zy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function e1(...t){return e=>{let n=!1;const r=t.map(s=>{const i=zy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():zy(t[s],null)}}}}function bn(...t){return R.useCallback(e1(...t),t)}function jc(t,e=[]){let n=[];function r(i,o){const l=R.createContext(o),u=n.length;n=[...n,o];const c=f=>{var v;const{scope:m,children:p,...C}=f,E=((v=m==null?void 0:m[t])==null?void 0:v[u])||l,T=R.useMemo(()=>C,Object.values(C));return P.jsx(E.Provider,{value:T,children:p})};c.displayName=i+"Provider";function d(f,m){var E;const p=((E=m==null?void 0:m[t])==null?void 0:E[u])||l,C=R.useContext(p);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>R.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return R.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,_b(s,...e)]}function _b(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...l,...f}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ec(t){const e=xb(t),n=R.forwardRef((r,s)=>{const{children:i,...o}=r,l=R.Children.toArray(i),u=l.find(Sb);if(u){const c=u.props.children,d=l.map(f=>f===u?R.Children.count(c)>1?R.Children.only(null):R.isValidElement(c)?c.props.children:null:f);return P.jsx(e,{...o,ref:s,children:R.isValidElement(c)?R.cloneElement(c,void 0,d):null})}return P.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Eb=ec("Slot");function xb(t){const e=R.forwardRef((n,r)=>{const{children:s,...i}=n;if(R.isValidElement(s)){const o=bb(s),l=Cb(i,s.props);return s.type!==R.Fragment&&(l.ref=r?e1(r,o):o),R.cloneElement(s,l)}return R.Children.count(s)>1?R.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var t1=Symbol("radix.slottable");function Tb(t){const e=({children:n})=>P.jsx(P.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=t1,e}function Sb(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===t1}function Cb(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function bb(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ib(t){const e=t+"CollectionProvider",[n,r]=jc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:T,children:v}=E,y=W.useRef(null),_=W.useRef(new Map).current;return P.jsx(s,{scope:T,itemMap:_,collectionRef:y,children:v})};o.displayName=e;const l=t+"CollectionSlot",u=ec(l),c=W.forwardRef((E,T)=>{const{scope:v,children:y}=E,_=i(l,v),D=bn(T,_.collectionRef);return P.jsx(u,{ref:D,children:y})});c.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=ec(d),p=W.forwardRef((E,T)=>{const{scope:v,children:y,..._}=E,D=W.useRef(null),V=bn(T,D),M=i(d,v);return W.useEffect(()=>(M.itemMap.set(D,{ref:D,..._}),()=>void M.itemMap.delete(D))),P.jsx(m,{[f]:"",ref:V,children:y})});p.displayName=d;function C(E){const T=i(t+"CollectionConsumer",E);return W.useCallback(()=>{const y=T.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(T.itemMap.values()).sort((M,x)=>_.indexOf(M.ref.current)-_.indexOf(x.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},C,r]}var Ab=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$t=Ab.reduce((t,e)=>{const n=ec(`Primitive.${e}`),r=R.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function n1(t,e){t&&dl.flushSync(()=>t.dispatchEvent(e))}function hs(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t}),R.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Rb(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t);R.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Pb="DismissableLayer",mf="dismissableLayer.update",kb="dismissableLayer.pointerDownOutside",Nb="dismissableLayer.focusOutside",$y,r1=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wp=R.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,c=R.useContext(r1),[d,f]=R.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=R.useState({}),C=bn(e,x=>f(x)),E=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=E.indexOf(T),y=d?E.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,D=y>=v,V=Vb(x=>{const w=x.target,I=[...c.branches].some(b=>b.contains(w));!D||I||(s==null||s(x),o==null||o(x),x.defaultPrevented||l==null||l())},m),M=Ob(x=>{const w=x.target;[...c.branches].some(b=>b.contains(w))||(i==null||i(x),o==null||o(x),x.defaultPrevented||l==null||l())},m);return Rb(x=>{y===c.layers.size-1&&(r==null||r(x),!x.defaultPrevented&&l&&(x.preventDefault(),l()))},m),R.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($y=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),By(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$y)}},[d,m,n,c]),R.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),By())},[d,c]),R.useEffect(()=>{const x=()=>p({});return document.addEventListener(mf,x),()=>document.removeEventListener(mf,x)},[]),P.jsx($t.div,{...u,ref:C,style:{pointerEvents:_?D?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,V.onPointerDownCapture)})});Wp.displayName=Pb;var Db="DismissableLayerBranch",s1=R.forwardRef((t,e)=>{const n=R.useContext(r1),r=R.useRef(null),s=bn(e,r);return R.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),P.jsx($t.div,{...t,ref:s})});s1.displayName=Db;function Vb(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=R.useRef(!1),s=R.useRef(()=>{});return R.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){i1(kb,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ob(t,e=globalThis==null?void 0:globalThis.document){const n=hs(t),r=R.useRef(!1);return R.useEffect(()=>{const s=i=>{i.target&&!r.current&&i1(Nb,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function By(){const t=new CustomEvent(mf);document.dispatchEvent(t)}function i1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?n1(s,i):s.dispatchEvent(i)}var Mb=Wp,Lb=s1,fs=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},Fb="Portal",o1=R.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=R.useState(!1);fs(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?J_.createPortal(P.jsx($t.div,{...r,ref:e}),o):null});o1.displayName=Fb;function jb(t,e){return R.useReducer((n,r)=>e[n][r]??n,t)}var qp=t=>{const{present:e,children:n}=t,r=Ub(e),s=typeof n=="function"?n({present:r.isPresent}):R.Children.only(n),i=bn(r.ref,zb(s));return typeof n=="function"||r.isPresent?R.cloneElement(s,{ref:i}):null};qp.displayName="Presence";function Ub(t){const[e,n]=R.useState(),r=R.useRef(null),s=R.useRef(t),i=R.useRef("none"),o=t?"mounted":"unmounted",[l,u]=jb(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const c=Yl(r.current);i.current=l==="mounted"?c:"none"},[l]),fs(()=>{const c=r.current,d=s.current;if(d!==t){const m=i.current,p=Yl(c);t?u("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),fs(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const E=Yl(r.current).includes(p.animationName);if(p.target===e&&E&&(u("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},m=p=>{p.target===e&&(i.current=Yl(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:R.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Yl(t){return(t==null?void 0:t.animationName)||"none"}function zb(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $b=K0[" useInsertionEffect ".trim().toString()]||fs;function Bb({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Hb({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:s;{const d=R.useRef(t!==void 0);R.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const c=R.useCallback(d=>{var f;if(l){const m=Wb(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,t,i,o]);return[u,c]}function Hb({defaultProp:t,onChange:e}){const[n,r]=R.useState(t),s=R.useRef(n),i=R.useRef(e);return $b(()=>{i.current=e},[e]),R.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Wb(t){return typeof t=="function"}var qb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Qb="VisuallyHidden",Uc=R.forwardRef((t,e)=>P.jsx($t.span,{...t,ref:e,style:{...qb,...t.style}}));Uc.displayName=Qb;var Gb=Uc,Qp="ToastProvider",[Gp,Kb,Yb]=Ib("Toast"),[a1,gO]=jc("Toast",[Yb]),[Xb,zc]=a1(Qp),l1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,u]=R.useState(null),[c,d]=R.useState(0),f=R.useRef(!1),m=R.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qp}\`. Expected non-empty \`string\`.`),P.jsx(Gp.Provider,{scope:e,children:P.jsx(Xb,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:R.useCallback(()=>d(p=>p+1),[]),onToastRemove:R.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};l1.displayName=Qp;var u1="ToastViewport",Jb=["F8"],gf="toast.viewportPause",yf="toast.viewportResume",c1=R.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Jb,label:s="Notifications ({hotkey})",...i}=t,o=zc(u1,n),l=Kb(n),u=R.useRef(null),c=R.useRef(null),d=R.useRef(null),f=R.useRef(null),m=bn(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=o.toastCount>0;R.useEffect(()=>{const T=v=>{var _;r.length!==0&&r.every(D=>v[D]||v.code===D)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),R.useEffect(()=>{const T=u.current,v=f.current;if(C&&T&&v){const y=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(gf);v.dispatchEvent(M),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(yf);v.dispatchEvent(M),o.isClosePausedRef.current=!1}},D=M=>{!T.contains(M.relatedTarget)&&_()},V=()=>{T.contains(document.activeElement)||_()};return T.addEventListener("focusin",y),T.addEventListener("focusout",D),T.addEventListener("pointermove",y),T.addEventListener("pointerleave",V),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{T.removeEventListener("focusin",y),T.removeEventListener("focusout",D),T.removeEventListener("pointermove",y),T.removeEventListener("pointerleave",V),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[C,o.isClosePausedRef]);const E=R.useCallback(({tabbingDirection:T})=>{const y=l().map(_=>{const D=_.ref.current,V=[D,...dI(D)];return T==="forwards"?V:V.reverse()});return(T==="forwards"?y.reverse():y).flat()},[l]);return R.useEffect(()=>{const T=f.current;if(T){const v=y=>{var V,M,x;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const w=document.activeElement,I=y.shiftKey;if(y.target===T&&I){(V=c.current)==null||V.focus();return}const N=E({tabbingDirection:I?"backwards":"forwards"}),A=N.findIndex(H=>H===w);ah(N.slice(A+1))?y.preventDefault():I?(M=c.current)==null||M.focus():(x=d.current)==null||x.focus()}};return T.addEventListener("keydown",v),()=>T.removeEventListener("keydown",v)}},[l,E]),P.jsxs(Lb,{ref:u,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&P.jsx(vf,{ref:c,onFocusFromOutsideViewport:()=>{const T=E({tabbingDirection:"forwards"});ah(T)}}),P.jsx(Gp.Slot,{scope:n,children:P.jsx($t.ol,{tabIndex:-1,...i,ref:m})}),C&&P.jsx(vf,{ref:d,onFocusFromOutsideViewport:()=>{const T=E({tabbingDirection:"backwards"});ah(T)}})]})});c1.displayName=u1;var d1="ToastFocusProxy",vf=R.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=zc(d1,n);return P.jsx(Uc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const l=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(l))&&r()}})});vf.displayName=d1;var hl="Toast",Zb="toast.swipeStart",eI="toast.swipeMove",tI="toast.swipeCancel",nI="toast.swipeEnd",h1=R.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,u]=Bb({prop:r,defaultProp:s??!0,onChange:i,caller:hl});return P.jsx(qp,{present:n||l,children:P.jsx(iI,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:hs(t.onPause),onResume:hs(t.onResume),onSwipeStart:Je(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Je(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Je(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Je(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});h1.displayName=hl;var[rI,sI]=a1(hl,{onClose(){}}),iI=R.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...C}=t,E=zc(hl,n),[T,v]=R.useState(null),y=bn(e,H=>v(H)),_=R.useRef(null),D=R.useRef(null),V=s||E.duration,M=R.useRef(0),x=R.useRef(V),w=R.useRef(0),{onToastAdd:I,onToastRemove:b}=E,k=hs(()=>{var se;(T==null?void 0:T.contains(document.activeElement))&&((se=E.viewport)==null||se.focus()),o()}),N=R.useCallback(H=>{!H||H===1/0||(window.clearTimeout(w.current),M.current=new Date().getTime(),w.current=window.setTimeout(k,H))},[k]);R.useEffect(()=>{const H=E.viewport;if(H){const se=()=>{N(x.current),c==null||c()},te=()=>{const ie=new Date().getTime()-M.current;x.current=x.current-ie,window.clearTimeout(w.current),u==null||u()};return H.addEventListener(gf,te),H.addEventListener(yf,se),()=>{H.removeEventListener(gf,te),H.removeEventListener(yf,se)}}},[E.viewport,V,u,c,N]),R.useEffect(()=>{i&&!E.isClosePausedRef.current&&N(V)},[i,V,E.isClosePausedRef,N]),R.useEffect(()=>(I(),()=>b()),[I,b]);const A=R.useMemo(()=>T?w1(T):null,[T]);return E.viewport?P.jsxs(P.Fragment,{children:[A&&P.jsx(oI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),P.jsx(rI,{scope:n,onClose:k,children:dl.createPortal(P.jsx(Gp.ItemSlot,{scope:n,children:P.jsx(Mb,{asChild:!0,onEscapeKeyDown:Je(l,()=>{E.isFocusedToastEscapeKeyDownRef.current||k(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:P.jsx($t.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":E.swipeDirection,...C,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Je(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Je(t.onPointerDown,H=>{H.button===0&&(_.current={x:H.clientX,y:H.clientY})}),onPointerMove:Je(t.onPointerMove,H=>{if(!_.current)return;const se=H.clientX-_.current.x,te=H.clientY-_.current.y,ie=!!D.current,F=["left","right"].includes(E.swipeDirection),z=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,Q=F?z(0,se):0,ne=F?0:z(0,te),X=H.pointerType==="touch"?10:2,ce={x:Q,y:ne},le={originalEvent:H,delta:ce};ie?(D.current=ce,Xl(eI,f,le,{discrete:!1})):Hy(ce,E.swipeDirection,X)?(D.current=ce,Xl(Zb,d,le,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(se)>X||Math.abs(te)>X)&&(_.current=null)}),onPointerUp:Je(t.onPointerUp,H=>{const se=D.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),D.current=null,_.current=null,se){const ie=H.currentTarget,F={originalEvent:H,delta:se};Hy(se,E.swipeDirection,E.swipeThreshold)?Xl(nI,p,F,{discrete:!0}):Xl(tI,m,F,{discrete:!0}),ie.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),oI=t=>{const{__scopeToast:e,children:n,...r}=t,s=zc(hl,e),[i,o]=R.useState(!1),[l,u]=R.useState(!1);return uI(()=>o(!0)),R.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:P.jsx(o1,{asChild:!0,children:P.jsx(Uc,{...r,children:i&&P.jsxs(P.Fragment,{children:[s.label," ",n]})})})},aI="ToastTitle",f1=R.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return P.jsx($t.div,{...r,ref:e})});f1.displayName=aI;var lI="ToastDescription",p1=R.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return P.jsx($t.div,{...r,ref:e})});p1.displayName=lI;var m1="ToastAction",g1=R.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?P.jsx(v1,{altText:n,asChild:!0,children:P.jsx(Kp,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${m1}\`. Expected non-empty \`string\`.`),null)});g1.displayName=m1;var y1="ToastClose",Kp=R.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=sI(y1,n);return P.jsx(v1,{asChild:!0,children:P.jsx($t.button,{type:"button",...r,ref:e,onClick:Je(t.onClick,s.onClose)})})});Kp.displayName=y1;var v1=R.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return P.jsx($t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function w1(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),cI(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...w1(r))}}),e}function Xl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?n1(s,i):s.dispatchEvent(i)}var Hy=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function uI(t=()=>{}){const e=hs(t);fs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function cI(t){return t.nodeType===t.ELEMENT_NODE}function dI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ah(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var hI=l1,_1=c1,E1=h1,x1=f1,T1=p1,S1=g1,C1=Kp;function b1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=b1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function I1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=b1(t))&&(r&&(r+=" "),r+=e);return r}const Wy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qy=I1,A1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return qy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const m=Wy(d)||Wy(f);return s[c][m]}),l=n&&Object.entries(n).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(C=>{let[E,T]=C;return Array.isArray(T)?T.includes({...i,...l}[E]):{...i,...l}[E]===T})?[...c,f,m]:c},[]);return qy(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>R.createElement("svg",{ref:u,...pI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:R1("lucide",s),...l},[...o.map(([c,d])=>R.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=(t,e)=>{const n=R.forwardRef(({className:r,...s},i)=>R.createElement(mI,{ref:i,iconNode:e,className:R1(`lucide-${fI(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Yp("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Yp("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Yp("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xp="-",wI=t=>{const e=EI(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Xp);return l[0]===""&&l.length!==1&&l.shift(),P1(l,e)||_I(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},P1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?P1(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Xp);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Qy=/^\[(.+)\]$/,_I=t=>{if(Qy.test(t)){const e=Qy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},EI=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return TI(Object.entries(t.classGroups),n).forEach(([i,o])=>{wf(o,r,i,e)}),r},wf=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Gy(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(xI(s)){wf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{wf(o,Gy(e,i),n,r)})})},Gy=(t,e)=>{let n=t;return e.split(Xp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xI=t=>t.isThemeGetter,TI=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,SI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},k1="!",CI=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let c=0,d=0,f;for(let T=0;T<l.length;T++){let v=l[T];if(c===0){if(v===s&&(r||l.slice(T,T+i)===e)){u.push(l.slice(d,T)),d=T+i;continue}if(v==="/"){f=T;continue}}v==="["?c++:v==="]"&&c--}const m=u.length===0?l:l.substring(d),p=m.startsWith(k1),C=p?m.substring(1):m,E=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:C,maybePostfixModifierPosition:E}};return n?l=>n({className:l,parseClassName:o}):o},bI=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},II=t=>({cache:SI(t.cacheSize),parseClassName:CI(t),...wI(t)}),AI=/\s+/,RI=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(AI);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(c);let C=!!p,E=r(C?m.substring(0,p):m);if(!E){if(!C){l=c+(l.length>0?" "+l:l);continue}if(E=r(m),!E){l=c+(l.length>0?" "+l:l);continue}C=!1}const T=bI(d).join(":"),v=f?T+k1:T,y=v+E;if(i.includes(y))continue;i.push(y);const _=s(E,C);for(let D=0;D<_.length;++D){const V=_[D];i.push(v+V)}l=c+(l.length>0?" "+l:l)}return l};function PI(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=N1(e))&&(r&&(r+=" "),r+=n);return r}const N1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=N1(t[r]))&&(n&&(n+=" "),n+=e);return n};function kI(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,f)=>f(d),t());return n=II(c),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const c=r(u);if(c)return c;const d=RI(u,n);return s(u,d),d}return function(){return i(PI.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},D1=/^\[(?:([a-z-]+):)?(.+)\]$/i,NI=/^\d+\/\d+$/,DI=new Set(["px","full","screen"]),VI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ar=t=>$i(t)||DI.has(t)||NI.test(t),Mr=t=>xo(t,"length",qI),$i=t=>!!t&&!Number.isNaN(Number(t)),lh=t=>xo(t,"number",$i),Zo=t=>!!t&&Number.isInteger(Number(t)),jI=t=>t.endsWith("%")&&$i(t.slice(0,-1)),ue=t=>D1.test(t),Lr=t=>VI.test(t),UI=new Set(["length","size","percentage"]),zI=t=>xo(t,UI,V1),$I=t=>xo(t,"position",V1),BI=new Set(["image","url"]),HI=t=>xo(t,BI,GI),WI=t=>xo(t,"",QI),ea=()=>!0,xo=(t,e,n)=>{const r=D1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},qI=t=>OI.test(t)&&!MI.test(t),V1=()=>!1,QI=t=>LI.test(t),GI=t=>FI.test(t),KI=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),l=Ie("borderWidth"),u=Ie("contrast"),c=Ie("grayscale"),d=Ie("hueRotate"),f=Ie("invert"),m=Ie("gap"),p=Ie("gradientColorStops"),C=Ie("gradientColorStopPositions"),E=Ie("inset"),T=Ie("margin"),v=Ie("opacity"),y=Ie("padding"),_=Ie("saturate"),D=Ie("scale"),V=Ie("sepia"),M=Ie("skew"),x=Ie("space"),w=Ie("translate"),I=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ue,e],N=()=>[ue,e],A=()=>["",ar,Mr],H=()=>["auto",$i,ue],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ue],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[$i,ue];return{cacheSize:500,separator:":",theme:{colors:[ea],spacing:[ar,Mr],blur:["none","",Lr,ue],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Lr,ue],borderSpacing:N(),borderWidth:A(),contrast:ne(),grayscale:z(),hueRotate:ne(),invert:z(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[jI,Mr],inset:k(),margin:k(),opacity:ne(),padding:N(),saturate:ne(),scale:ne(),sepia:z(),skew:ne(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Lr]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ue]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zo,ue]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Zo,ue]}],"grid-cols":[{"grid-cols":[ea]}],"col-start-end":[{col:["auto",{span:["full",Zo,ue]},ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[ea]}],"row-start-end":[{row:["auto",{span:[Zo,ue]},ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Lr]},Lr]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Lr,Mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lh]}],"font-family":[{font:[ea]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",$i,lh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ar,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ar,Mr]}],"underline-offset":[{"underline-offset":["auto",ar,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),$I]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[ar,ue]}],"outline-w":[{outline:[ar,Mr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ar,Mr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Lr,WI]}],"shadow-color":[{shadow:[ea]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Lr,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Zo,ue]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ar,Mr,lh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YI=kI(KI);function Cr(...t){return YI(I1(t))}const XI=hI,O1=R.forwardRef(({className:t,...e},n)=>P.jsx(_1,{ref:n,className:Cr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));O1.displayName=_1.displayName;const JI=A1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M1=R.forwardRef(({className:t,variant:e,...n},r)=>P.jsx(E1,{ref:r,className:Cr(JI({variant:e}),t),...n}));M1.displayName=E1.displayName;const ZI=R.forwardRef(({className:t,...e},n)=>P.jsx(S1,{ref:n,className:Cr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));ZI.displayName=S1.displayName;const L1=R.forwardRef(({className:t,...e},n)=>P.jsx(C1,{ref:n,className:Cr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:P.jsx(vI,{className:"h-4 w-4"})}));L1.displayName=C1.displayName;const F1=R.forwardRef(({className:t,...e},n)=>P.jsx(x1,{ref:n,className:Cr("text-sm font-semibold",t),...e}));F1.displayName=x1.displayName;const j1=R.forwardRef(({className:t,...e},n)=>P.jsx(T1,{ref:n,className:Cr("text-sm opacity-90",t),...e}));j1.displayName=T1.displayName;function eA(){const{toasts:t}=wb();return P.jsxs(XI,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return P.jsxs(M1,{...i,children:[P.jsxs("div",{className:"grid gap-1",children:[n&&P.jsx(F1,{children:n}),r&&P.jsx(j1,{children:r})]}),s,P.jsx(L1,{})]},e)}),P.jsx(O1,{})]})}var Ky=["light","dark"],tA="(prefers-color-scheme: dark)",nA=R.createContext(void 0),rA={setTheme:t=>{},themes:[]},sA=()=>{var t;return(t=R.useContext(nA))!=null?t:rA};R.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:u})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(C=>`'${C}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Ky.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(C,E=!1,T=!0)=>{let v=o?o[C]:C,y=E?C+"|| ''":`'${v}'`,_="";return s&&T&&!E&&Ky.includes(C)&&(_+=`d.style.colorScheme = '${C}';`),n==="class"?E||v?_+=`c.add(${y})`:_+="null":v&&(_+=`d[s](n,${y})`),_},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${tA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${c?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return R.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})});var iA=t=>{switch(t){case"success":return lA;case"info":return cA;case"warning":return uA;case"error":return dA;default:return null}},oA=Array(12).fill(0),aA=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},oA.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),lA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hA=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fA=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},_f=1,pA=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:_f++,i=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:n}),{...l,...t,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async u=>{if(i=["resolve",u],W.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(gA(u)&&!u.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:n,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(u):e.success,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async u=>{if(i=["reject",u],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(u):e.error,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var u;s&&(this.dismiss(n),n=void 0),(u=e.finally)==null||u.call(e)}),l=()=>new Promise((u,c)=>o.then(()=>i[0]==="reject"?c(i[1]):u(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||_f++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vt=new pA,mA=(t,e)=>{let n=(e==null?void 0:e.id)||_f++;return Vt.addToast({title:t,...e,id:n}),n},gA=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yA=mA,vA=()=>Vt.toasts,wA=()=>Vt.getActiveToasts(),_A=Object.assign(yA,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:vA,getToasts:wA});function EA(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}EA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jl(t){return t.label!==void 0}var xA=3,TA="32px",SA="16px",Yy=4e3,CA=356,bA=14,IA=20,AA=200;function mn(...t){return t.filter(Boolean).join(" ")}function RA(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var PA=t=>{var e,n,r,s,i,o,l,u,c,d,f;let{invert:m,toast:p,unstyled:C,interacting:E,setHeights:T,visibleToasts:v,heights:y,index:_,toasts:D,expanded:V,removeToast:M,defaultRichColors:x,closeButton:w,style:I,cancelButtonStyle:b,actionButtonStyle:k,className:N="",descriptionClassName:A="",duration:H,position:se,gap:te,loadingIcon:ie,expandByDefault:F,classNames:z,icons:Q,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:X}=t,[ce,le]=W.useState(null),[ke,He]=W.useState(null),[me,Rn]=W.useState(!1),[dn,rr]=W.useState(!1),[Pn,sr]=W.useState(!1),[en,As]=W.useState(!1),[Po,br]=W.useState(!1),[Rs,Ir]=W.useState(0),[De,rt]=W.useState(0),kn=W.useRef(p.duration||H||Yy),wl=W.useRef(null),Nn=W.useRef(null),gd=_===0,Ps=_+1<=v,Ct=p.type,ir=p.dismissible!==!1,ko=p.className||"",yd=p.descriptionClassName||"",pi=W.useMemo(()=>y.findIndex(Z=>Z.toastId===p.id)||0,[y,p.id]),_l=W.useMemo(()=>{var Z;return(Z=p.closeButton)!=null?Z:w},[p.closeButton,w]),No=W.useMemo(()=>p.duration||H||Yy,[p.duration,H]),or=W.useRef(0),Dn=W.useRef(0),mi=W.useRef(0),Nt=W.useRef(null),[El,gi]=se.split("-"),Do=W.useMemo(()=>y.reduce((Z,_e,Se)=>Se>=pi?Z:Z+_e.height,0),[y,pi]),Ar=fA(),xl=p.invert||m,Ke=Ct==="loading";Dn.current=W.useMemo(()=>pi*te+Do,[pi,Do]),W.useEffect(()=>{kn.current=No},[No]),W.useEffect(()=>{Rn(!0)},[]),W.useEffect(()=>{let Z=Nn.current;if(Z){let _e=Z.getBoundingClientRect().height;return rt(_e),T(Se=>[{toastId:p.id,height:_e,position:p.position},...Se]),()=>T(Se=>Se.filter(st=>st.toastId!==p.id))}},[T,p.id]),W.useLayoutEffect(()=>{if(!me)return;let Z=Nn.current,_e=Z.style.height;Z.style.height="auto";let Se=Z.getBoundingClientRect().height;Z.style.height=_e,rt(Se),T(st=>st.find(Bt=>Bt.toastId===p.id)?st.map(Bt=>Bt.toastId===p.id?{...Bt,height:Se}:Bt):[{toastId:p.id,height:Se,position:p.position},...st])},[me,p.title,p.description,T,p.id]);let hn=W.useCallback(()=>{rr(!0),Ir(Dn.current),T(Z=>Z.filter(_e=>_e.toastId!==p.id)),setTimeout(()=>{M(p)},AA)},[p,M,T,Dn]);W.useEffect(()=>{if(p.promise&&Ct==="loading"||p.duration===1/0||p.type==="loading")return;let Z;return V||E||X&&Ar?(()=>{if(mi.current<or.current){let _e=new Date().getTime()-or.current;kn.current=kn.current-_e}mi.current=new Date().getTime()})():kn.current!==1/0&&(or.current=new Date().getTime(),Z=setTimeout(()=>{var _e;(_e=p.onAutoClose)==null||_e.call(p,p),hn()},kn.current)),()=>clearTimeout(Z)},[V,E,p,Ct,X,Ar,hn]),W.useEffect(()=>{p.delete&&hn()},[hn,p.delete]);function ks(){var Z,_e,Se;return Q!=null&&Q.loading?W.createElement("div",{className:mn(z==null?void 0:z.loader,(Z=p==null?void 0:p.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":Ct==="loading"},Q.loading):ie?W.createElement("div",{className:mn(z==null?void 0:z.loader,(_e=p==null?void 0:p.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Ct==="loading"},ie):W.createElement(aA,{className:mn(z==null?void 0:z.loader,(Se=p==null?void 0:p.classNames)==null?void 0:Se.loader),visible:Ct==="loading"})}return W.createElement("li",{tabIndex:0,ref:Nn,className:mn(N,ko,z==null?void 0:z.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[Ct],(n=p==null?void 0:p.classNames)==null?void 0:n[Ct]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:x,"data-styled":!(p.jsx||p.unstyled||C),"data-mounted":me,"data-promise":!!p.promise,"data-swiped":Po,"data-removed":dn,"data-visible":Ps,"data-y-position":El,"data-x-position":gi,"data-index":_,"data-front":gd,"data-swiping":Pn,"data-dismissible":ir,"data-type":Ct,"data-invert":xl,"data-swipe-out":en,"data-swipe-direction":ke,"data-expanded":!!(V||F&&me),style:{"--index":_,"--toasts-before":_,"--z-index":D.length-_,"--offset":`${dn?Rs:Dn.current}px`,"--initial-height":F?"auto":`${De}px`,...I,...p.style},onDragEnd:()=>{sr(!1),le(null),Nt.current=null},onPointerDown:Z=>{Ke||!ir||(wl.current=new Date,Ir(Dn.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(sr(!0),Nt.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,_e,Se,st;if(en||!ir)return;Nt.current=null;let Bt=Number(((Z=Nn.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Vn=Number(((_e=Nn.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tn=new Date().getTime()-((Se=wl.current)==null?void 0:Se.getTime()),Dt=ce==="x"?Bt:Vn,fn=Math.abs(Dt)/tn;if(Math.abs(Dt)>=IA||fn>.11){Ir(Dn.current),(st=p.onDismiss)==null||st.call(p,p),He(ce==="x"?Bt>0?"right":"left":Vn>0?"down":"up"),hn(),As(!0),br(!1);return}sr(!1),le(null)},onPointerMove:Z=>{var _e,Se,st,Bt;if(!Nt.current||!ir||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let Vn=Z.clientY-Nt.current.y,tn=Z.clientX-Nt.current.x,Dt=(Se=t.swipeDirections)!=null?Se:RA(se);!ce&&(Math.abs(tn)>1||Math.abs(Vn)>1)&&le(Math.abs(tn)>Math.abs(Vn)?"x":"y");let fn={x:0,y:0};ce==="y"?(Dt.includes("top")||Dt.includes("bottom"))&&(Dt.includes("top")&&Vn<0||Dt.includes("bottom")&&Vn>0)&&(fn.y=Vn):ce==="x"&&(Dt.includes("left")||Dt.includes("right"))&&(Dt.includes("left")&&tn<0||Dt.includes("right")&&tn>0)&&(fn.x=tn),(Math.abs(fn.x)>0||Math.abs(fn.y)>0)&&br(!0),(st=Nn.current)==null||st.style.setProperty("--swipe-amount-x",`${fn.x}px`),(Bt=Nn.current)==null||Bt.style.setProperty("--swipe-amount-y",`${fn.y}px`)}},_l&&!p.jsx?W.createElement("button",{"aria-label":ne,"data-disabled":Ke,"data-close-button":!0,onClick:Ke||!ir?()=>{}:()=>{var Z;hn(),(Z=p.onDismiss)==null||Z.call(p,p)},className:mn(z==null?void 0:z.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:hA):null,p.jsx||R.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,Ct||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:mn(z==null?void 0:z.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ks():null,p.type!=="loading"?p.icon||(Q==null?void 0:Q[Ct])||iA(Ct):null):null,W.createElement("div",{"data-content":"",className:mn(z==null?void 0:z.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},W.createElement("div",{"data-title":"",className:mn(z==null?void 0:z.title,(u=p==null?void 0:p.classNames)==null?void 0:u.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:mn(A,yd,z==null?void 0:z.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),R.isValidElement(p.cancel)?p.cancel:p.cancel&&Jl(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||b,onClick:Z=>{var _e,Se;Jl(p.cancel)&&ir&&((Se=(_e=p.cancel).onClick)==null||Se.call(_e,Z),hn())},className:mn(z==null?void 0:z.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,R.isValidElement(p.action)?p.action:p.action&&Jl(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:Z=>{var _e,Se;Jl(p.action)&&((Se=(_e=p.action).onClick)==null||Se.call(_e,Z),!Z.defaultPrevented&&hn())},className:mn(z==null?void 0:z.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Xy(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function kA(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?SA:TA;function u(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=l:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(l)}),n}var NA=R.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:c,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:C=xA,toastOptions:E,dir:T=Xy(),gap:v=bA,loadingIcon:y,icons:_,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:V}=t,[M,x]=W.useState([]),w=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[I,b]=W.useState([]),[k,N]=W.useState(!1),[A,H]=W.useState(!1),[se,te]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=W.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=W.useRef(null),Q=W.useRef(!1),ne=W.useCallback(X=>{x(ce=>{var le;return(le=ce.find(ke=>ke.id===X.id))!=null&&le.delete||Vt.dismiss(X.id),ce.filter(({id:ke})=>ke!==X.id)})},[]);return W.useEffect(()=>Vt.subscribe(X=>{if(X.dismiss){x(ce=>ce.map(le=>le.id===X.id?{...le,delete:!0}:le));return}setTimeout(()=>{J_.flushSync(()=>{x(ce=>{let le=ce.findIndex(ke=>ke.id===X.id);return le!==-1?[...ce.slice(0,le),{...ce[le],...X},...ce.slice(le+1)]:[X,...ce]})})})}),[]),W.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ce})=>{te(ce?"dark":"light")})}catch{X.addListener(({matches:le})=>{try{te(le?"dark":"light")}catch(ke){console.error(ke)}})}},[d]),W.useEffect(()=>{M.length<=1&&N(!1)},[M]),W.useEffect(()=>{let X=ce=>{var le,ke;s.every(He=>ce[He]||ce.code===He)&&(N(!0),(le=ie.current)==null||le.focus()),ce.code==="Escape"&&(document.activeElement===ie.current||(ke=ie.current)!=null&&ke.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),W.useEffect(()=>{if(ie.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,Q.current=!1)}},[ie.current]),W.createElement("section",{ref:e,"aria-label":`${D} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},w.map((X,ce)=>{var le;let[ke,He]=X.split("-");return M.length?W.createElement("ol",{key:X,dir:T==="auto"?Xy():T,tabIndex:-1,ref:ie,className:l,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":ke,"data-lifted":k&&M.length>1&&!i,"data-x-position":He,style:{"--front-toast-height":`${((le=I[0])==null?void 0:le.height)||0}px`,"--width":`${CA}px`,"--gap":`${v}px`,...p,...kA(u,c)},onBlur:me=>{Q.current&&!me.currentTarget.contains(me.relatedTarget)&&(Q.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,z.current=me.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{A||N(!1)},onDragEnd:()=>N(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},M.filter(me=>!me.position&&ce===0||me.position===X).map((me,Rn)=>{var dn,rr;return W.createElement(PA,{key:me.id,icons:_,index:Rn,toast:me,defaultRichColors:f,duration:(dn=E==null?void 0:E.duration)!=null?dn:m,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:n,visibleToasts:C,closeButton:(rr=E==null?void 0:E.closeButton)!=null?rr:o,interacting:A,position:X,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:ne,toasts:M.filter(Pn=>Pn.position==me.position),heights:I.filter(Pn=>Pn.position==me.position),setHeights:b,expandByDefault:i,gap:v,loadingIcon:y,expanded:k,pauseWhenPageIsHidden:V,swipeDirections:t.swipeDirections})})):null}))});const DA=({...t})=>{const{theme:e="system"}=sA();return P.jsx(NA,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},VA=["top","right","bottom","left"],ps=Math.min,qt=Math.max,tc=Math.round,Zl=Math.floor,Qn=t=>({x:t,y:t}),OA={left:"right",right:"left",bottom:"top",top:"bottom"},MA={start:"end",end:"start"};function Ef(t,e,n){return qt(t,ps(e,n))}function wr(t,e){return typeof t=="function"?t(e):t}function _r(t){return t.split("-")[0]}function To(t){return t.split("-")[1]}function Jp(t){return t==="x"?"y":"x"}function Zp(t){return t==="y"?"height":"width"}const LA=new Set(["top","bottom"]);function Hn(t){return LA.has(_r(t))?"y":"x"}function em(t){return Jp(Hn(t))}function FA(t,e,n){n===void 0&&(n=!1);const r=To(t),s=em(t),i=Zp(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=nc(o)),[o,nc(o)]}function jA(t){const e=nc(t);return[xf(t),e,xf(e)]}function xf(t){return t.replace(/start|end/g,e=>MA[e])}const Jy=["left","right"],Zy=["right","left"],UA=["top","bottom"],zA=["bottom","top"];function $A(t,e,n){switch(t){case"top":case"bottom":return n?e?Zy:Jy:e?Jy:Zy;case"left":case"right":return e?UA:zA;default:return[]}}function BA(t,e,n,r){const s=To(t);let i=$A(_r(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(xf)))),i}function nc(t){return t.replace(/left|right|bottom|top/g,e=>OA[e])}function HA(t){return{top:0,right:0,bottom:0,left:0,...t}}function U1(t){return typeof t!="number"?HA(t):{top:t,right:t,bottom:t,left:t}}function rc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ev(t,e,n){let{reference:r,floating:s}=t;const i=Hn(e),o=em(e),l=Zp(o),u=_r(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(u){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(To(e)){case"start":p[o]-=m*(n&&c?-1:1);break;case"end":p[o]+=m*(n&&c?-1:1);break}return p}const WA=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=ev(c,r,u),m=r,p={},C=0;for(let E=0;E<l.length;E++){const{name:T,fn:v}=l[E],{x:y,y:_,data:D,reset:V}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,f=_??f,p={...p,[T]:{...p[T],...D}},V&&C<=50&&(C++,typeof V=="object"&&(V.placement&&(m=V.placement),V.rects&&(c=V.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):V.rects),{x:d,y:f}=ev(c,m,u)),E=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function $a(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=wr(e,t),C=U1(p),T=l[m?f==="floating"?"reference":"floating":f],v=rc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:u})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),D=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},V=rc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:_,strategy:u}):y);return{top:(v.top-V.top+C.top)/D.y,bottom:(V.bottom-v.bottom+C.bottom)/D.y,left:(v.left-V.left+C.left)/D.x,right:(V.right-v.right+C.right)/D.x}}const qA=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:c,padding:d=0}=wr(t,e)||{};if(c==null)return{};const f=U1(d),m={x:n,y:r},p=em(s),C=Zp(p),E=await o.getDimensions(c),T=p==="y",v=T?"top":"left",y=T?"bottom":"right",_=T?"clientHeight":"clientWidth",D=i.reference[C]+i.reference[p]-m[p]-i.floating[C],V=m[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let x=M?M[_]:0;(!x||!await(o.isElement==null?void 0:o.isElement(M)))&&(x=l.floating[_]||i.floating[C]);const w=D/2-V/2,I=x/2-E[C]/2-1,b=ps(f[v],I),k=ps(f[y],I),N=b,A=x-E[C]-k,H=x/2-E[C]/2+w,se=Ef(N,H,A),te=!u.arrow&&To(s)!=null&&H!==se&&i.reference[C]/2-(H<N?b:k)-E[C]/2<0,ie=te?H<N?H-N:H-A:0;return{[p]:m[p]+ie,data:{[p]:se,centerOffset:H-se-ie,...te&&{alignmentOffset:ie}},reset:te}}}),QA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...T}=wr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=_r(s),y=Hn(l),_=_r(l)===l,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),V=m||(_||!E?[nc(l)]:jA(l)),M=C!=="none";!m&&M&&V.push(...BA(l,E,C,D));const x=[l,...V],w=await $a(e,T),I=[];let b=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(w[v]),f){const H=FA(s,o,D);I.push(w[H[0]],w[H[1]])}if(b=[...b,{placement:s,overflows:I}],!I.every(H=>H<=0)){var k,N;const H=(((k=i.flip)==null?void 0:k.index)||0)+1,se=x[H];if(se&&(!(f==="alignment"?y!==Hn(se):!1)||b.every(F=>F.overflows[0]>0&&Hn(F.placement)===y)))return{data:{index:H,overflows:b},reset:{placement:se}};let te=(N=b.filter(ie=>ie.overflows[0]<=0).sort((ie,F)=>ie.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!te)switch(p){case"bestFit":{var A;const ie=(A=b.filter(F=>{if(M){const z=Hn(F.placement);return z===y||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,Q)=>z+Q,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:A[0];ie&&(te=ie);break}case"initialPlacement":te=l;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function tv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nv(t){return VA.some(e=>t[e]>=0)}const GA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=wr(t,e);switch(r){case"referenceHidden":{const i=await $a(e,{...s,elementContext:"reference"}),o=tv(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nv(o)}}}case"escaped":{const i=await $a(e,{...s,altBoundary:!0}),o=tv(i,n.floating);return{data:{escapedOffsets:o,escaped:nv(o)}}}default:return{}}}}},z1=new Set(["left","top"]);async function KA(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=_r(n),l=To(n),u=Hn(n)==="y",c=z1.has(o)?-1:1,d=i&&u?-1:1,f=wr(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:C}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof C=="number"&&(p=l==="end"?C*-1:C),u?{x:p*d,y:m*c}:{x:m*c,y:p*d}}const YA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await KA(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},XA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:T=>{let{x:v,y}=T;return{x:v,y}}},...u}=wr(t,e),c={x:n,y:r},d=await $a(e,u),f=Hn(_r(s)),m=Jp(f);let p=c[m],C=c[f];if(i){const T=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=p+d[T],_=p-d[v];p=Ef(y,p,_)}if(o){const T=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=C+d[T],_=C-d[v];C=Ef(y,C,_)}const E=l.fn({...e,[m]:p,[f]:C});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[m]:i,[f]:o}}}}}},JA=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=wr(t,e),d={x:n,y:r},f=Hn(s),m=Jp(f);let p=d[m],C=d[f];const E=wr(l,e),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(u){const _=m==="y"?"height":"width",D=i.reference[m]-i.floating[_]+T.mainAxis,V=i.reference[m]+i.reference[_]-T.mainAxis;p<D?p=D:p>V&&(p=V)}if(c){var v,y;const _=m==="y"?"width":"height",D=z1.has(_r(s)),V=i.reference[f]-i.floating[_]+(D&&((v=o.offset)==null?void 0:v[f])||0)+(D?0:T.crossAxis),M=i.reference[f]+i.reference[_]+(D?0:((y=o.offset)==null?void 0:y[f])||0)-(D?T.crossAxis:0);C<V?C=V:C>M&&(C=M)}return{[m]:p,[f]:C}}}},ZA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...c}=wr(t,e),d=await $a(e,c),f=_r(s),m=To(s),p=Hn(s)==="y",{width:C,height:E}=i.floating;let T,v;f==="top"||f==="bottom"?(T=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,T=m==="end"?"top":"bottom");const y=E-d.top-d.bottom,_=C-d.left-d.right,D=ps(E-d[T],y),V=ps(C-d[v],_),M=!e.middlewareData.shift;let x=D,w=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(w=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(x=y),M&&!m){const b=qt(d.left,0),k=qt(d.right,0),N=qt(d.top,0),A=qt(d.bottom,0);p?w=C-2*(b!==0||k!==0?b+k:qt(d.left,d.right)):x=E-2*(N!==0||A!==0?N+A:qt(d.top,d.bottom))}await u({...e,availableWidth:w,availableHeight:x});const I=await o.getDimensions(l.floating);return C!==I.width||E!==I.height?{reset:{rects:!0}}:{}}}};function $c(){return typeof window<"u"}function So(t){return $1(t)?(t.nodeName||"").toLowerCase():"#document"}function Yt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nr(t){var e;return(e=($1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $1(t){return $c()?t instanceof Node||t instanceof Yt(t).Node:!1}function In(t){return $c()?t instanceof Element||t instanceof Yt(t).Element:!1}function Zn(t){return $c()?t instanceof HTMLElement||t instanceof Yt(t).HTMLElement:!1}function rv(t){return!$c()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yt(t).ShadowRoot}const eR=new Set(["inline","contents"]);function fl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=An(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!eR.has(s)}const tR=new Set(["table","td","th"]);function nR(t){return tR.has(So(t))}const rR=[":popover-open",":modal"];function Bc(t){return rR.some(e=>{try{return t.matches(e)}catch{return!1}})}const sR=["transform","translate","scale","rotate","perspective"],iR=["transform","translate","scale","rotate","perspective","filter"],oR=["paint","layout","strict","content"];function tm(t){const e=nm(),n=In(t)?An(t):t;return sR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||iR.some(r=>(n.willChange||"").includes(r))||oR.some(r=>(n.contain||"").includes(r))}function aR(t){let e=ms(t);for(;Zn(e)&&!co(e);){if(tm(e))return e;if(Bc(e))return null;e=ms(e)}return null}function nm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lR=new Set(["html","body","#document"]);function co(t){return lR.has(So(t))}function An(t){return Yt(t).getComputedStyle(t)}function Hc(t){return In(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ms(t){if(So(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rv(t)&&t.host||nr(t);return rv(e)?e.host:e}function B1(t){const e=ms(t);return co(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zn(e)&&fl(e)?e:B1(e)}function Ba(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=B1(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Yt(s);if(i){const l=Tf(o);return e.concat(o,o.visualViewport||[],fl(s)?s:[],l&&n?Ba(l):[])}return e.concat(s,Ba(s,[],n))}function Tf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function H1(t){const e=An(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=tc(n)!==i||tc(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function rm(t){return In(t)?t:t.contextElement}function Bi(t){const e=rm(t);if(!Zn(e))return Qn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=H1(e);let o=(i?tc(n.width):n.width)/r,l=(i?tc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const uR=Qn(0);function W1(t){const e=Yt(t);return!nm()||!e.visualViewport?uR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cR(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yt(t)?!1:e}function si(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=rm(t);let o=Qn(1);e&&(r?In(r)&&(o=Bi(r)):o=Bi(t));const l=cR(i,n,r)?W1(i):Qn(0);let u=(s.left+l.x)/o.x,c=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=Yt(i),p=r&&In(r)?Yt(r):r;let C=m,E=Tf(C);for(;E&&r&&p!==C;){const T=Bi(E),v=E.getBoundingClientRect(),y=An(E),_=v.left+(E.clientLeft+parseFloat(y.paddingLeft))*T.x,D=v.top+(E.clientTop+parseFloat(y.paddingTop))*T.y;u*=T.x,c*=T.y,d*=T.x,f*=T.y,u+=_,c+=D,C=Yt(E),E=Tf(C)}}return rc({width:d,height:f,x:u,y:c})}function sm(t,e){const n=Hc(t).scrollLeft;return e?e.left+n:si(nr(t)).left+n}function q1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:sm(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function dR(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=nr(r),l=e?Bc(e.floating):!1;if(r===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Qn(1);const d=Qn(0),f=Zn(r);if((f||!f&&!i)&&((So(r)!=="body"||fl(o))&&(u=Hc(r)),Zn(r))){const p=si(r);c=Bi(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=o&&!f&&!i?q1(o,u,!0):Qn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-u.scrollTop*c.y+d.y+m.y}}function hR(t){return Array.from(t.getClientRects())}function fR(t){const e=nr(t),n=Hc(t),r=t.ownerDocument.body,s=qt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=qt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+sm(t);const l=-n.scrollTop;return An(r).direction==="rtl"&&(o+=qt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function pR(t,e){const n=Yt(t),r=nr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const c=nm();(!c||c&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}const mR=new Set(["absolute","fixed"]);function gR(t,e){const n=si(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Zn(t)?Bi(t):Qn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:l,x:u,y:c}}function sv(t,e,n){let r;if(e==="viewport")r=pR(t,n);else if(e==="document")r=fR(nr(t));else if(In(e))r=gR(e,n);else{const s=W1(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return rc(r)}function Q1(t,e){const n=ms(t);return n===e||!In(n)||co(n)?!1:An(n).position==="fixed"||Q1(n,e)}function yR(t,e){const n=e.get(t);if(n)return n;let r=Ba(t,[],!1).filter(l=>In(l)&&So(l)!=="body"),s=null;const i=An(t).position==="fixed";let o=i?ms(t):t;for(;In(o)&&!co(o);){const l=An(o),u=tm(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&mR.has(s.position)||fl(o)&&!u&&Q1(t,o))?r=r.filter(d=>d!==o):s=l,o=ms(o)}return e.set(t,r),r}function vR(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Bc(e)?[]:yR(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((c,d)=>{const f=sv(e,d,s);return c.top=qt(f.top,c.top),c.right=ps(f.right,c.right),c.bottom=ps(f.bottom,c.bottom),c.left=qt(f.left,c.left),c},sv(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function wR(t){const{width:e,height:n}=H1(t);return{width:e,height:n}}function _R(t,e,n){const r=Zn(e),s=nr(e),i=n==="fixed",o=si(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=Qn(0);function c(){u.x=sm(s)}if(r||!r&&!i)if((So(e)!=="body"||fl(s))&&(l=Hc(e)),r){const p=si(e,!0,i,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?q1(s,l):Qn(0),f=o.left+l.scrollLeft-u.x-d.x,m=o.top+l.scrollTop-u.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function uh(t){return An(t).position==="static"}function iv(t,e){if(!Zn(t)||An(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return nr(t)===n&&(n=n.ownerDocument.body),n}function G1(t,e){const n=Yt(t);if(Bc(t))return n;if(!Zn(t)){let s=ms(t);for(;s&&!co(s);){if(In(s)&&!uh(s))return s;s=ms(s)}return n}let r=iv(t,e);for(;r&&nR(r)&&uh(r);)r=iv(r,e);return r&&co(r)&&uh(r)&&!tm(r)?n:r||aR(t)||n}const ER=async function(t){const e=this.getOffsetParent||G1,n=this.getDimensions,r=await n(t.floating);return{reference:_R(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xR(t){return An(t).direction==="rtl"}const TR={convertOffsetParentRelativeRectToViewportRelativeRect:dR,getDocumentElement:nr,getClippingRect:vR,getOffsetParent:G1,getElementRects:ER,getClientRects:hR,getDimensions:wR,getScale:Bi,isElement:In,isRTL:xR};function K1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SR(t,e){let n=null,r;const s=nr(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=c;if(l||e(),!m||!p)return;const C=Zl(f),E=Zl(s.clientWidth-(d+m)),T=Zl(s.clientHeight-(f+p)),v=Zl(d),_={rootMargin:-C+"px "+-E+"px "+-T+"px "+-v+"px",threshold:qt(0,ps(1,u))||1};let D=!0;function V(M){const x=M[0].intersectionRatio;if(x!==u){if(!D)return o();x?o(!1,x):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x===1&&!K1(c,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(V,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,_)}n.observe(t)}return o(!0),i}function CR(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=rm(t),d=s||i?[...c?Ba(c):[],...Ba(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&l?SR(c,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),c&&!u&&p.observe(c),p.observe(e));let C,E=u?si(t):null;u&&T();function T(){const v=si(t);E&&!K1(E,v)&&n(),E=v,C=requestAnimationFrame(T)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,u&&cancelAnimationFrame(C)}}const bR=YA,IR=XA,AR=QA,RR=ZA,PR=GA,ov=qA,kR=JA,NR=(t,e,n)=>{const r=new Map,s={platform:TR,...n},i={...s.platform,_c:r};return WA(t,e,{...s,platform:i})};var DR=typeof document<"u",VR=function(){},Eu=DR?R.useLayoutEffect:VR;function sc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!sc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Y1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function av(t,e){const n=Y1(t);return Math.round(e*n)/n}function ch(t){const e=R.useRef(t);return Eu(()=>{e.current=t}),e}function OR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:c}=t,[d,f]=R.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=R.useState(r);sc(m,r)||p(r);const[C,E]=R.useState(null),[T,v]=R.useState(null),y=R.useCallback(F=>{F!==M.current&&(M.current=F,E(F))},[]),_=R.useCallback(F=>{F!==x.current&&(x.current=F,v(F))},[]),D=i||C,V=o||T,M=R.useRef(null),x=R.useRef(null),w=R.useRef(d),I=u!=null,b=ch(u),k=ch(s),N=ch(c),A=R.useCallback(()=>{if(!M.current||!x.current)return;const F={placement:e,strategy:n,middleware:m};k.current&&(F.platform=k.current),NR(M.current,x.current,F).then(z=>{const Q={...z,isPositioned:N.current!==!1};H.current&&!sc(w.current,Q)&&(w.current=Q,dl.flushSync(()=>{f(Q)}))})},[m,e,n,k,N]);Eu(()=>{c===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const H=R.useRef(!1);Eu(()=>(H.current=!0,()=>{H.current=!1}),[]),Eu(()=>{if(D&&(M.current=D),V&&(x.current=V),D&&V){if(b.current)return b.current(D,V,A);A()}},[D,V,A,b,I]);const se=R.useMemo(()=>({reference:M,floating:x,setReference:y,setFloating:_}),[y,_]),te=R.useMemo(()=>({reference:D,floating:V}),[D,V]),ie=R.useMemo(()=>{const F={position:n,left:0,top:0};if(!te.floating)return F;const z=av(te.floating,d.x),Q=av(te.floating,d.y);return l?{...F,transform:"translate("+z+"px, "+Q+"px)",...Y1(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Q}},[n,l,te.floating,d.x,d.y]);return R.useMemo(()=>({...d,update:A,refs:se,elements:te,floatingStyles:ie}),[d,A,se,te,ie])}const MR=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ov({element:r.current,padding:s}).fn(n):{}:r?ov({element:r,padding:s}).fn(n):{}}}},LR=(t,e)=>({...bR(t),options:[t,e]}),FR=(t,e)=>({...IR(t),options:[t,e]}),jR=(t,e)=>({...kR(t),options:[t,e]}),UR=(t,e)=>({...AR(t),options:[t,e]}),zR=(t,e)=>({...RR(t),options:[t,e]}),$R=(t,e)=>({...PR(t),options:[t,e]}),BR=(t,e)=>({...MR(t),options:[t,e]});var HR="Arrow",X1=R.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return P.jsx($t.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});X1.displayName=HR;var WR=X1;function qR(t){const[e,n]=R.useState(void 0);return fs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,l=c.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var J1="Popper",[Z1,eE]=jc(J1),[yO,tE]=Z1(J1),nE="PopperAnchor",rE=R.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=tE(nE,n),o=R.useRef(null),l=bn(e,o);return R.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:P.jsx($t.div,{...s,ref:l})});rE.displayName=nE;var im="PopperContent",[QR,GR]=Z1(im),sE=R.forwardRef((t,e)=>{var me,Rn,dn,rr,Pn,sr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:C,...E}=t,T=tE(im,n),[v,y]=R.useState(null),_=bn(e,en=>y(en)),[D,V]=R.useState(null),M=qR(D),x=(M==null?void 0:M.width)??0,w=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],N=k.length>0,A={padding:b,boundary:k.filter(YR),altBoundary:N},{refs:H,floatingStyles:se,placement:te,isPositioned:ie,middlewareData:F}=OR({strategy:"fixed",placement:I,whileElementsMounted:(...en)=>CR(...en,{animationFrame:p==="always"}),elements:{reference:T.anchor},middleware:[LR({mainAxis:s+w,alignmentAxis:o}),u&&FR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?jR():void 0,...A}),u&&UR({...A}),zR({...A,apply:({elements:en,rects:As,availableWidth:Po,availableHeight:br})=>{const{width:Rs,height:Ir}=As.reference,De=en.floating.style;De.setProperty("--radix-popper-available-width",`${Po}px`),De.setProperty("--radix-popper-available-height",`${br}px`),De.setProperty("--radix-popper-anchor-width",`${Rs}px`),De.setProperty("--radix-popper-anchor-height",`${Ir}px`)}}),D&&BR({element:D,padding:l}),XR({arrowWidth:x,arrowHeight:w}),m&&$R({strategy:"referenceHidden",...A})]}),[z,Q]=aE(te),ne=hs(C);fs(()=>{ie&&(ne==null||ne())},[ie,ne]);const X=(me=F.arrow)==null?void 0:me.x,ce=(Rn=F.arrow)==null?void 0:Rn.y,le=((dn=F.arrow)==null?void 0:dn.centerOffset)!==0,[ke,He]=R.useState();return fs(()=>{v&&He(window.getComputedStyle(v).zIndex)},[v]),P.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:ie?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(rr=F.transformOrigin)==null?void 0:rr.x,(Pn=F.transformOrigin)==null?void 0:Pn.y].join(" "),...((sr=F.hide)==null?void 0:sr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:P.jsx(QR,{scope:n,placedSide:z,onArrowChange:V,arrowX:X,arrowY:ce,shouldHideArrow:le,children:P.jsx($t.div,{"data-side":z,"data-align":Q,...E,ref:_,style:{...E.style,animation:ie?void 0:"none"}})})})});sE.displayName=im;var iE="PopperArrow",KR={top:"bottom",right:"left",bottom:"top",left:"right"},oE=R.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=GR(iE,r),o=KR[i.placedSide];return P.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:P.jsx(WR,{...s,ref:n,style:{...s.style,display:"block"}})})});oE.displayName=iE;function YR(t){return t!==null}var XR=t=>({name:"transformOrigin",options:t,fn(e){var T,v,y;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=aE(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+u/2;let C="",E="";return c==="bottom"?(C=o?f:`${m}px`,E=`${-u}px`):c==="top"?(C=o?f:`${m}px`,E=`${r.floating.height+u}px`):c==="right"?(C=`${-u}px`,E=o?f:`${p}px`):c==="left"&&(C=`${r.floating.width+u}px`,E=o?f:`${p}px`),{data:{x:C,y:E}}}});function aE(t){const[e,n="center"]=t.split("-");return[e,n]}var JR=rE,ZR=sE,eP=oE,[Wc,vO]=jc("Tooltip",[eE]),om=eE(),lE="TooltipProvider",tP=700,lv="tooltip.open",[nP,uE]=Wc(lE),cE=t=>{const{__scopeTooltip:e,delayDuration:n=tP,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=R.useRef(!0),l=R.useRef(!1),u=R.useRef(0);return R.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),P.jsx(nP,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:R.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:R.useCallback(c=>{l.current=c},[]),disableHoverableContent:s,children:i})};cE.displayName=lE;var dE="Tooltip",[wO,qc]=Wc(dE),Sf="TooltipTrigger",rP=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qc(Sf,n),i=uE(Sf,n),o=om(n),l=R.useRef(null),u=bn(e,l,s.onTriggerChange),c=R.useRef(!1),d=R.useRef(!1),f=R.useCallback(()=>c.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),P.jsx(JR,{asChild:!0,...o,children:P.jsx($t.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Je(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Je(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Je(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Je(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Je(t.onBlur,s.onClose),onClick:Je(t.onClick,s.onClose)})})});rP.displayName=Sf;var sP="TooltipPortal",[_O,iP]=Wc(sP,{forceMount:void 0}),ho="TooltipContent",hE=R.forwardRef((t,e)=>{const n=iP(ho,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=qc(ho,t.__scopeTooltip);return P.jsx(qp,{present:r||o.open,children:o.disableHoverableContent?P.jsx(fE,{side:s,...i,ref:e}):P.jsx(oP,{side:s,...i,ref:e})})}),oP=R.forwardRef((t,e)=>{const n=qc(ho,t.__scopeTooltip),r=uE(ho,t.__scopeTooltip),s=R.useRef(null),i=bn(e,s),[o,l]=R.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,m=R.useCallback(()=>{l(null),f(!1)},[f]),p=R.useCallback((C,E)=>{const T=C.currentTarget,v={x:C.clientX,y:C.clientY},y=dP(v,T.getBoundingClientRect()),_=hP(v,y),D=fP(E.getBoundingClientRect()),V=mP([..._,...D]);l(V),f(!0)},[f]);return R.useEffect(()=>()=>m(),[m]),R.useEffect(()=>{if(u&&d){const C=T=>p(T,d),E=T=>p(T,u);return u.addEventListener("pointerleave",C),d.addEventListener("pointerleave",E),()=>{u.removeEventListener("pointerleave",C),d.removeEventListener("pointerleave",E)}}},[u,d,p,m]),R.useEffect(()=>{if(o){const C=E=>{const T=E.target,v={x:E.clientX,y:E.clientY},y=(u==null?void 0:u.contains(T))||(d==null?void 0:d.contains(T)),_=!pP(v,o);y?m():_&&(m(),c())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[u,d,o,c,m]),P.jsx(fE,{...t,ref:i})}),[aP,lP]=Wc(dE,{isInside:!1}),uP=Tb("TooltipContent"),fE=R.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=qc(ho,n),c=om(n),{onClose:d}=u;return R.useEffect(()=>(document.addEventListener(lv,d),()=>document.removeEventListener(lv,d)),[d]),R.useEffect(()=>{if(u.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(u.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,d]),P.jsx(Wp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:P.jsxs(ZR,{"data-state":u.stateAttribute,...c,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(uP,{children:r}),P.jsx(aP,{scope:n,isInside:!0,children:P.jsx(Gb,{id:u.contentId,role:"tooltip",children:s||r})})]})})});hE.displayName=ho;var pE="TooltipArrow",cP=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=om(n);return lP(pE,n).isInside?null:P.jsx(eP,{...s,...r,ref:e})});cP.displayName=pE;function dP(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hP(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function fP(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function pP(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],c=l.x,d=l.y,f=u.x,m=u.y;d>r!=m>r&&n<(f-c)*(r-d)/(m-d)+c&&(s=!s)}return s}function mP(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),gP(e)}function gP(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var yP=cE,mE=hE;const vP=yP,wP=R.forwardRef(({className:t,sideOffset:e=4,...n},r)=>P.jsx(mE,{ref:r,sideOffset:e,className:Cr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));wP.displayName=mE.displayName;var Qc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gc=typeof window>"u"||"Deno"in globalThis;function yn(){}function _P(t,e){return typeof t=="function"?t(e):t}function EP(t){return typeof t=="number"&&t>=0&&t!==1/0}function xP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Cf(t,e){return typeof t=="function"?t(e):t}function TP(t,e){return typeof t=="function"?t(e):t}function uv(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==am(o,e.options))return!1}else if(!Wa(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function cv(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ha(e.options.mutationKey)!==Ha(i))return!1}else if(!Wa(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function am(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ha)(t)}function Ha(t){return JSON.stringify(t,(e,n)=>bf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Wa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Wa(t[n],e[n])):!1}function gE(t,e){if(t===e)return t;const n=dv(t)&&dv(e);if(n||bf(t)&&bf(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&u.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=gE(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function dv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bf(t){if(!hv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hv(t){return Object.prototype.toString.call(t)==="[object Object]"}function SP(t){return new Promise(e=>{setTimeout(e,t)})}function CP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gE(t,e):e}function bP(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function IP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var lm=Symbol();function yE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Bs,Br,Ki,P0,AP=(P0=class extends Qc{constructor(){super();we(this,Bs);we(this,Br);we(this,Ki);ae(this,Ki,e=>{if(!Gc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,Br)||this.setEventListener(j(this,Ki))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Br))==null||e.call(this),ae(this,Br,void 0))}setEventListener(e){var n;ae(this,Ki,e),(n=j(this,Br))==null||n.call(this),ae(this,Br,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,Bs)!==e&&(ae(this,Bs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,Bs)=="boolean"?j(this,Bs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bs=new WeakMap,Br=new WeakMap,Ki=new WeakMap,P0),vE=new AP,Yi,Hr,Xi,k0,RP=(k0=class extends Qc{constructor(){super();we(this,Yi,!0);we(this,Hr);we(this,Xi);ae(this,Xi,e=>{if(!Gc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,Hr)||this.setEventListener(j(this,Xi))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Hr))==null||e.call(this),ae(this,Hr,void 0))}setEventListener(e){var n;ae(this,Xi,e),(n=j(this,Hr))==null||n.call(this),ae(this,Hr,e(this.setOnline.bind(this)))}setOnline(e){j(this,Yi)!==e&&(ae(this,Yi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,Yi)}},Yi=new WeakMap,Hr=new WeakMap,Xi=new WeakMap,k0),ic=new RP;function PP(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function kP(t){return Math.min(1e3*2**t,3e4)}function wE(t){return(t??"online")==="online"?ic.isOnline():!0}var _E=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function dh(t){return t instanceof _E}function EE(t){let e=!1,n=0,r=!1,s;const i=PP(),o=E=>{var T;r||(m(new _E(E)),(T=t.abort)==null||T.call(t))},l=()=>{e=!0},u=()=>{e=!1},c=()=>vE.isFocused()&&(t.networkMode==="always"||ic.isOnline())&&t.canRun(),d=()=>wE(t.networkMode)&&t.canRun(),f=E=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,E),s==null||s(),i.resolve(E))},m=E=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,E),s==null||s(),i.reject(E))},p=()=>new Promise(E=>{var T;s=v=>{(r||c())&&E(v)},(T=t.onPause)==null||T.call(t)}).then(()=>{var E;s=void 0,r||(E=t.onContinue)==null||E.call(t)}),C=()=>{if(r)return;let E;const T=n===0?t.initialPromise:void 0;try{E=T??t.fn()}catch(v){E=Promise.reject(v)}Promise.resolve(E).then(f).catch(v=>{var M;if(r)return;const y=t.retry??(Gc?0:3),_=t.retryDelay??kP,D=typeof _=="function"?_(n,v):_,V=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!V){m(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),SP(D).then(()=>c()?void 0:p()).then(()=>{e?m(v):C()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?C():p().then(C),i)}}var NP=t=>setTimeout(t,0);function DP(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=NP;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var At=DP(),Hs,N0,xE=(N0=class{constructor(){we(this,Hs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EP(this.gcTime)&&ae(this,Hs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gc?1/0:5*60*1e3))}clearGcTimeout(){j(this,Hs)&&(clearTimeout(j(this,Hs)),ae(this,Hs,void 0))}},Hs=new WeakMap,N0),Ji,Ws,nn,qs,_t,sl,Qs,vn,lr,D0,VP=(D0=class extends xE{constructor(n){super();we(this,vn);we(this,Ji);we(this,Ws);we(this,nn);we(this,qs);we(this,_t);we(this,sl);we(this,Qs);ae(this,Qs,!1),ae(this,sl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ae(this,qs,n.client),ae(this,nn,j(this,qs).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ae(this,Ji,MP(this.options)),this.state=n.state??j(this,Ji),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=j(this,_t))==null?void 0:n.promise}setOptions(n){this.options={...j(this,sl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,nn).remove(this)}setData(n,r){const s=CP(this.state.data,n,this.options);return gt(this,vn,lr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){gt(this,vn,lr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=j(this,_t))==null?void 0:s.promise;return(i=j(this,_t))==null||i.cancel(n),r?r.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Ji))}isActive(){return this.observers.some(n=>TP(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Cf(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!xP(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,_t))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,_t))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),j(this,nn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(j(this,_t)&&(j(this,Qs)?j(this,_t).cancel({revert:!0}):j(this,_t).cancelRetry()),this.scheduleGc()),j(this,nn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||gt(this,vn,lr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,_t))return j(this,_t).continueRetry(),j(this,_t).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(C=>C.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ae(this,Qs,!0),s.signal)})},o=()=>{const p=yE(this.options,r),E=(()=>{const T={client:j(this,qs),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return ae(this,Qs,!1),this.options.persister?this.options.persister(p,E,this):p(E)},u=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:j(this,qs),state:this.state,fetchFn:o};return i(p),p})();(d=this.options.behavior)==null||d.onFetch(u,this),ae(this,Ws,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&gt(this,vn,lr).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta});const c=p=>{var C,E,T,v;dh(p)&&p.silent||gt(this,vn,lr).call(this,{type:"error",error:p}),dh(p)||((E=(C=j(this,nn).config).onError)==null||E.call(C,p,this),(v=(T=j(this,nn).config).onSettled)==null||v.call(T,this.state.data,p,this)),this.scheduleGc()};return ae(this,_t,EE({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var C,E,T,v;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){c(y);return}(E=(C=j(this,nn).config).onSuccess)==null||E.call(C,p,this),(v=(T=j(this,nn).config).onSettled)==null||v.call(T,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,C)=>{gt(this,vn,lr).call(this,{type:"failed",failureCount:p,error:C})},onPause:()=>{gt(this,vn,lr).call(this,{type:"pause"})},onContinue:()=>{gt(this,vn,lr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),j(this,_t).start()}},Ji=new WeakMap,Ws=new WeakMap,nn=new WeakMap,qs=new WeakMap,_t=new WeakMap,sl=new WeakMap,Qs=new WeakMap,vn=new WeakSet,lr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...OP(s.data,this.options),fetchMeta:n.meta??null};case"success":return ae(this,Ws,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return dh(i)&&i.revert&&j(this,Ws)?{...j(this,Ws),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),At.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),j(this,nn).notify({query:this,type:"updated",action:n})})},D0);function OP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function MP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Un,V0,LP=(V0=class extends Qc{constructor(e={}){super();we(this,Un);this.config=e,ae(this,Un,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??am(s,n);let o=this.get(i);return o||(o=new VP({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){j(this,Un).has(e.queryHash)||(j(this,Un).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,Un).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,Un).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){At.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Un).get(e)}getAll(){return[...j(this,Un).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uv(e,r)):n}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){At.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Un=new WeakMap,V0),zn,bt,Gs,$n,Fr,O0,FP=(O0=class extends xE{constructor(n){super();we(this,$n);we(this,zn);we(this,bt);we(this,Gs);this.mutationId=n.mutationId,ae(this,bt,n.mutationCache),ae(this,zn,[]),this.state=n.state||jP(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){j(this,zn).includes(n)||(j(this,zn).push(n),this.clearGcTimeout(),j(this,bt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ae(this,zn,j(this,zn).filter(r=>r!==n)),this.scheduleGc(),j(this,bt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){j(this,zn).length||(this.state.status==="pending"?this.scheduleGc():j(this,bt).remove(this))}continue(){var n;return((n=j(this,Gs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,u,c,d,f,m,p,C,E,T,v,y,_,D,V,M,x,w,I;const r=()=>{gt(this,$n,Fr).call(this,{type:"continue"})};ae(this,Gs,EE({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(b,k)=>{gt(this,$n,Fr).call(this,{type:"failed",failureCount:b,error:k})},onPause:()=>{gt(this,$n,Fr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,bt).canRun(this)}));const s=this.state.status==="pending",i=!j(this,Gs).canStart();try{if(s)r();else{gt(this,$n,Fr).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(o=j(this,bt).config).onMutate)==null?void 0:l.call(o,n,this));const k=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));k!==this.state.context&&gt(this,$n,Fr).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const b=await j(this,Gs).start();return await((f=(d=j(this,bt).config).onSuccess)==null?void 0:f.call(d,b,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,b,n,this.state.context)),await((E=(C=j(this,bt).config).onSettled)==null?void 0:E.call(C,b,null,this.state.variables,this.state.context,this)),await((v=(T=this.options).onSettled)==null?void 0:v.call(T,b,null,n,this.state.context)),gt(this,$n,Fr).call(this,{type:"success",data:b}),b}catch(b){try{throw await((_=(y=j(this,bt).config).onError)==null?void 0:_.call(y,b,n,this.state.context,this)),await((V=(D=this.options).onError)==null?void 0:V.call(D,b,n,this.state.context)),await((x=(M=j(this,bt).config).onSettled)==null?void 0:x.call(M,void 0,b,this.state.variables,this.state.context,this)),await((I=(w=this.options).onSettled)==null?void 0:I.call(w,void 0,b,n,this.state.context)),b}finally{gt(this,$n,Fr).call(this,{type:"error",error:b})}}finally{j(this,bt).runNext(this)}}},zn=new WeakMap,bt=new WeakMap,Gs=new WeakMap,$n=new WeakSet,Fr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),At.batch(()=>{j(this,zn).forEach(s=>{s.onMutationUpdate(n)}),j(this,bt).notify({mutation:this,type:"updated",action:n})})},O0);function jP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dr,wn,il,M0,UP=(M0=class extends Qc{constructor(e={}){super();we(this,dr);we(this,wn);we(this,il);this.config=e,ae(this,dr,new Set),ae(this,wn,new Map),ae(this,il,0)}build(e,n,r){const s=new FP({mutationCache:this,mutationId:++Nl(this,il)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){j(this,dr).add(e);const n=eu(e);if(typeof n=="string"){const r=j(this,wn).get(n);r?r.push(e):j(this,wn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,dr).delete(e)){const n=eu(e);if(typeof n=="string"){const r=j(this,wn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&j(this,wn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=eu(e);if(typeof n=="string"){const r=j(this,wn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=eu(e);if(typeof n=="string"){const s=(r=j(this,wn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{j(this,dr).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,dr).clear(),j(this,wn).clear()})}getAll(){return Array.from(j(this,dr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>cv(n,r))}findAll(e={}){return this.getAll().filter(n=>cv(e,n))}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return At.batch(()=>Promise.all(e.map(n=>n.continue().catch(yn))))}},dr=new WeakMap,wn=new WeakMap,il=new WeakMap,M0);function eu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function fv(t){return{onFetch:(e,n)=>{var d,f,m,p,C;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((C=e.state.data)==null?void 0:C.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let E=!1;const T=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},v=yE(e.options,e.fetchOptions),y=async(_,D,V)=>{if(E)return Promise.reject();if(D==null&&_.pages.length)return Promise.resolve(_);const x=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:D,direction:V?"backward":"forward",meta:e.options.meta};return T(k),k})(),w=await v(x),{maxPages:I}=e.options,b=V?IP:bP;return{pages:b(_.pages,w,I),pageParams:b(_.pageParams,D,I)}};if(s&&i.length){const _=s==="backward",D=_?zP:pv,V={pages:i,pageParams:o},M=D(r,V);l=await y(V,M,_)}else{const _=t??i.length;do{const D=u===0?o[0]??r.initialPageParam:pv(r,l);if(u>0&&D==null)break;l=await y(l,D),u++}while(u<_)}return l};e.options.persister?e.fetchFn=()=>{var E,T;return(T=(E=e.options).persister)==null?void 0:T.call(E,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function pv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function zP(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ue,Wr,qr,Zi,eo,Qr,to,no,L0,$P=(L0=class{constructor(t={}){we(this,Ue);we(this,Wr);we(this,qr);we(this,Zi);we(this,eo);we(this,Qr);we(this,to);we(this,no);ae(this,Ue,t.queryCache||new LP),ae(this,Wr,t.mutationCache||new UP),ae(this,qr,t.defaultOptions||{}),ae(this,Zi,new Map),ae(this,eo,new Map),ae(this,Qr,0)}mount(){Nl(this,Qr)._++,j(this,Qr)===1&&(ae(this,to,vE.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Ue).onFocus())})),ae(this,no,ic.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Ue).onOnline())})))}unmount(){var t,e;Nl(this,Qr)._--,j(this,Qr)===0&&((t=j(this,to))==null||t.call(this),ae(this,to,void 0),(e=j(this,no))==null||e.call(this),ae(this,no,void 0))}isFetching(t){return j(this,Ue).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,Wr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Ue).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=j(this,Ue).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Cf(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return j(this,Ue).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=j(this,Ue).get(r.queryHash),i=s==null?void 0:s.state.data,o=_P(e,i);if(o!==void 0)return j(this,Ue).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return At.batch(()=>j(this,Ue).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Ue).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,Ue);At.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,Ue);return At.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=At.batch(()=>j(this,Ue).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(yn).catch(yn)}invalidateQueries(t,e={}){return At.batch(()=>(j(this,Ue).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=At.batch(()=>j(this,Ue).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(yn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,Ue).build(this,e);return n.isStaleByTime(Cf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yn).catch(yn)}fetchInfiniteQuery(t){return t.behavior=fv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yn).catch(yn)}ensureInfiniteQueryData(t){return t.behavior=fv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ic.isOnline()?j(this,Wr).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Ue)}getMutationCache(){return j(this,Wr)}getDefaultOptions(){return j(this,qr)}setDefaultOptions(t){ae(this,qr,t)}setQueryDefaults(t,e){j(this,Zi).set(Ha(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,Zi).values()],n={};return e.forEach(r=>{Wa(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){j(this,eo).set(Ha(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,eo).values()],n={};return e.forEach(r=>{Wa(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,qr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=am(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===lm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,qr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,Ue).clear(),j(this,Wr).clear()}},Ue=new WeakMap,Wr=new WeakMap,qr=new WeakMap,Zi=new WeakMap,eo=new WeakMap,Qr=new WeakMap,to=new WeakMap,no=new WeakMap,L0),BP=R.createContext(void 0),HP=({client:t,children:e})=>(R.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),P.jsx(BP.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qa.apply(this,arguments)}var Yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yr||(Yr={}));const mv="popstate";function WP(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:u=""}=ci(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),If("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof i=="string"?i:TE(i))}function r(s,i){um(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return QP(e,n,r,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function um(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qP(){return Math.random().toString(36).substr(2,8)}function gv(t,e){return{usr:t.state,key:t.key,idx:e}}function If(t,e,n,r){return n===void 0&&(n=null),qa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ci(e):e,{state:n,key:e&&e.key||r||qP()})}function TE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ci(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QP(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Yr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(qa({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Yr.Pop;let T=d(),v=T==null?null:T-c;c=T,u&&u({action:l,location:E.location,delta:v})}function m(T,v){l=Yr.Push;let y=If(E.location,T,v);n&&n(y,T),c=d()+1;let _=gv(y,c),D=E.createHref(y);try{o.pushState(_,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(D)}i&&u&&u({action:l,location:E.location,delta:1})}function p(T,v){l=Yr.Replace;let y=If(E.location,T,v);n&&n(y,T),c=d();let _=gv(y,c),D=E.createHref(y);o.replaceState(_,"",D),i&&u&&u({action:l,location:E.location,delta:0})}function C(T){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof T=="string"?T:TE(T);return y=y.replace(/ $/,"%20"),tt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let E={get action(){return l},get location(){return t(s,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(mv,f),u=T,()=>{s.removeEventListener(mv,f),u=null}},createHref(T){return e(s,T)},createURL:C,encodeLocation(T){let v=C(T);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(T){return o.go(T)}};return E}var yv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yv||(yv={}));function GP(t,e,n){return n===void 0&&(n="/"),KP(t,e,n,!1)}function KP(t,e,n,r){let s=typeof e=="string"?ci(e):e,i=bE(s.pathname||"/",n);if(i==null)return null;let o=SE(t);YP(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=a2(i);l=i2(o[u],c,r)}return l}function SE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(tt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Xs([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),SE(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:r2(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of CE(i.path))s(i,o,u)}),e}function CE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=CE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function YP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XP=/^:[\w-]+$/,JP=3,ZP=2,e2=1,t2=10,n2=-2,vv=t=>t==="*";function r2(t,e){let n=t.split("/"),r=n.length;return n.some(vv)&&(r+=n2),e&&(r+=ZP),n.filter(s=>!vv(s)).reduce((s,i)=>s+(XP.test(i)?JP:i===""?e2:t2),r)}function s2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function i2(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=wv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=wv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Xs([i,f.pathname]),pathnameBase:f2(Xs([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Xs([i,f.pathnameBase]))}return o}function wv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=o2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let E=l[f]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const C=l[f];return p&&!C?c[m]=void 0:c[m]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function o2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),um(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function a2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return um(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function l2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ci(t):t;return{pathname:n?n.startsWith("/")?n:u2(n,e):e,search:p2(r),hash:m2(s)}}function u2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d2(t,e){let n=c2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function h2(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ci(t):(s=qa({},t),tt(!s.pathname||!s.pathname.includes("?"),hh("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),hh("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),hh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=l2(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Xs=t=>t.join("/").replace(/\/\/+/g,"/"),f2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IE=["post","put","patch","delete"];new Set(IE);const y2=["get",...IE];new Set(y2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}const cm=R.createContext(null),v2=R.createContext(null),Kc=R.createContext(null),Yc=R.createContext(null),di=R.createContext({outlet:null,matches:[],isDataRoute:!1}),AE=R.createContext(null);function Xc(){return R.useContext(Yc)!=null}function dm(){return Xc()||tt(!1),R.useContext(Yc).location}function RE(t){R.useContext(Kc).static||R.useLayoutEffect(t)}function hm(){let{isDataRoute:t}=R.useContext(di);return t?N2():w2()}function w2(){Xc()||tt(!1);let t=R.useContext(cm),{basename:e,future:n,navigator:r}=R.useContext(Kc),{matches:s}=R.useContext(di),{pathname:i}=dm(),o=JSON.stringify(d2(s,n.v7_relativeSplatPath)),l=R.useRef(!1);return RE(()=>{l.current=!0}),R.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=h2(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function _2(){let{matches:t}=R.useContext(di),e=t[t.length-1];return e?e.params:{}}function E2(t,e){return x2(t,e)}function x2(t,e,n,r){Xc()||tt(!1);let{navigator:s}=R.useContext(Kc),{matches:i}=R.useContext(di),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=dm(),d;if(e){var f;let T=typeof e=="string"?ci(e):e;u==="/"||(f=T.pathname)!=null&&f.startsWith(u)||tt(!1),d=T}else d=c;let m=d.pathname||"/",p=m;if(u!=="/"){let T=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=GP(t,{pathname:p}),E=I2(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Xs([u,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:Xs([u,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&E?R.createElement(Yc.Provider,{value:{location:Qa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yr.Pop}},E):E}function T2(){let t=k2(),e=g2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,null)}const S2=R.createElement(T2,null);class C2 extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(di.Provider,{value:this.props.routeContext},R.createElement(AE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b2(t){let{routeContext:e,match:n,children:r}=t,s=R.useContext(cm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(di.Provider,{value:e},r)}function I2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=n,C=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||C){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,C=!1,E=null,T=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,E=f.route.errorElement||S2,u&&(c<0&&m===0?(C=!0,T=null):c===m&&(C=!0,T=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),y=()=>{let _;return p?_=E:C?_=T:f.route.Component?_=R.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,R.createElement(b2,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?R.createElement(C2,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var PE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PE||{}),oc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oc||{});function A2(t){let e=R.useContext(cm);return e||tt(!1),e}function R2(t){let e=R.useContext(v2);return e||tt(!1),e}function P2(t){let e=R.useContext(di);return e||tt(!1),e}function kE(t){let e=P2(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function k2(){var t;let e=R.useContext(AE),n=R2(oc.UseRouteError),r=kE(oc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function N2(){let{router:t}=A2(PE.UseNavigateStable),e=kE(oc.UseNavigateStable),n=R.useRef(!1);return RE(()=>{n.current=!0}),R.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Qa({fromRouteId:e},i)))},[t,e])}function D2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xu(t){tt(!1)}function V2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Yr.Pop,navigator:i,static:o=!1,future:l}=t;Xc()&&tt(!1);let u=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:u,navigator:i,static:o,future:Qa({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=ci(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:C="default"}=r,E=R.useMemo(()=>{let T=bE(d,u);return T==null?null:{location:{pathname:T,search:f,hash:m,state:p,key:C},navigationType:s}},[u,d,f,m,p,C,s]);return E==null?null:R.createElement(Kc.Provider,{value:c},R.createElement(Yc.Provider,{children:n,value:E}))}function O2(t){let{children:e,location:n}=t;return E2(Af(e),n)}new Promise(()=>{});function Af(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,s)=>{if(!R.isValidElement(r))return;let i=[...e,s];if(r.type===R.Fragment){n.push.apply(n,Af(r.props.children,i));return}r.type!==xu&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Af(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const M2="6";try{window.__reactRouterVersion=M2}catch{}const L2="startTransition",_v=K0[L2];function F2(t){let{basename:e,children:n,future:r,window:s}=t,i=R.useRef();i.current==null&&(i.current=WP({window:s,v5Compat:!0}));let o=i.current,[l,u]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=R.useCallback(f=>{c&&_v?_v(()=>u(f)):u(f)},[u,c]);return R.useLayoutEffect(()=>o.listen(d),[o,d]),R.useEffect(()=>D2(r),[r]),R.createElement(V2,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Ev;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ev||(Ev={}));var xv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xv||(xv={}));const j2=A1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dt=R.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Eb:"button";return P.jsx(o,{className:Cr(j2({variant:e,size:n,className:t})),ref:i,...s})});dt.displayName="Button";const Hi=R.forwardRef(({className:t,type:e,...n},r)=>P.jsx("input",{type:e,className:Cr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Hi.displayName="Input";const U2=[{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:"",difficulty:"easy",region:""},{word:"",category:"",difficulty:"hard",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:"",difficulty:"medium",region:""},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"hard"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"hard"},{word:"",category:" ",difficulty:"hard"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"medium"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:"",category:" ",difficulty:"easy"},{word:" ",category:" ",difficulty:"easy"},{word:" ",category:" ",difficulty:"easy"},{word:" ",category:" ",difficulty:"easy"},{word:" ",category:" ",difficulty:"medium"},{word:" ",category:" ",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:" ",category:"",difficulty:"medium"},{word:" ",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"medium"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"medium"},{word:"",category:"",difficulty:"hard"},{word:"",category:"",difficulty:"medium"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"easy"},{word:"",category:"",difficulty:"medium"}];function z2(t=25){return[...U2.filter(r=>r.word.split(" ").length<=2)].sort(()=>Math.random()-.5).slice(0,t)}function $2(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function B2(t){const e=[],n=t==="red"?9:8,r=t==="blue"?9:8;for(let s=0;s<n;s++)e.push("red");for(let s=0;s<r;s++)e.push("blue");for(let s=0;s<7;s++)e.push("neutral");return e.push("assassin"),e.sort(()=>Math.random()-.5)}function NE(t){const e=z2(25),n=Math.random()<.5?"red":"blue",r=B2(n),s=e.map((o,l)=>({word:o,type:r[l],revealed:!1,highlighted:!1})),i=crypto.randomUUID();return{roomCode:$2(),phase:"lobby",turnPhase:"hint",cards:s,currentTeam:n,scores:{red:0,blue:0},targetScores:{red:n==="red"?9:8,blue:n==="blue"?9:8},timer:90,maxTime:90,players:[{id:i,name:t,team:n,isSpymaster:!1,isHost:!0}],winner:null,hostId:i,currentHint:null,guessesRemaining:0}}function H2(t,e){const n={...t},r={...n.cards[e]};return r.revealed?t:(r.revealed=!0,n.cards=[...t.cards],n.cards[e]=r,r.type==="assassin"?(n.phase="finished",n.winner=t.currentTeam==="red"?"blue":"red",n):(r.type==="red"?n.scores={...t.scores,red:t.scores.red+1}:r.type==="blue"&&(n.scores={...t.scores,blue:t.scores.blue+1}),n.scores.red>=n.targetScores.red?(n.phase="finished",n.winner="red",n):n.scores.blue>=n.targetScores.blue?(n.phase="finished",n.winner="blue",n):r.type!==t.currentTeam?(n.currentTeam=t.currentTeam==="red"?"blue":"red",n.timer=n.maxTime,n.turnPhase="hint",n.currentHint=null,n.guessesRemaining=0,n):(n.guessesRemaining=Math.max(0,t.guessesRemaining-1),n.guessesRemaining===0&&(n.currentTeam=t.currentTeam==="red"?"blue":"red",n.timer=n.maxTime,n.turnPhase="hint",n.currentHint=null),n)))}function W2(t,e){const n={...t};return n.cards=[...t.cards],n.cards[e]={...t.cards[e],highlighted:!t.cards[e].highlighted},n}const DE="/kalimat-al-sir/assets/pattern-bg-AroNNcph.png",q2=()=>{};var Tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Q2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|c>>6,p=c&63;u||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||f==null)throw new G2;const m=i<<2|l>>4;if(r.push(m),c!==64){const p=l<<4&240|c>>2;if(r.push(p),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K2=function(t){const e=VE(t);return OE.encodeByteArray(e,!0)},ac=function(t){return K2(t).replace(/\./g,"")},Y2=function(t){try{return OE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=()=>X2().__FIREBASE_DEFAULTS__,Z2=()=>{if(typeof process>"u"||typeof Tv>"u")return;const t=Tv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ek=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y2(t[1]);return e&&JSON.parse(e)},fm=()=>{try{return q2()||J2()||Z2()||ek()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tk=t=>{var e,n;return(n=(e=fm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},nk=t=>{const e=tk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ME=()=>{var t;return(t=fm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ac(JSON.stringify(n)),ac(JSON.stringify(o)),""].join(".")}const _a={};function ok(){const t={prod:[],emulator:[]};for(const e of Object.keys(_a))_a[e]?t.emulator.push(e):t.prod.push(e);return t}function ak(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Sv=!1;function lk(t,e){if(typeof window>"u"||typeof document>"u"||!pm(window.location.host)||_a[t]===e||_a[t]||Sv)return;_a[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=ok().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Sv=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=ak(r),p=n("text"),C=document.getElementById(p)||document.createElement("span"),E=n("learnmore"),T=document.getElementById(E)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const _=m.element;l(_),d(T,E);const D=c();u(y,v),_.append(y,C,T,D),document.body.appendChild(_)}i?(C.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ck(){var e;const t=(e=fm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dk(){return!ck()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hk(){try{return typeof indexedDB=="object"}catch{return!1}}function fk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="FirebaseError";class Co extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pk,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,LE.prototype.create)}}class LE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?mk(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Co(s,l,r)}}function mk(t,e){return t.replace(gk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const gk=/\{\$([^}]+)}/g;function lc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Cv(i)&&Cv(o)){if(!lc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Cv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t){return t&&t._delegate?t._delegate:t}class Ga{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wk(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vk(t){return t===Fs?void 0:t}function wk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const Ek={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},xk=ye.INFO,Tk={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},Sk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Tk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class FE{constructor(e){this.name=e,this._logLevel=xk,this._logHandler=Sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ek[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const Ck=(t,e)=>e.some(n=>t instanceof n);let bv,Iv;function bk(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ik(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,Rf=new WeakMap,UE=new WeakMap,fh=new WeakMap,mm=new WeakMap;function Ak(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(os(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jE.set(n,t)}).catch(()=>{}),mm.set(e,t),e}function Rk(t){if(Rf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rf.set(t,e)}let Pf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pk(t){Pf=t(Pf)}function kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ph(this),e,...n);return UE.set(r,e.sort?e.sort():[e]),os(r)}:Ik().includes(t)?function(...e){return t.apply(ph(this),e),os(jE.get(this))}:function(...e){return os(t.apply(ph(this),e))}}function Nk(t){return typeof t=="function"?kk(t):(t instanceof IDBTransaction&&Rk(t),Ck(t,bk())?new Proxy(t,Pf):t)}function os(t){if(t instanceof IDBRequest)return Ak(t);if(fh.has(t))return fh.get(t);const e=Nk(t);return e!==t&&(fh.set(t,e),mm.set(e,t)),e}const ph=t=>mm.get(t);function Dk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=os(o);return r&&o.addEventListener("upgradeneeded",u=>{r(os(o.result),u.oldVersion,u.newVersion,os(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Vk=["get","getKey","getAll","getAllKeys","count"],Ok=["put","add","delete","clear"],mh=new Map;function Av(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mh.get(e))return mh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Ok.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Vk.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return mh.set(e,i),i}Pk(t=>({...t,get:(e,n,r)=>Av(e,n)||t.get(e,n,r),has:(e,n)=>!!Av(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Lk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kf="@firebase/app",Rv="0.14.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new FE("@firebase/app"),Fk="@firebase/app-compat",jk="@firebase/analytics-compat",Uk="@firebase/analytics",zk="@firebase/app-check-compat",$k="@firebase/app-check",Bk="@firebase/auth",Hk="@firebase/auth-compat",Wk="@firebase/database",qk="@firebase/data-connect",Qk="@firebase/database-compat",Gk="@firebase/functions",Kk="@firebase/functions-compat",Yk="@firebase/installations",Xk="@firebase/installations-compat",Jk="@firebase/messaging",Zk="@firebase/messaging-compat",eN="@firebase/performance",tN="@firebase/performance-compat",nN="@firebase/remote-config",rN="@firebase/remote-config-compat",sN="@firebase/storage",iN="@firebase/storage-compat",oN="@firebase/firestore",aN="@firebase/ai",lN="@firebase/firestore-compat",uN="firebase",cN="12.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",dN={[kf]:"fire-core",[Fk]:"fire-core-compat",[Uk]:"fire-analytics",[jk]:"fire-analytics-compat",[$k]:"fire-app-check",[zk]:"fire-app-check-compat",[Bk]:"fire-auth",[Hk]:"fire-auth-compat",[Wk]:"fire-rtdb",[qk]:"fire-data-connect",[Qk]:"fire-rtdb-compat",[Gk]:"fire-fn",[Kk]:"fire-fn-compat",[Yk]:"fire-iid",[Xk]:"fire-iid-compat",[Jk]:"fire-fcm",[Zk]:"fire-fcm-compat",[eN]:"fire-perf",[tN]:"fire-perf-compat",[nN]:"fire-rc",[rN]:"fire-rc-compat",[sN]:"fire-gcs",[iN]:"fire-gcs-compat",[oN]:"fire-fst",[lN]:"fire-fst-compat",[aN]:"fire-vertex","fire-js":"fire-js",[uN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,hN=new Map,Df=new Map;function Pv(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cc(t){const e=t.name;if(Df.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,t);for(const n of uc.values())Pv(n,t);for(const n of hN.values())Pv(n,t);return!0}function fN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new LE("app","Firebase",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=cN;function zE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Nf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw as.create("bad-app-name",{appName:String(s)});if(n||(n=ME()),!n)throw as.create("no-options");const i=uc.get(s);if(i){if(lc(n,i.options)&&lc(r,i.config))return i;throw as.create("duplicate-app",{appName:s})}const o=new _k(s);for(const u of Df.values())o.addComponent(u);const l=new gN(n,r,o);return uc.set(s,l),l}function vN(t=Nf){const e=uc.get(t);if(!e&&t===Nf&&ME())return zE();if(!e)throw as.create("no-app",{appName:t});return e}function Wi(t,e,n){let r=dN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(o.join(" "));return}cc(new Ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",_N=1,Ka="firebase-heartbeat-store";let gh=null;function $E(){return gh||(gh=Dk(wN,_N,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw as.create("idb-open",{originalErrorMessage:t.message})})),gh}async function EN(t){try{const n=(await $E()).transaction(Ka),r=await n.objectStore(Ka).get(BE(t));return await n.done,r}catch(e){if(e instanceof Co)Er.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function kv(t,e){try{const r=(await $E()).transaction(Ka,"readwrite");await r.objectStore(Ka).put(e,BE(t)),await r.done}catch(n){if(n instanceof Co)Er.warn(n.message);else{const r=as.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(r.message)}}}function BE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1024,TN=30;class SN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Nv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>TN){const o=IN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nv(),{heartbeatsToSend:r,unsentEntries:s}=CN(this._heartbeatsCache.heartbeats),i=ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Er.warn(n),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function CN(t,e=xN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Dv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Dv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hk()?fk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Dv(t){return ac(JSON.stringify({version:2,heartbeats:t})).length}function IN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){cc(new Ga("platform-logger",e=>new Mk(e),"PRIVATE")),cc(new Ga("heartbeat",e=>new SN(e),"PRIVATE")),Wi(kf,Rv,t),Wi(kf,Rv,"esm2020"),Wi("fire-js","")}AN("");var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,HE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(b,k,N){for(var A=Array(arguments.length-2),H=2;H<arguments.length;H++)A[H-2]=arguments[H];return w.prototype[k].apply(b,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,w,I){I||(I=0);const b=Array(16);if(typeof w=="string")for(var k=0;k<16;++k)b[k]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(k=0;k<16;++k)b[k]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],k=x.g[2];let N=x.g[3],A;A=w+(N^I&(k^N))+b[0]+3614090360&4294967295,w=I+(A<<7&4294967295|A>>>25),A=N+(k^w&(I^k))+b[1]+3905402710&4294967295,N=w+(A<<12&4294967295|A>>>20),A=k+(I^N&(w^I))+b[2]+606105819&4294967295,k=N+(A<<17&4294967295|A>>>15),A=I+(w^k&(N^w))+b[3]+3250441966&4294967295,I=k+(A<<22&4294967295|A>>>10),A=w+(N^I&(k^N))+b[4]+4118548399&4294967295,w=I+(A<<7&4294967295|A>>>25),A=N+(k^w&(I^k))+b[5]+1200080426&4294967295,N=w+(A<<12&4294967295|A>>>20),A=k+(I^N&(w^I))+b[6]+2821735955&4294967295,k=N+(A<<17&4294967295|A>>>15),A=I+(w^k&(N^w))+b[7]+4249261313&4294967295,I=k+(A<<22&4294967295|A>>>10),A=w+(N^I&(k^N))+b[8]+1770035416&4294967295,w=I+(A<<7&4294967295|A>>>25),A=N+(k^w&(I^k))+b[9]+2336552879&4294967295,N=w+(A<<12&4294967295|A>>>20),A=k+(I^N&(w^I))+b[10]+4294925233&4294967295,k=N+(A<<17&4294967295|A>>>15),A=I+(w^k&(N^w))+b[11]+2304563134&4294967295,I=k+(A<<22&4294967295|A>>>10),A=w+(N^I&(k^N))+b[12]+1804603682&4294967295,w=I+(A<<7&4294967295|A>>>25),A=N+(k^w&(I^k))+b[13]+4254626195&4294967295,N=w+(A<<12&4294967295|A>>>20),A=k+(I^N&(w^I))+b[14]+2792965006&4294967295,k=N+(A<<17&4294967295|A>>>15),A=I+(w^k&(N^w))+b[15]+1236535329&4294967295,I=k+(A<<22&4294967295|A>>>10),A=w+(k^N&(I^k))+b[1]+4129170786&4294967295,w=I+(A<<5&4294967295|A>>>27),A=N+(I^k&(w^I))+b[6]+3225465664&4294967295,N=w+(A<<9&4294967295|A>>>23),A=k+(w^I&(N^w))+b[11]+643717713&4294967295,k=N+(A<<14&4294967295|A>>>18),A=I+(N^w&(k^N))+b[0]+3921069994&4294967295,I=k+(A<<20&4294967295|A>>>12),A=w+(k^N&(I^k))+b[5]+3593408605&4294967295,w=I+(A<<5&4294967295|A>>>27),A=N+(I^k&(w^I))+b[10]+38016083&4294967295,N=w+(A<<9&4294967295|A>>>23),A=k+(w^I&(N^w))+b[15]+3634488961&4294967295,k=N+(A<<14&4294967295|A>>>18),A=I+(N^w&(k^N))+b[4]+3889429448&4294967295,I=k+(A<<20&4294967295|A>>>12),A=w+(k^N&(I^k))+b[9]+568446438&4294967295,w=I+(A<<5&4294967295|A>>>27),A=N+(I^k&(w^I))+b[14]+3275163606&4294967295,N=w+(A<<9&4294967295|A>>>23),A=k+(w^I&(N^w))+b[3]+4107603335&4294967295,k=N+(A<<14&4294967295|A>>>18),A=I+(N^w&(k^N))+b[8]+1163531501&4294967295,I=k+(A<<20&4294967295|A>>>12),A=w+(k^N&(I^k))+b[13]+2850285829&4294967295,w=I+(A<<5&4294967295|A>>>27),A=N+(I^k&(w^I))+b[2]+4243563512&4294967295,N=w+(A<<9&4294967295|A>>>23),A=k+(w^I&(N^w))+b[7]+1735328473&4294967295,k=N+(A<<14&4294967295|A>>>18),A=I+(N^w&(k^N))+b[12]+2368359562&4294967295,I=k+(A<<20&4294967295|A>>>12),A=w+(I^k^N)+b[5]+4294588738&4294967295,w=I+(A<<4&4294967295|A>>>28),A=N+(w^I^k)+b[8]+2272392833&4294967295,N=w+(A<<11&4294967295|A>>>21),A=k+(N^w^I)+b[11]+1839030562&4294967295,k=N+(A<<16&4294967295|A>>>16),A=I+(k^N^w)+b[14]+4259657740&4294967295,I=k+(A<<23&4294967295|A>>>9),A=w+(I^k^N)+b[1]+2763975236&4294967295,w=I+(A<<4&4294967295|A>>>28),A=N+(w^I^k)+b[4]+1272893353&4294967295,N=w+(A<<11&4294967295|A>>>21),A=k+(N^w^I)+b[7]+4139469664&4294967295,k=N+(A<<16&4294967295|A>>>16),A=I+(k^N^w)+b[10]+3200236656&4294967295,I=k+(A<<23&4294967295|A>>>9),A=w+(I^k^N)+b[13]+681279174&4294967295,w=I+(A<<4&4294967295|A>>>28),A=N+(w^I^k)+b[0]+3936430074&4294967295,N=w+(A<<11&4294967295|A>>>21),A=k+(N^w^I)+b[3]+3572445317&4294967295,k=N+(A<<16&4294967295|A>>>16),A=I+(k^N^w)+b[6]+76029189&4294967295,I=k+(A<<23&4294967295|A>>>9),A=w+(I^k^N)+b[9]+3654602809&4294967295,w=I+(A<<4&4294967295|A>>>28),A=N+(w^I^k)+b[12]+3873151461&4294967295,N=w+(A<<11&4294967295|A>>>21),A=k+(N^w^I)+b[15]+530742520&4294967295,k=N+(A<<16&4294967295|A>>>16),A=I+(k^N^w)+b[2]+3299628645&4294967295,I=k+(A<<23&4294967295|A>>>9),A=w+(k^(I|~N))+b[0]+4096336452&4294967295,w=I+(A<<6&4294967295|A>>>26),A=N+(I^(w|~k))+b[7]+1126891415&4294967295,N=w+(A<<10&4294967295|A>>>22),A=k+(w^(N|~I))+b[14]+2878612391&4294967295,k=N+(A<<15&4294967295|A>>>17),A=I+(N^(k|~w))+b[5]+4237533241&4294967295,I=k+(A<<21&4294967295|A>>>11),A=w+(k^(I|~N))+b[12]+1700485571&4294967295,w=I+(A<<6&4294967295|A>>>26),A=N+(I^(w|~k))+b[3]+2399980690&4294967295,N=w+(A<<10&4294967295|A>>>22),A=k+(w^(N|~I))+b[10]+4293915773&4294967295,k=N+(A<<15&4294967295|A>>>17),A=I+(N^(k|~w))+b[1]+2240044497&4294967295,I=k+(A<<21&4294967295|A>>>11),A=w+(k^(I|~N))+b[8]+1873313359&4294967295,w=I+(A<<6&4294967295|A>>>26),A=N+(I^(w|~k))+b[15]+4264355552&4294967295,N=w+(A<<10&4294967295|A>>>22),A=k+(w^(N|~I))+b[6]+2734768916&4294967295,k=N+(A<<15&4294967295|A>>>17),A=I+(N^(k|~w))+b[13]+1309151649&4294967295,I=k+(A<<21&4294967295|A>>>11),A=w+(k^(I|~N))+b[4]+4149444226&4294967295,w=I+(A<<6&4294967295|A>>>26),A=N+(I^(w|~k))+b[11]+3174756917&4294967295,N=w+(A<<10&4294967295|A>>>22),A=k+(w^(N|~I))+b[2]+718787259&4294967295,k=N+(A<<15&4294967295|A>>>17),A=I+(N^(k|~w))+b[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+N&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,b=this.C;let k=this.h,N=0;for(;N<w;){if(k==0)for(;N<=I;)s(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<w;)if(b[k++]=x.charCodeAt(N++),k==this.blockSize){s(this,b),k=0;break}}else for(;N<w;)if(b[k++]=x[N++],k==this.blockSize){s(this,b),k=0;break}}this.h=k,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let b=0;b<32;b+=8)x[w++]=this.g[I]>>>b&255;return x};function i(x,w){var I=l;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function o(x,w){this.h=w;const I=[];let b=!0;for(let k=x.length-1;k>=0;k--){const N=x[k]|0;b&&N==w||(I[k]=N,b=!1)}this.g=I}var l={};function u(x){return-128<=x&&x<128?i(x,function(w){return new o([w|0],w<0?-1:0)}):new o([x|0],x<0?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return f;if(x<0)return T(c(-x));const w=[];let I=1;for(let b=0;x>=I;b++)w[b]=x/I|0,I*=4294967296;return new o(w,0)}function d(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return T(d(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=c(Math.pow(w,8));let b=f;for(let N=0;N<x.length;N+=8){var k=Math.min(8,x.length-N);const A=parseInt(x.substring(N,N+k),w);k<8?(k=c(Math.pow(w,k)),b=b.j(k).add(c(A))):(b=b.j(I),b=b.add(c(A)))}return b}var f=u(0),m=u(1),p=u(16777216);t=o.prototype,t.m=function(){if(E(this))return-T(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const b=this.i(I);x+=(b>=0?b:4294967296+b)*w,w*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(E(this))return"-"+T(this).toString(x);const w=c(Math.pow(x,6));var I=this;let b="";for(;;){const k=D(I,w).g;I=v(I,k.j(w));let N=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=k,C(I))return N+b;for(;N.length<6;)N="0"+N;b=N+b}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function E(x){return x.h==-1}t.l=function(x){return x=v(this,x),E(x)?-1:C(x)?0:1};function T(x){const w=x.g.length,I=[];for(let b=0;b<w;b++)I[b]=~x.g[b];return new o(I,~x.h).add(m)}t.abs=function(){return E(this)?T(this):this},t.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let b=0;for(let k=0;k<=w;k++){let N=b+(this.i(k)&65535)+(x.i(k)&65535),A=(N>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);b=A>>>16,N&=65535,A&=65535,I[k]=A<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function v(x,w){return x.add(T(w))}t.j=function(x){if(C(this)||C(x))return f;if(E(this))return E(x)?T(this).j(T(x)):T(T(this).j(x));if(E(x))return T(this.j(T(x)));if(this.l(p)<0&&x.l(p)<0)return c(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var b=0;b<2*w;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(let k=0;k<x.g.length;k++){const N=this.i(b)>>>16,A=this.i(b)&65535,H=x.i(k)>>>16,se=x.i(k)&65535;I[2*b+2*k]+=A*se,y(I,2*b+2*k),I[2*b+2*k+1]+=N*se,y(I,2*b+2*k+1),I[2*b+2*k+1]+=A*H,y(I,2*b+2*k+1),I[2*b+2*k+2]+=N*H,y(I,2*b+2*k+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new o(I,0)};function y(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function _(x,w){this.g=x,this.h=w}function D(x,w){if(C(w))throw Error("division by zero");if(C(x))return new _(f,f);if(E(x))return w=D(T(x),w),new _(T(w.g),T(w.h));if(E(w))return w=D(x,T(w)),new _(T(w.g),w.h);if(x.g.length>30){if(E(x)||E(w))throw Error("slowDivide_ only works with positive integers.");for(var I=m,b=w;b.l(x)<=0;)I=V(I),b=V(b);var k=M(I,1),N=M(b,1);for(b=M(b,2),I=M(I,2);!C(b);){var A=N.add(b);A.l(x)<=0&&(k=k.add(I),N=A),b=M(b,1),I=M(I,1)}return w=v(x,k.j(w)),new _(k,w)}for(k=f;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),N=c(I),A=N.j(w);E(A)||A.l(x)>0;)I-=b,N=c(I),A=N.j(w);C(N)&&(N=m),k=k.add(N),x=v(x,A)}return new _(k,x)}t.B=function(x){return D(this,x).h},t.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let b=0;b<w;b++)I[b]=this.i(b)&x.i(b);return new o(I,this.h&x.h)},t.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let b=0;b<w;b++)I[b]=this.i(b)|x.i(b);return new o(I,this.h|x.h)},t.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let b=0;b<w;b++)I[b]=this.i(b)^x.i(b);return new o(I,this.h^x.h)};function V(x){const w=x.g.length+1,I=[];for(let b=0;b<w;b++)I[b]=x.i(b)<<1|x.i(b-1)>>>31;return new o(I,x.h)}function M(x,w){const I=w>>5;w%=32;const b=x.g.length-I,k=[];for(let N=0;N<b;N++)k[N]=w>0?x.i(N+I)>>>w|x.i(N+I+1)<<32-w:x.i(N+I);return new o(k,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ls=o}).apply(typeof Vv<"u"?Vv:typeof self<"u"?self:typeof window<"u"?window:{});var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WE,oa,qE,Tu,Vf,QE,GE,KE;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof tu=="object"&&tu];for(var h=0;h<a.length;++h){var g=a[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var g=r;a=a.split(".");for(var S=0;S<a.length-1;S++){var O=a[S];if(!(O in g))break e;g=g[O]}a=a[a.length-1],S=g[a],h=h(S),h!=S&&h!=null&&e(g,a,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(h){var g=[],S;for(S in h)Object.prototype.hasOwnProperty.call(h,S)&&g.push([S,h[S]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function u(a,h,g){return a.call.apply(a.bind,arguments)}function c(a,h,g){return c=u,c.apply(null,arguments)}function d(a,h){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),a.apply(this,S)}}function f(a,h){function g(){}g.prototype=h.prototype,a.Z=h.prototype,a.prototype=new g,a.prototype.constructor=a,a.Ob=function(S,O,L){for(var q=Array(arguments.length-2),de=2;de<arguments.length;de++)q[de-2]=arguments[de];return h.prototype[O].apply(S,q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function p(a){const h=a.length;if(h>0){const g=Array(h);for(let S=0;S<h;S++)g[S]=a[S];return g}return[]}function C(a,h){for(let S=1;S<arguments.length;S++){const O=arguments[S];var g=typeof O;if(g=g!="object"?g:O?Array.isArray(O)?"array":g:"null",g=="array"||g=="object"&&typeof O.length=="number"){g=a.length||0;const L=O.length||0;a.length=g+L;for(let q=0;q<L;q++)a[g+q]=O[q]}else a.push(O)}}class E{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function T(a){o.setTimeout(()=>{throw a},0)}function v(){var a=x;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class y{constructor(){this.h=this.g=null}add(h,g){const S=_.get();S.set(h,g),this.h?this.h.next=S:this.g=S,this.h=S}}var _=new E(()=>new D,a=>a.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,M=!1,x=new y,w=()=>{const a=Promise.resolve(void 0);V=()=>{a.then(I)}};function I(){for(var a;a=v();){try{a.h.call(a.g)}catch(g){T(g)}var h=_;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}M=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};o.addEventListener("test",g,h),o.removeEventListener("test",g,h)}catch{}return a}();function A(a){return/^[\s\xa0]*$/.test(a)}function H(a,h){k.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}f(H,k),H.prototype.init=function(a,h){const g=this.type=a.type,S=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(g=="mouseover"?h=a.fromElement:g=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),te=0;function ie(a,h,g,S,O){this.listener=a,this.proxy=null,this.src=h,this.type=g,this.capture=!!S,this.ha=O,this.key=++te,this.da=this.fa=!1}function F(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function z(a,h,g){for(const S in a)h.call(g,a[S],S,a)}function Q(a,h){for(const g in a)h.call(void 0,a[g],g,a)}function ne(a){const h={};for(const g in a)h[g]=a[g];return h}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(a,h){let g,S;for(let O=1;O<arguments.length;O++){S=arguments[O];for(g in S)a[g]=S[g];for(let L=0;L<X.length;L++)g=X[L],Object.prototype.hasOwnProperty.call(S,g)&&(a[g]=S[g])}}function le(a){this.src=a,this.g={},this.h=0}le.prototype.add=function(a,h,g,S,O){const L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);const q=He(a,h,S,O);return q>-1?(h=a[q],g||(h.fa=!1)):(h=new ie(h,this.src,L,!!S,O),h.fa=g,a.push(h)),h};function ke(a,h){const g=h.type;if(g in a.g){var S=a.g[g],O=Array.prototype.indexOf.call(S,h,void 0),L;(L=O>=0)&&Array.prototype.splice.call(S,O,1),L&&(F(h),a.g[g].length==0&&(delete a.g[g],a.h--))}}function He(a,h,g,S){for(let O=0;O<a.length;++O){const L=a[O];if(!L.da&&L.listener==h&&L.capture==!!g&&L.ha==S)return O}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Rn={};function dn(a,h,g,S,O){if(Array.isArray(h)){for(let L=0;L<h.length;L++)dn(a,h[L],g,S,O);return null}return g=Ir(g),a&&a[se]?a.J(h,g,l(S)?!!S.capture:!!S,O):rr(a,h,g,!1,S,O)}function rr(a,h,g,S,O,L){if(!h)throw Error("Invalid event type");const q=l(O)?!!O.capture:!!O;let de=br(a);if(de||(a[me]=de=new le(a)),g=de.add(h,g,S,q,L),g.proxy)return g;if(S=Pn(),g.proxy=S,S.src=a,S.listener=g,a.addEventListener)N||(O=q),O===void 0&&(O=!1),a.addEventListener(h.toString(),S,O);else if(a.attachEvent)a.attachEvent(As(h.toString()),S);else if(a.addListener&&a.removeListener)a.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Pn(){function a(g){return h.call(a.src,a.listener,g)}const h=Po;return a}function sr(a,h,g,S,O){if(Array.isArray(h))for(var L=0;L<h.length;L++)sr(a,h[L],g,S,O);else S=l(S)?!!S.capture:!!S,g=Ir(g),a&&a[se]?(a=a.i,L=String(h).toString(),L in a.g&&(h=a.g[L],g=He(h,g,S,O),g>-1&&(F(h[g]),Array.prototype.splice.call(h,g,1),h.length==0&&(delete a.g[L],a.h--)))):a&&(a=br(a))&&(h=a.g[h.toString()],a=-1,h&&(a=He(h,g,S,O)),(g=a>-1?h[a]:null)&&en(g))}function en(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[se])ke(h.i,a);else{var g=a.type,S=a.proxy;h.removeEventListener?h.removeEventListener(g,S,a.capture):h.detachEvent?h.detachEvent(As(g),S):h.addListener&&h.removeListener&&h.removeListener(S),(g=br(h))?(ke(g,a),g.h==0&&(g.src=null,h[me]=null)):F(a)}}}function As(a){return a in Rn?Rn[a]:Rn[a]="on"+a}function Po(a,h){if(a.da)a=!0;else{h=new H(h,this);const g=a.listener,S=a.ha||a.src;a.fa&&en(a),a=g.call(S,h)}return a}function br(a){return a=a[me],a instanceof le?a:null}var Rs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ir(a){return typeof a=="function"?a:(a[Rs]||(a[Rs]=function(h){return a.handleEvent(h)}),a[Rs])}function De(){b.call(this),this.i=new le(this),this.M=this,this.G=null}f(De,b),De.prototype[se]=!0,De.prototype.removeEventListener=function(a,h,g,S){sr(this,a,h,g,S)};function rt(a,h){var g,S=a.G;if(S)for(g=[];S;S=S.G)g.push(S);if(a=a.M,S=h.type||h,typeof h=="string")h=new k(h,a);else if(h instanceof k)h.target=h.target||a;else{var O=h;h=new k(S,a),ce(h,O)}O=!0;let L,q;if(g)for(q=g.length-1;q>=0;q--)L=h.g=g[q],O=kn(L,S,!0,h)&&O;if(L=h.g=a,O=kn(L,S,!0,h)&&O,O=kn(L,S,!1,h)&&O,g)for(q=0;q<g.length;q++)L=h.g=g[q],O=kn(L,S,!1,h)&&O}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const g=a.g[h];for(let S=0;S<g.length;S++)F(g[S]);delete a.g[h],a.h--}}this.G=null},De.prototype.J=function(a,h,g,S){return this.i.add(String(a),h,!1,g,S)},De.prototype.K=function(a,h,g,S){return this.i.add(String(a),h,!0,g,S)};function kn(a,h,g,S){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let O=!0;for(let L=0;L<h.length;++L){const q=h[L];if(q&&!q.da&&q.capture==g){const de=q.listener,Ye=q.ha||q.src;q.fa&&ke(a.i,q),O=de.call(Ye,S)!==!1&&O}}return O&&!S.defaultPrevented}function wl(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=c(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function Nn(a){a.g=wl(()=>{a.g=null,a.i&&(a.i=!1,Nn(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class gd extends b{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Nn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(a){b.call(this),this.h=a,this.g={}}f(Ps,b);var Ct=[];function ir(a){z(a.g,function(h,g){this.g.hasOwnProperty(g)&&en(h)},a),a.g={}}Ps.prototype.N=function(){Ps.Z.N.call(this),ir(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=o.JSON.stringify,yd=o.JSON.parse,pi=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function _l(){}function No(){}var or={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dn(){k.call(this,"d")}f(Dn,k);function mi(){k.call(this,"c")}f(mi,k);var Nt={},El=null;function gi(){return El=El||new De}Nt.Ia="serverreachability";function Do(a){k.call(this,Nt.Ia,a)}f(Do,k);function Ar(a){const h=gi();rt(h,new Do(h))}Nt.STAT_EVENT="statevent";function xl(a,h){k.call(this,Nt.STAT_EVENT,a),this.stat=h}f(xl,k);function Ke(a){const h=gi();rt(h,new xl(h,a))}Nt.Ja="timingevent";function hn(a,h){k.call(this,Nt.Ja,a),this.size=h}f(hn,k);function ks(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function Z(){this.g=!0}Z.prototype.ua=function(){this.g=!1};function _e(a,h,g,S,O,L){a.info(function(){if(a.g)if(L){var q="",de=L.split("&");for(let Te=0;Te<de.length;Te++){var Ye=de[Te].split("=");if(Ye.length>1){const it=Ye[0];Ye=Ye[1];const Mn=it.split("_");q=Mn.length>=2&&Mn[1]=="type"?q+(it+"="+Ye+"&"):q+(it+"=redacted&")}}}else q=null;else q=L;return"XMLHTTP REQ ("+S+") [attempt "+O+"]: "+h+`
`+g+`
`+q})}function Se(a,h,g,S,O,L,q){a.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+O+"]: "+h+`
`+g+`
`+L+" "+q})}function st(a,h,g,S){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Vn(a,g)+(S?" "+S:"")})}function Bt(a,h){a.info(function(){return"TIMEOUT: "+h})}Z.prototype.info=function(){};function Vn(a,h){if(!a.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(a=0;a<L.length;a++)if(Array.isArray(L[a])){var g=L[a];if(!(g.length<2)){var S=g[1];if(Array.isArray(S)&&!(S.length<1)){var O=S[0];if(O!="noop"&&O!="stop"&&O!="close")for(let q=1;q<S.length;q++)S[q]=""}}}}return ko(L)}catch{return h}}var tn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fn;function vd(){}f(vd,_l),vd.prototype.g=function(){return new XMLHttpRequest},fn=new vd;function Vo(a){return encodeURIComponent(String(a))}function ST(a){var h=1;a=a.split(":");const g=[];for(;h>0&&a.length;)g.push(a.shift()),h--;return a.length&&g.push(a.join(":")),g}function Rr(a,h,g,S){this.j=a,this.i=h,this.l=g,this.S=S||1,this.V=new Ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qm}function Qm(){this.i=null,this.g="",this.h=!1}var Gm={},wd={};function _d(a,h,g){a.M=1,a.A=Sl(On(h)),a.u=g,a.R=!0,Km(a,null)}function Km(a,h){a.F=Date.now(),Tl(a),a.B=On(a.A);var g=a.B,S=a.S;Array.isArray(S)||(S=[String(S)]),lg(g.i,"t",S),a.C=0,g=a.j.L,a.h=new Qm,a.g=bg(a.j,g?h:null,!a.u),a.P>0&&(a.O=new gd(c(a.Y,a,a.g),a.P)),h=a.V,g=a.g,S=a.ba;var O="readystatechange";Array.isArray(O)||(O&&(Ct[0]=O.toString()),O=Ct);for(let L=0;L<O.length;L++){const q=dn(g,O[L],S||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=a.J?ne(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),Ar(),_e(a.i,a.v,a.B,a.l,a.S,a.u)}Rr.prototype.ba=function(a){a=a.target;const h=this.O;h&&Nr(a)==3?h.j():this.Y(a)},Rr.prototype.Y=function(a){try{if(a==this.g)e:{const de=Nr(this.g),Ye=this.g.ya(),Te=this.g.ca();if(!(de<3)&&(de!=3||this.g&&(this.h.h||this.g.la()||mg(this.g)))){this.K||de!=4||Ye==7||(Ye==8||Te<=0?Ar(3):Ar(2)),Ed(this);var h=this.g.ca();this.X=h;var g=CT(this);if(this.o=h==200,Se(this.i,this.v,this.B,this.l,this.S,de,h),this.o){if(this.U&&!this.L){t:{if(this.g){var S,O=this.g;if((S=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(S)){var L=S;break t}}L=null}if(a=L)st(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xd(this,a);else{this.o=!1,this.m=3,Ke(12),Ns(this),Oo(this);break e}}if(this.R){a=!0;let it;for(;!this.K&&this.C<g.length;)if(it=bT(this,g),it==wd){de==4&&(this.m=4,Ke(14),a=!1),st(this.i,this.l,null,"[Incomplete Response]");break}else if(it==Gm){this.m=4,Ke(15),st(this.i,this.l,g,"[Invalid Chunk]"),a=!1;break}else st(this.i,this.l,it,null),xd(this,it);if(Ym(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||g.length!=0||this.h.h||(this.m=1,Ke(16),a=!1),this.o=this.o&&a,!a)st(this.i,this.l,g,"[Invalid Chunked Response]"),Ns(this),Oo(this);else if(g.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Pd(q),q.P=!0,Ke(11))}}else st(this.i,this.l,g,null),xd(this,g);de==4&&Ns(this),this.o&&!this.K&&(de==4?xg(this.j,this):(this.o=!1,Tl(this)))}else UT(this.g),h==400&&g.indexOf("Unknown SID")>0?(this.m=3,Ke(12)):(this.m=0,Ke(13)),Ns(this),Oo(this)}}}catch{}finally{}};function CT(a){if(!Ym(a))return a.g.la();const h=mg(a.g);if(h==="")return"";let g="";const S=h.length,O=Nr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Ns(a),Oo(a),"";a.h.i=new o.TextDecoder}for(let L=0;L<S;L++)a.h.h=!0,g+=a.h.i.decode(h[L],{stream:!(O&&L==S-1)});return h.length=0,a.h.g+=g,a.C=0,a.h.g}function Ym(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function bT(a,h){var g=a.C,S=h.indexOf(`
`,g);return S==-1?wd:(g=Number(h.substring(g,S)),isNaN(g)?Gm:(S+=1,S+g>h.length?wd:(h=h.slice(S,S+g),a.C=S+g,h)))}Rr.prototype.cancel=function(){this.K=!0,Ns(this)};function Tl(a){a.T=Date.now()+a.H,Xm(a,a.H)}function Xm(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=ks(c(a.aa,a),h)}function Ed(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Rr.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Bt(this.i,this.B),this.M!=2&&(Ar(),Ke(17)),Ns(this),this.m=2,Oo(this)):Xm(this,this.T-a)};function Oo(a){a.j.I==0||a.K||xg(a.j,a)}function Ns(a){Ed(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,ir(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function xd(a,h){try{var g=a.j;if(g.I!=0&&(g.g==a||Td(g.h,a))){if(!a.L&&Td(g.h,a)&&g.I==3){try{var S=g.Ba.g.parse(h)}catch{S=null}if(Array.isArray(S)&&S.length==3){var O=S;if(O[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<a.F)Rl(g),Il(g);else break e;Rd(g),Ke(18)}}else g.xa=O[1],0<g.xa-g.K&&O[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=ks(c(g.Va,g),6e3));eg(g.h)<=1&&g.ta&&(g.ta=void 0)}else Vs(g,11)}else if((a.L||g.g==a)&&Rl(g),!A(h))for(O=g.Ba.g.parse(h),h=0;h<O.length;h++){let Te=O[h];const it=Te[0];if(!(it<=g.K))if(g.K=it,Te=Te[1],g.I==2)if(Te[0]=="c"){g.M=Te[1],g.ba=Te[2];const Mn=Te[3];Mn!=null&&(g.ka=Mn,g.j.info("VER="+g.ka));const Os=Te[4];Os!=null&&(g.za=Os,g.j.info("SVER="+g.za));const Dr=Te[5];Dr!=null&&typeof Dr=="number"&&Dr>0&&(S=1.5*Dr,g.O=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Vr=a.g;if(Vr){const kl=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kl){var L=S.h;L.g||kl.indexOf("spdy")==-1&&kl.indexOf("quic")==-1&&kl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Sd(L,L.h),L.h=null))}if(S.G){const kd=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;kd&&(S.wa=kd,be(S.J,S.G,kd))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-a.F,g.j.info("Handshake RTT: "+g.T+"ms")),S=g;var q=a;if(S.na=Cg(S,S.L?S.ba:null,S.W),q.L){tg(S.h,q);var de=q,Ye=S.O;Ye&&(de.H=Ye),de.D&&(Ed(de),Tl(de)),S.g=q}else _g(S);g.i.length>0&&Al(g)}else Te[0]!="stop"&&Te[0]!="close"||Vs(g,7);else g.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Vs(g,7):Ad(g):Te[0]!="noop"&&g.l&&g.l.qa(Te),g.A=0)}}Ar(4)}catch{}}var IT=class{constructor(a,h){this.g=a,this.map=h}};function Jm(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zm(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function eg(a){return a.h?1:a.g?a.g.size:0}function Td(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Sd(a,h){a.g?a.g.add(h):a.h=h}function tg(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Jm.prototype.cancel=function(){if(this.i=ng(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ng(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const g of a.g.values())h=h.concat(g.G);return h}return p(a.i)}var rg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AT(a,h){if(a){a=a.split("&");for(let g=0;g<a.length;g++){const S=a[g].indexOf("=");let O,L=null;S>=0?(O=a[g].substring(0,S),L=a[g].substring(S+1)):O=a[g],h(O,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Pr(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof Pr?(this.l=a.l,Mo(this,a.j),this.o=a.o,this.g=a.g,Lo(this,a.u),this.h=a.h,Cd(this,ug(a.i)),this.m=a.m):a&&(h=String(a).match(rg))?(this.l=!1,Mo(this,h[1]||"",!0),this.o=Fo(h[2]||""),this.g=Fo(h[3]||"",!0),Lo(this,h[4]),this.h=Fo(h[5]||"",!0),Cd(this,h[6]||"",!0),this.m=Fo(h[7]||"")):(this.l=!1,this.i=new Uo(null,this.l))}Pr.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(jo(h,sg,!0),":");var g=this.g;return(g||h=="file")&&(a.push("//"),(h=this.o)&&a.push(jo(h,sg,!0),"@"),a.push(Vo(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&a.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(jo(g,g.charAt(0)=="/"?kT:PT,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",jo(g,DT)),a.join("")},Pr.prototype.resolve=function(a){const h=On(this);let g=!!a.j;g?Mo(h,a.j):g=!!a.o,g?h.o=a.o:g=!!a.g,g?h.g=a.g:g=a.u!=null;var S=a.h;if(g)Lo(h,a.u);else if(g=!!a.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var O=h.h.lastIndexOf("/");O!=-1&&(S=h.h.slice(0,O+1)+S)}if(O=S,O==".."||O==".")S="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){S=O.lastIndexOf("/",0)==0,O=O.split("/");const L=[];for(let q=0;q<O.length;){const de=O[q++];de=="."?S&&q==O.length&&L.push(""):de==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),S&&q==O.length&&L.push("")):(L.push(de),S=!0)}S=L.join("/")}else S=O}return g?h.h=S:g=a.i.toString()!=="",g?Cd(h,ug(a.i)):g=!!a.m,g&&(h.m=a.m),h};function On(a){return new Pr(a)}function Mo(a,h,g){a.j=g?Fo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Lo(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function Cd(a,h,g){h instanceof Uo?(a.i=h,VT(a.i,a.l)):(g||(h=jo(h,NT)),a.i=new Uo(h,a.l))}function be(a,h,g){a.i.set(h,g)}function Sl(a){return be(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Fo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function jo(a,h,g){return typeof a=="string"?(a=encodeURI(a).replace(h,RT),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function RT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var sg=/[#\/\?@]/g,PT=/[#\?:]/g,kT=/[#\?]/g,NT=/[#\?@]/g,DT=/#/g;function Uo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Ds(a){a.g||(a.g=new Map,a.h=0,a.i&&AT(a.i,function(h,g){a.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Uo.prototype,t.add=function(a,h){Ds(this),this.i=null,a=yi(this,a);let g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(h),this.h+=1,this};function ig(a,h){Ds(a),h=yi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function og(a,h){return Ds(a),h=yi(a,h),a.g.has(h)}t.forEach=function(a,h){Ds(this),this.g.forEach(function(g,S){g.forEach(function(O){a.call(h,O,S,this)},this)},this)};function ag(a,h){Ds(a);let g=[];if(typeof h=="string")og(a,h)&&(g=g.concat(a.g.get(yi(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)g=g.concat(a[h]);return g}t.set=function(a,h){return Ds(this),this.i=null,a=yi(this,a),og(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=ag(this,a),a.length>0?String(a[0]):h):h};function lg(a,h,g){ig(a,h),g.length>0&&(a.i=null,a.g.set(yi(a,h),p(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let S=0;S<h.length;S++){var g=h[S];const O=Vo(g);g=ag(this,g);for(let L=0;L<g.length;L++){let q=O;g[L]!==""&&(q+="="+Vo(g[L])),a.push(q)}}return this.i=a.join("&")};function ug(a){const h=new Uo;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function yi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function VT(a,h){h&&!a.j&&(Ds(a),a.i=null,a.g.forEach(function(g,S){const O=S.toLowerCase();S!=O&&(ig(this,S),lg(this,O,g))},a)),a.j=h}function OT(a,h){const g=new Z;if(o.Image){const S=new Image;S.onload=d(kr,g,"TestLoadImage: loaded",!0,h,S),S.onerror=d(kr,g,"TestLoadImage: error",!1,h,S),S.onabort=d(kr,g,"TestLoadImage: abort",!1,h,S),S.ontimeout=d(kr,g,"TestLoadImage: timeout",!1,h,S),o.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=a}else h(!1)}function MT(a,h){const g=new Z,S=new AbortController,O=setTimeout(()=>{S.abort(),kr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:S.signal}).then(L=>{clearTimeout(O),L.ok?kr(g,"TestPingServer: ok",!0,h):kr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),kr(g,"TestPingServer: error",!1,h)})}function kr(a,h,g,S,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),S(g)}catch{}}function LT(){this.g=new pi}function bd(a){this.i=a.Sb||null,this.h=a.ab||!1}f(bd,_l),bd.prototype.g=function(){return new Cl(this.i,this.h)};function Cl(a,h){De.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Cl,De),t=Cl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,$o(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cg(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function cg(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?zo(this):$o(this),this.readyState==3&&cg(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,zo(this))},t.Na=function(a){this.g&&(this.response=a,zo(this))},t.ga=function(){this.g&&zo(this)};function zo(a){a.readyState=4,a.l=null,a.j=null,a.B=null,$o(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=h.next();return a.join(`\r
`)};function $o(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function dg(a){let h="";return z(a,function(g,S){h+=S,h+=":",h+=g,h+=`\r
`}),h}function Id(a,h,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=dg(g),typeof a=="string"?g!=null&&Vo(g):be(a,h,g))}function je(a){De.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(je,De);var FT=/^https?$/i,jT=["POST","PUT"];t=je.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fn.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(L){hg(this,L);return}if(a=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var O in S)g.set(O,S[O]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())g.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),O=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(jT,h,void 0)>=0)||S||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,q]of g)this.g.setRequestHeader(L,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(L){hg(this,L)}};function hg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,fg(a),bl(a)}function fg(a){a.A||(a.A=!0,rt(a,"complete"),rt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,rt(this,"complete"),rt(this,"abort"),bl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bl(this,!0)),je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?pg(this):this.Xa())},t.Xa=function(){pg(this)};function pg(a){if(a.h&&typeof i<"u"){if(a.v&&Nr(a)==4)setTimeout(a.Ca.bind(a),0);else if(rt(a,"readystatechange"),Nr(a)==4){a.h=!1;try{const L=a.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var S;if(S=L===0){let q=String(a.D).match(rg)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),S=!FT.test(q?q.toLowerCase():"")}g=S}if(g)rt(a,"complete"),rt(a,"success");else{a.o=6;try{var O=Nr(a)>2?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.ca()+"]",fg(a)}}finally{bl(a)}}}}function bl(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const g=a.g;a.g=null,h||rt(a,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Nr(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Nr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),yd(h)}};function mg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function UT(a){const h={};a=(a.g&&Nr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<a.length;S++){if(A(a[S]))continue;var g=ST(a[S]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=h[O]||[];h[O]=L,L.push(g)}Q(h,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bo(a,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||h}function gg(a){this.za=0,this.i=[],this.j=new Z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bo("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bo("baseRetryDelayMs",5e3,a),this.Za=Bo("retryDelaySeedMs",1e4,a),this.Ta=Bo("forwardChannelMaxRetries",2,a),this.va=Bo("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Jm(a&&a.concurrentRequestLimit),this.Ba=new LT,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gg.prototype,t.ka=8,t.I=1,t.connect=function(a,h,g,S){Ke(0),this.W=a,this.H=h||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.J=Cg(this,null,this.W),Al(this)};function Ad(a){if(yg(a),a.I==3){var h=a.V++,g=On(a.J);if(be(g,"SID",a.M),be(g,"RID",h),be(g,"TYPE","terminate"),Ho(a,g),h=new Rr(a,a.j,h),h.M=2,h.A=Sl(On(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=h.A,g=!0),g||(h.g=bg(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Tl(h)}Sg(a)}function Il(a){a.g&&(Pd(a),a.g.cancel(),a.g=null)}function yg(a){Il(a),a.v&&(o.clearTimeout(a.v),a.v=null),Rl(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Al(a){if(!Zm(a.h)&&!a.m){a.m=!0;var h=a.Ea;V||w(),M||(V(),M=!0),x.add(h,a),a.D=0}}function zT(a,h){return eg(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=ks(c(a.Ea,a,h),Tg(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const O=new Rr(this,this.j,a);let L=this.o;if(this.U&&(L?(L=ne(L),ce(L,this.U)):L=this.U),this.u!==null||this.R||(O.J=L,L=null),this.S)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(h+=S,h>4096){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=wg(this,O,h),g=On(this.J),be(g,"RID",a),be(g,"CVER",22),this.G&&be(g,"X-HTTP-Session-Id",this.G),Ho(this,g),L&&(this.R?h="headers="+Vo(dg(L))+"&"+h:this.u&&Id(g,this.u,L)),Sd(this.h,O),this.Ra&&be(g,"TYPE","init"),this.S?(be(g,"$req",h),be(g,"SID","null"),O.U=!0,_d(O,g,null)):_d(O,g,h),this.I=2}}else this.I==3&&(a?vg(this,a):this.i.length==0||Zm(this.h)||vg(this))};function vg(a,h){var g;h?g=h.l:g=a.V++;const S=On(a.J);be(S,"SID",a.M),be(S,"RID",g),be(S,"AID",a.K),Ho(a,S),a.u&&a.o&&Id(S,a.u,a.o),g=new Rr(a,a.j,g,a.D+1),a.u===null&&(g.J=a.o),h&&(a.i=h.G.concat(a.i)),h=wg(a,g,1e3),g.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Sd(a.h,g),_d(g,S,h)}function Ho(a,h){a.H&&z(a.H,function(g,S){be(h,S,g)}),a.l&&z({},function(g,S){be(h,S,g)})}function wg(a,h,g){g=Math.min(a.i.length,g);const S=a.l?c(a.l.Ka,a.l,a):null;e:{var O=a.i;let de=-1;for(;;){const Ye=["count="+g];de==-1?g>0?(de=O[0].g,Ye.push("ofs="+de)):de=0:Ye.push("ofs="+de);let Te=!0;for(let it=0;it<g;it++){var L=O[it].g;const Mn=O[it].map;if(L-=de,L<0)de=Math.max(0,O[it].g-100),Te=!1;else try{L="req"+L+"_"||"";try{var q=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Os,Dr]of q){let Vr=Dr;l(Dr)&&(Vr=ko(Dr)),Ye.push(L+Os+"="+encodeURIComponent(Vr))}}catch(Os){throw Ye.push(L+"type="+encodeURIComponent("_badmap")),Os}}catch{S&&S(Mn)}}if(Te){q=Ye.join("&");break e}}q=void 0}return a=a.i.splice(0,g),h.G=a,q}function _g(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;V||w(),M||(V(),M=!0),x.add(h,a),a.A=0}}function Rd(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=ks(c(a.Da,a),Tg(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Eg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=ks(c(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ke(10),Il(this),Eg(this))};function Pd(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Eg(a){a.g=new Rr(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=On(a.na);be(h,"RID","rpc"),be(h,"SID",a.M),be(h,"AID",a.K),be(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&be(h,"TO",a.ia),be(h,"TYPE","xmlhttp"),Ho(a,h),a.u&&a.o&&Id(h,a.u,a.o),a.O&&(a.g.H=a.O);var g=a.g;a=a.ba,g.M=1,g.A=Sl(On(h)),g.u=null,g.R=!0,Km(g,a)}t.Va=function(){this.C!=null&&(this.C=null,Il(this),Rd(this),Ke(19))};function Rl(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function xg(a,h){var g=null;if(a.g==h){Rl(a),Pd(a),a.g=null;var S=2}else if(Td(a.h,h))g=h.G,tg(a.h,h),S=1;else return;if(a.I!=0){if(h.o)if(S==1){g=h.u?h.u.length:0,h=Date.now()-h.F;var O=a.D;S=gi(),rt(S,new hn(S,g)),Al(a)}else _g(a);else if(O=h.m,O==3||O==0&&h.X>0||!(S==1&&zT(a,h)||S==2&&Rd(a)))switch(g&&g.length>0&&(h=a.h,h.i=h.i.concat(g)),O){case 1:Vs(a,5);break;case 4:Vs(a,10);break;case 3:Vs(a,6);break;default:Vs(a,2)}}}function Tg(a,h){let g=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(g*=2),g*h}function Vs(a,h){if(a.j.info("Error code "+h),h==2){var g=c(a.bb,a),S=a.Ua;const O=!S;S=new Pr(S||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Mo(S,"https"),Sl(S),O?OT(S.toString(),g):MT(S.toString(),g)}else Ke(2);a.I=0,a.l&&a.l.pa(h),Sg(a),yg(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function Sg(a){if(a.I=0,a.ja=[],a.l){const h=ng(a.h);(h.length!=0||a.i.length!=0)&&(C(a.ja,h),C(a.ja,a.i),a.h.i.length=0,p(a.i),a.i.length=0),a.l.oa()}}function Cg(a,h,g){var S=g instanceof Pr?On(g):new Pr(g);if(S.g!="")h&&(S.g=h+"."+S.g),Lo(S,S.u);else{var O=o.location;S=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;const L=new Pr(null);S&&Mo(L,S),h&&(L.g=h),O&&Lo(L,O),g&&(L.h=g),S=L}return g=a.G,h=a.wa,g&&h&&be(S,g,h),be(S,"VER",a.ka),Ho(a,S),S}function bg(a,h,g){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new je(new bd({ab:g})):new je(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ig(){}t=Ig.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pl(){}Pl.prototype.g=function(a,h){return new Ht(a,h)};function Ht(a,h){De.call(this),this.g=new gg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!A(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!A(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new vi(this)}f(Ht,De),Ht.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Ad(this.g)},Ht.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.v&&(g={},g.__data__=ko(a),a=g);h.i.push(new IT(h.Ya++,a)),h.I==3&&Al(h)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Ad(this.g),delete this.g,Ht.Z.N.call(this)};function Ag(a){Dn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const g in h){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}f(Ag,Dn);function Rg(){mi.call(this),this.status=1}f(Rg,mi);function vi(a){this.g=a}f(vi,Ig),vi.prototype.ra=function(){rt(this.g,"a")},vi.prototype.qa=function(a){rt(this.g,new Ag(a))},vi.prototype.pa=function(a){rt(this.g,new Rg)},vi.prototype.oa=function(){rt(this.g,"b")},Pl.prototype.createWebChannel=Pl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,KE=function(){return new Pl},GE=function(){return gi()},QE=Nt,Vf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tn.NO_ERROR=0,tn.TIMEOUT=8,tn.HTTP_ERROR=6,Tu=tn,Dt.COMPLETE="complete",qE=Dt,No.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",De.prototype.listen=De.prototype.J,oa=No,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa,WE=je}).apply(typeof tu<"u"?tu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="12.10.0";function RN(t){bo=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new FE("@firebase/firestore");function _i(){return ii.logLevel}function G(t,...e){if(ii.logLevel<=ye.DEBUG){const n=e.map(gm);ii.debug(`Firestore (${bo}): ${t}`,...n)}}function xr(t,...e){if(ii.logLevel<=ye.ERROR){const n=e.map(gm);ii.error(`Firestore (${bo}): ${t}`,...n)}}function oi(t,...e){if(ii.logLevel<=ye.WARN){const n=e.map(gm);ii.warn(`Firestore (${bo}): ${t}`,...n)}}function gm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YE(t,r,n)}function YE(t,e,n){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xr(r),new Error(r)}function Ee(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||YE(e,s,r)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Co{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class kN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NN{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new us;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new us,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new us)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new XE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class DN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class VN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new DN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ON{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=MN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Of(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return yh(s)===yh(i)?fe(s,i):yh(s)?1:-1}return fe(t.length,e.length)}const LN=55296,FN=57343;function yh(t){const e=t.charCodeAt(0);return e>=LN&&e<=FN}function fo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="__name__";class jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=jn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return fe(e.length,n.length)}static compareSegments(e,n){const r=jn.isNumericId(e),s=jn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?jn.extractNumericId(e).compare(jn.extractNumericId(n)):Of(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class Oe extends jn{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const jN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends jn{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return jN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mv}static keyField(){return new ht([Mv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Oe.fromString(e))}static fromName(e){return new J(Oe.fromString(e).popFirst(5))}static empty(){return new J(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zN(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lv(t){if(!J.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vm(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function pl(t,e){if(!JE(t))throw new Y($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=-62135596800,jv=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jv);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Fv)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pl(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Qe("string",Re._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new Re(0,0))}static max(){return new re(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=-1;function $N(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=re.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new ys(s,J.empty(),e)}function BN(t){return new ys(t.readTime,t.key,Ya)}class ys{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ys(re.min(),J.empty(),Ya)}static max(){return new ys(re.max(),J.empty(),Ya)}}function HN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==WN)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function QN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=-1;function Zc(t){return t==null}function dc(t){return t===0&&1/t==-1/0}function GN(t){return typeof t=="number"&&Number.isInteger(t)&&!dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function KN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Uv(e)),e=YN(t.get(n),e);return Uv(e)}function YN(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case ZE:n+="";break;default:n+=i}}return n}function Uv(t){return t+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ex(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nu(this.root,e,this.comparator,!0)}}class nu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ct.RED,this.left=s??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new nt(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tx("Invalid base64 string: "+i):i}}(e);return new mt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const XN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=XN.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="server_timestamp",rx="__type__",sx="__previous_value__",ix="__local_write_time__";function _m(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rx])==null?void 0:r.stringValue)===nx}function ed(t){const e=t.mapValue.fields[sx];return _m(e)?ed(e):e}function Xa(t){const e=vs(t.mapValue.fields[ix].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r,s,i,o,l,u,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=f}}const hc="(default)";class Ja{constructor(e,n){this.projectId=e,this.database=n||hc}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}function ZN(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="__type__",ax="__max__",ru={mapValue:{fields:{__type__:{stringValue:ax}}}},lx="__vector__",fc="value";function _s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_m(t)?4:tD(t)?9007199254740991:eD(t)?10:11:ee(28295,{value:t})}function er(t,e){if(t===e)return!0;const n=_s(t);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xa(t).isEqual(Xa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=vs(s.timestampValue),l=vs(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ws(s.bytesValue).isEqual(ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $e(s.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $e(s.integerValue)===$e(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$e(s.doubleValue),l=$e(i.doubleValue);return o===l?dc(o)===dc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(zv(o)!==zv(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!er(o[u],l[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Za(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function po(t,e){if(t===e)return 0;const n=_s(t),r=_s(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=$e(i.integerValue||i.doubleValue),u=$e(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Bv(t.timestampValue,e.timestampValue);case 4:return Bv(Xa(t),Xa(e));case 5:return Of(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ws(i),u=ws(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=fe(l[c],u[c]);if(d!==0)return d}return fe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=fe($e(i.latitude),$e(o.latitude));return l!==0?l:fe($e(i.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,C,E;const l=i.fields||{},u=o.fields||{},c=(m=l[fc])==null?void 0:m.arrayValue,d=(p=u[fc])==null?void 0:p.arrayValue,f=fe(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((E=d==null?void 0:d.values)==null?void 0:E.length)||0);return f!==0?f:Hv(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ru.mapValue&&o===ru.mapValue)return 0;if(i===ru.mapValue)return 1;if(o===ru.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=Of(u[f],d[f]);if(m!==0)return m;const p=po(l[u[f]],c[d[f]]);if(p!==0)return p}return fe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function Bv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=vs(t),r=vs(e),s=fe(n.seconds,r.seconds);return s!==0?s:fe(n.nanos,r.nanos)}function Hv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=po(n[s],r[s]);if(i)return i}return fe(n.length,r.length)}function mo(t){return Mf(t)}function Mf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Mf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Mf(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function Su(t){switch(_s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(t);return e?16+Su(e):16;case 5:return 2*t.stringValue.length;case 6:return ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Su(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return bs(r.fields,(i,o)=>{s+=i.length+Su(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function Lf(t){return!!t&&"integerValue"in t}function Em(t){return!!t&&"arrayValue"in t}function Wv(t){return!!t&&"nullValue"in t}function qv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cu(t){return!!t&&"mapValue"in t}function eD(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ox])==null?void 0:r.stringValue)===lx}function Ea(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ea(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(t.arrayValue.values[n]);return e}return{...t}}function tD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ax}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=ht.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ea(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Cu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){bs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Lt(Ea(this.value))}}function ux(t){const e=[];return bs(t.fields,(n,r)=>{const s=new ht([n]);if(Cu(r)){const i=ux(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tt(e,0,re.min(),re.min(),re.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,s){return new Tt(e,1,n,re.min(),r,s,0)}static newNoDocument(e,n){return new Tt(e,2,n,re.min(),re.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,re.min(),re.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.position=e,this.inclusive=n}}function Qv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=po(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function nD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{}class Ze extends cx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sD(e,n,r):n==="array-contains"?new aD(e,r):n==="in"?new lD(e,r):n==="not-in"?new uD(e,r):n==="array-contains-any"?new cD(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iD(e,r):new oD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends cx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return dx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dx(t){return t.op==="and"}function hx(t){return rD(t)&&dx(t)}function rD(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Ff(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+mo(t.value);if(hx(t))return t.filters.map(e=>Ff(e)).join(",");{const e=t.filters.map(n=>Ff(n)).join(",");return`${t.op}(${e})`}}function fx(t,e){return t instanceof Ze?function(r,s){return s instanceof Ze&&r.op===s.op&&r.field.isEqual(s.field)&&er(r.value,s.value)}(t,e):t instanceof tr?function(r,s){return s instanceof tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&fx(o,s.filters[l]),!0):!1}(t,e):void ee(19439)}function px(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(px).join(" ,")+"}"}(t):"Filter"}class sD extends Ze{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class iD extends Ze{constructor(e,n){super(e,"in",n),this.keys=mx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oD extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=mx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mx(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class aD extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Em(n)&&Za(n.arrayValue,this.value)}}class lD extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}}class uD extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Za(this.value.arrayValue,n)}}class cD extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Em(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Kv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new dD(t,e,n,r,s,i,o)}function xm(t){const e=oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ff(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Zc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.Te=n}return e.Te}function Tm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gv(t.startAt,e.startAt)&&Gv(t.endAt,e.endAt)}function jf(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function hD(t,e,n,r,s,i,o,l){return new td(t,e,n,r,s,i,o,l)}function nd(t){return new td(t)}function Yv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fD(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pD(t){return t.collectionGroup!==null}function xa(t){const e=oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new nt(ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new mc(i,r))}),n.has(ht.keyField().canonicalString())||e.Ie.push(new mc(ht.keyField(),r))}return e.Ie}function Kn(t){const e=oe(t);return e.Ee||(e.Ee=mD(e,xa(t))),e.Ee}function mD(t,e){if(t.limitType==="F")return Kv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new mc(s.field,i)});const n=t.endAt?new pc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pc(t.startAt.position,t.startAt.inclusive):null;return Kv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uf(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rd(t,e){return Tm(Kn(t),Kn(e))&&t.limitType===e.limitType}function gx(t){return`${xm(Kn(t))}|lt:${t.limitType}`}function Ei(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>px(s)).join(", ")}]`),Zc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>mo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>mo(s)).join(",")),`Target(${r})`}(Kn(t))}; limitType=${t.limitType})`}function sd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const c=Qv(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,xa(r),s)||r.endAt&&!function(o,l,u){const c=Qv(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,xa(r),s))}(t,e)}function gD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yx(t){return(e,n)=>{let r=!1;for(const s of xa(t)){const i=yD(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function yD(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),c=l.data.field(i);return u!==null&&c!==null?po(u,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ex(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Fe(J.comparator);function Tr(){return vD}const vx=new Fe(J.comparator);function aa(...t){let e=vx;for(const n of t)e=e.insert(n.key,n);return e}function wx(t){let e=vx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $s(){return Ta()}function _x(){return Ta()}function Ta(){return new hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const wD=new Fe(J.comparator),_D=new nt(J.comparator);function pe(...t){let e=_D;for(const n of t)e=e.add(n);return e}const ED=new nt(fe);function xD(){return ED}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function Ex(t){return{integerValue:""+t}}function TD(t,e){return GN(e)?Ex(e):Sm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this._=void 0}}function SD(t,e,n){return t instanceof gc?function(s,i){const o={fields:{[rx]:{stringValue:nx},[ix]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_m(i)&&(i=ed(i)),i&&(o.fields[sx]=i),{mapValue:o}}(n,e):t instanceof el?Tx(t,e):t instanceof tl?Sx(t,e):function(s,i){const o=xx(s,i),l=Xv(o)+Xv(s.Ae);return Lf(o)&&Lf(s.Ae)?Ex(l):Sm(s.serializer,l)}(t,e)}function CD(t,e,n){return t instanceof el?Tx(t,e):t instanceof tl?Sx(t,e):n}function xx(t,e){return t instanceof yc?function(r){return Lf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gc extends id{}class el extends id{constructor(e){super(),this.elements=e}}function Tx(t,e){const n=Cx(e);for(const r of t.elements)n.some(s=>er(s,r))||n.push(r);return{arrayValue:{values:n}}}class tl extends id{constructor(e){super(),this.elements=e}}function Sx(t,e){let n=Cx(e);for(const r of t.elements)n=n.filter(s=>!er(s,r));return{arrayValue:{values:n}}}class yc extends id{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Xv(t){return $e(t.integerValue||t.doubleValue)}function Cx(t){return Em(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof el&&s instanceof el||r instanceof tl&&s instanceof tl?fo(r.elements,s.elements,er):r instanceof yc&&s instanceof yc?er(r.Ae,s.Ae):r instanceof gc&&s instanceof gc}(t.transform,e.transform)}class ID{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class od{}function bx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ax(t.key,Yn.none()):new ml(t.key,t.data,Yn.none());{const n=t.data,r=Lt.empty();let s=new nt(ht.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Is(t.key,r,new Gt(s.toArray()),Yn.none())}}function AD(t,e,n){t instanceof ml?function(s,i,o){const l=s.value.clone(),u=Zv(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Is?function(s,i,o){if(!bu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Zv(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Ix(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sa(t,e,n,r){return t instanceof ml?function(i,o,l,u){if(!bu(i.precondition,o))return l;const c=i.value.clone(),d=e0(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Is?function(i,o,l,u){if(!bu(i.precondition,o))return l;const c=e0(i.fieldTransforms,u,o),d=o.data;return d.setAll(Ix(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return bu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function RD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=xx(r.transform,s||null);i!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,i))}return n||null}function Jv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fo(r,s,(i,o)=>bD(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ml extends od{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Is extends od{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ix(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Zv(t,e,n){const r=new Map;Ee(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,CD(o,l,n[s]))}return r}function e0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,SD(i,o,e))}return r}class Ax extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PD extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&AD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_x();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=bx(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>Jv(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>Jv(n,r))}}class Cm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return wD}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Cm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,ge;function VD(t){switch(t){case $.OK:return ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function Rx(t){if(t===void 0)return xr("GRPC error has no .code"),$.UNKNOWN;switch(t){case We.OK:return $.OK;case We.CANCELLED:return $.CANCELLED;case We.UNKNOWN:return $.UNKNOWN;case We.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case We.INTERNAL:return $.INTERNAL;case We.UNAVAILABLE:return $.UNAVAILABLE;case We.UNAUTHENTICATED:return $.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case We.NOT_FOUND:return $.NOT_FOUND;case We.ALREADY_EXISTS:return $.ALREADY_EXISTS;case We.PERMISSION_DENIED:return $.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case We.ABORTED:return $.ABORTED;case We.OUT_OF_RANGE:return $.OUT_OF_RANGE;case We.UNIMPLEMENTED:return $.UNIMPLEMENTED;case We.DATA_LOSS:return $.DATA_LOSS;default:return ee(39323,{code:t})}}(ge=We||(We={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new ls([4294967295,4294967295],0);function t0(t){const e=OD().encode(t),n=new HE;return n.update(e),new Uint8Array(n.digest())}function n0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ls([n,r],0),new ls([s,i],0)]}class bm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new la(`Invalid padding: ${n}`);if(r<0)throw new la(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new la(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new la(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ls.fromNumber(r)));return s.compare(MD)===1&&(s=new ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=t0(e),[r,s]=n0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new bm(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=t0(e),[r,s]=n0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class la extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ad(re.min(),s,new Fe(fe),Tr(),pe())}}class gl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Px{constructor(e,n){this.targetId=e,this.Ce=n}}class kx{constructor(e,n,r=mt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class r0{constructor(){this.ve=0,this.Fe=s0(),this.Me=mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),r=pe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new gl(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=s0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class LD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tr(),this.He=su(),this.Je=su(),this.Ze=new Fe(fe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(jf(i))if(r===0){const o=new J(i.path);this.et(n,o,Tt.newNoDocument(o,re.min()))}else Ee(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ws(r).toUint8Array()}catch(u){if(u instanceof tx)return oi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new bm(o,s,i)}catch(u){return oi(u instanceof la?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&jf(l.target)){const u=new J(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Tt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=pe();this.Je.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new ad(e,n,this.Ze,this.je,r);return this.je=Tr(),this.He=su(),this.Je=su(),this.Ze=new Fe(fe),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new r0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new nt(fe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new nt(fe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function su(){return new Fe(J.comparator)}function s0(){return new Fe(J.comparator)}const FD={asc:"ASCENDING",desc:"DESCENDING"},jD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UD={and:"AND",or:"OR"};class zD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zf(t,e){return t.useProto3Json||Zc(e)?e:{value:e}}function vc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $D(t,e){return vc(t,e.toTimestamp())}function Xn(t){return Ee(!!t,49232),re.fromTimestamp(function(n){const r=vs(n);return new Re(r.seconds,r.nanos)}(t))}function Im(t,e){return $f(t,e).canonicalString()}function $f(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Dx(t){const e=Oe.fromString(t);return Ee(Fx(e),10190,{key:e.toString()}),e}function Bf(t,e){return Im(t.databaseId,e.path)}function vh(t,e){const n=Dx(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(Ox(n))}function Vx(t,e){return Im(t.databaseId,e)}function BD(t){const e=Dx(t);return e.length===4?Oe.emptyPath():Ox(e)}function Hf(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ox(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function i0(t,e,n){return{name:Bf(t,e),fields:n.value.mapValue.fields}}function HD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ee(d===void 0||typeof d=="string",58123),mt.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?$.UNKNOWN:Rx(c.code);return new Y(d,c.message||"")}(o);n=new kx(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vh(t,r.document.name),i=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):re.min(),l=new Lt({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(s,i,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Iu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vh(t,r.document),i=r.readTime?Xn(r.readTime):re.min(),o=Tt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Iu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vh(t,r.document),i=r.removedTargetIds||[];n=new Iu([],i,s,null)}else{if(!("filter"in e))return ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new DD(s,i),l=r.targetId;n=new Px(l,o)}}return n}function WD(t,e){let n;if(e instanceof ml)n={update:i0(t,e.key,e.value)};else if(e instanceof Ax)n={delete:Bf(t,e.key)};else if(e instanceof Is)n={update:i0(t,e.key,e.data),updateMask:eV(e.fieldMask)};else{if(!(e instanceof PD))return ee(16599,{dt:e.type});n={verify:Bf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof gc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof el)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof tl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof yc)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:$D(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function qD(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Xn(s.updateTime):Xn(i);return o.isEqual(re.min())&&(o=Xn(i)),new ID(o,s.transformResults||[])}(n,e))):[]}function QD(t,e){return{documents:[Vx(t,e.path)]}}function GD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vx(t,s);const i=function(c){if(c.length!==0)return Lx(tr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:xi(m.field),direction:XD(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=zf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function KD(t){let e=BD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ee(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=Mx(f);return m instanceof tr&&hx(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(C){return new mc(Ti(C.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Zc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,p=f.values||[];return new pc(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,p=f.values||[];return new pc(p,m)}(n.endAt)),hD(e,s,o,i,l,"F",u,c)}function YD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ti(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ti(n.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ti(n.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ti(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Ti(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>Mx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function XD(t){return FD[t]}function JD(t){return jD[t]}function ZD(t){return UD[t]}function xi(t){return{fieldPath:t.canonicalString()}}function Ti(t){return ht.fromServerFormat(t.fieldPath)}function Lx(t){return t instanceof Ze?function(n){if(n.op==="=="){if(qv(n.value))return{unaryFilter:{field:xi(n.field),op:"IS_NAN"}};if(Wv(n.value))return{unaryFilter:{field:xi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qv(n.value))return{unaryFilter:{field:xi(n.field),op:"IS_NOT_NAN"}};if(Wv(n.value))return{unaryFilter:{field:xi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xi(n.field),op:JD(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(s=>Lx(s));return r.length===1?r[0]:{compositeFilter:{op:ZD(n.op),filters:r}}}(t):ee(54877,{filter:t})}function eV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function jx(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,s,i=re.min(),o=re.min(),l=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.yt=e}}function nV(t){const e=KD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.Sn=new sV}addToCollectionParentIndex(e,n){return this.Sn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ys.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class sV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ux=41943040;class Ot{static withCacheSize(e){return new Ot(e,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot.DEFAULT_COLLECTION_PERCENTILE=10,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ot.DEFAULT=new Ot(Ux,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ot.DISABLED=new Ot(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new go(0)}static ar(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LruGarbageCollector",iV=1048576;function l0([t,e],[n,r]){const s=fe(t,n);return s===0?fe(e,r):s}class oV{constructor(e){this.Pr=e,this.buffer=new nt(l0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();l0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){G(a0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?G(a0,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Ar(3e5)})}}class lV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Jc.ce);const r=new oV(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(o0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o0):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),_i()<=ye.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function uV(t,e){return new lV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.changes=new hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sa(r.mutation,s,Gt.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=$s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=aa();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Tr();const o=Ta(),l=function(){return Ta()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Is)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Sa(d.mutation,c,d.mutation.getFieldMask(),Re.now())):o.set(c.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>l.set(c,new dV(d,o.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Ta();let s=new Fe((o,l)=>o-l),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Gt.empty();d=l.applyToLocalView(c,d),r.set(u,d);const f=(s.get(l.batchId)||pe()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,f=_x();d.forEach(m=>{if(!i.has(m)){const p=bx(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return fD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve($s());let l=Ya,u=i;return o.next(c=>U.forEach(c,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,pe())).next(d=>({batchId:l,changes:wx(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=aa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=aa();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,u=>{const c=function(f,m){return new td(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Tt.newInvalidDocument(d)))});let l=aa();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Sa(d.mutation,c,Gt.empty(),Re.now()),sd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return U.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Xn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:nV(s.bundledQuery),readTime:Xn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new Fe(J.comparator),this.Lr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$s();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=$s(),i=n.length+1,o=new J(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Fe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=$s(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=$s(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=s)););return U.resolve(l)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ND(n,r));let i=this.Lr.get(n);i===void 0&&(i=pe(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.kr=new nt(ot.Kr),this.qr=new nt(ot.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new ot(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new J(new Oe([])),r=new ot(n,e),s=new ot(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new J(new Oe([])),r=new ot(n,e),s=new ot(n,e+1);let i=pe();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ot(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return J.comparator(e.key,n.key)||fe(e.Hr,n.Hr)}static Ur(e,n){return fe(e.Hr,n.Hr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new nt(ot.Kr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kD(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Jr=this.Jr.add(new ot(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?wm:this.Yn-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),s=new ot(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const l=this.Zr(o.Hr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(fe);return n.forEach(s=>{const i=new ot(s,0),o=new ot(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],l=>{r=r.add(l.Hr)})}),U.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new ot(new J(i),0);let l=new nt(fe);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.Hr)),!0)},o),U.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ee(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return U.forEach(n.mutations,s=>{const i=new ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new ot(n,0),s=this.Jr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.ti=e,this.docs=function(){return new Fe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=Tr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Tr();const o=n.path,l=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||HN(BN(d),r)<=0||(s.has(d.key)||sd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ni(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vV(this)}getSize(e){return U.resolve(this.size)}}class vV extends cV{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.persistence=e,this.ri=new hi(n=>xm(n),Tm),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.ii=0,this.si=new Am,this.targetCount=0,this.oi=go._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),U.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new go(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.lr(n),U.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this._i={},this.overlays={},this.ai=new Jc(0),this.ui=!1,this.ui=!0,this.ci=new mV,this.referenceDelegate=e(this),this.li=new wV(this),this.indexManager=new rV,this.remoteDocumentCache=function(s){return new yV(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new tV(n),this.Pi=new fV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new gV(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new _V(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return U.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class _V extends qN{constructor(e){super(),this.currentSequenceNumber=e}}class Rm{constructor(e){this.persistence=e,this.Ri=new Am,this.Ai=null}static Vi(e){return new Rm(e)}get di(){if(this.Ai)return this.Ai;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,r=>{const s=J.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,re.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wc{constructor(e,n){this.persistence=e,this.fi=new hi(r=>KN(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=uV(this,n)}static Vi(e,n){return new wc(e,n)}Ti(){}Ii(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return U.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,re.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),U.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Su(e.data.value)),n}wr(e,n,r){return U.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Pm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return dk()?8:QN(uk())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new EV;return this.ys(e,n,o).next(l=>{if(i.result=l,this.As)return this.ws(e,n,o,l.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(_i()<=ye.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ei(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(_i()<=ye.DEBUG&&G("QueryEngine","Query:",Ei(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(_i()<=ye.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ei(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):U.resolve())}gs(e,n){if(Yv(n))return U.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Uf(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.fs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,o,u.readTime)?this.gs(e,Uf(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,r,s){return Yv(n)||s.isEqual(re.min())?U.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?U.resolve(null):(_i()<=ye.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ei(n)),this.Ds(e,o,n,$N(s,Ya)).next(l=>l))})}bs(e,n){let r=new nt(yx(e));return n.forEach((s,i)=>{sd(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return _i()<=ye.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ei(n)),this.fs.getDocumentsMatchingQuery(e,n,ys.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="LocalStore",TV=3e8;class SV{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Fe(fe),this.Fs=new hi(i=>xm(i),Tm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function CV(t,e,n,r){return new SV(t,e,n,r)}async function $x(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=pe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:l}))})})}function bV(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const f=c.batch,m=f.keys();let p=U.resolve();return m.forEach(C=>{p=p.next(()=>d.getEntry(u,C)).next(E=>{const T=c.docVersions.get(C);Ee(T!==null,48541),E.version.compareTo(T)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=pe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Bx(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function IV(t,e){const n=oe(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const l=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;l.push(n.li.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(mt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(E,T,v){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=TV?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&l.push(n.li.updateTargetData(i,p))});let u=Tr(),c=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(AV(i,o,e.documentUpdates).next(d=>{u=d.Bs,c=d.Ls})),!r.isEqual(re.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return U.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.vs=s,i))}function AV(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Tr();return n.forEach((l,u)=>{const c=i.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):G(km,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:o,Ls:s}})}function RV(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PV(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new Xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Wf(t,e,n){const r=oe(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ao(o))throw o;G(km,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function u0(t,e,n){const r=oe(t);let s=re.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=oe(u),m=f.Fs.get(d);return m!==void 0?U.resolve(f.vs.get(m)):f.li.getTargetData(c,d)}(r,o,Kn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:re.min(),n?i:pe())).next(l=>(kV(r,gD(e),l),{documents:l,ks:i})))}function kV(t,e,n){let r=t.Ms.get(e)||re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class c0{constructor(){this.activeTargetIds=xD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NV{constructor(){this.vo=new c0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new c0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="ConnectivityMonitor";class h0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){G(d0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){G(d0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu=null;function qf(){return iu===null?iu=function(){return 268435456+Math.round(2147483648*Math.random())}():iu++,"0x"+iu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="RestConnection",VV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class OV{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===hc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=qf(),l=this.Qo(e,n.toUriEncodedString());G(wh,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,i);const{host:c}=new URL(l),d=pm(c);return this.zo(e,l,u,r,d).then(f=>(G(wh,`Received RPC '${e}' ${o}: `,f),f),f=>{throw oi(wh,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=VV[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection",ta=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class qi extends OV{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!qi.c_){const e=GE();ta(e,QE.STAT_EVENT,n=>{n.stat===Vf.PROXY?G(wt,"STAT_EVENT: detected buffering proxy"):n.stat===Vf.NOPROXY&&G(wt,"STAT_EVENT: detected no buffering proxy")}),qi.c_=!0}}zo(e,n,r,s,i){const o=qf();return new Promise((l,u)=>{const c=new WE;c.setWithCredentials(!0),c.listenOnce(qE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Tu.NO_ERROR:const f=c.getResponseJson();G(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Tu.TIMEOUT:G(wt,`RPC '${e}' ${o} timed out`),u(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:const m=c.getStatus();if(G(wt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const C=p==null?void 0:p.error;if(C&&C.status&&C.message){const E=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(C.status);u(new Y(E,C.message))}else u(new Y($.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y($.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(wt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(wt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=qf(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");G(wt,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);this.I_(d);let f=!1,m=!1;const p=new MV({Ho:C=>{m?G(wt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(f||(G(wt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),G(wt,`RPC '${e}' stream ${s} sending:`,C),d.send(C))},Jo:()=>d.close()});return ta(d,oa.EventType.OPEN,()=>{m||(G(wt,`RPC '${e}' stream ${s} transport opened.`),p.i_())}),ta(d,oa.EventType.CLOSE,()=>{m||(m=!0,G(wt,`RPC '${e}' stream ${s} transport closed`),p.o_(),this.E_(d))}),ta(d,oa.EventType.ERROR,C=>{m||(m=!0,oi(wt,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),p.o_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),ta(d,oa.EventType.MESSAGE,C=>{var E;if(!m){const T=C.data[0];Ee(!!T,16349);const v=T,y=(v==null?void 0:v.error)||((E=v[0])==null?void 0:E.error);if(y){G(wt,`RPC '${e}' stream ${s} received error:`,y);const _=y.status;let D=function(x){const w=We[x];if(w!==void 0)return Rx(w)}(_),V=y.message;_==="NOT_FOUND"&&V.includes("database")&&V.includes("does not exist")&&V.includes(this.databaseId.database)&&oi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=$.INTERNAL,V="Unknown error status: "+_+" with message "+y.message),m=!0,p.o_(new Y(D,V)),d.close()}else G(wt,`RPC '${e}' stream ${s} received:`,T),p.__(T)}}),qi.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){return new qi(t)}function _h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return new zD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi.c_=!1;class Hx{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="PersistentStream";class Wx{constructor(e,n,r,s,i,o,l,u){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(f0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(G(f0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FV extends Wx{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HD(this.serializer,e),r=function(i){if(!("targetChange"in i))return re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Xn(o.readTime):re.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Hf(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=jf(u)?{documents:QD(i,u)}:{query:GD(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Nx(i,o.resumeToken);const c=zf(i,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){l.readTime=vc(i,o.snapshotVersion.toTimestamp());const c=zf(i,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=YD(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Hf(this.serializer),n.removeTarget=e,this.K_(n)}}class jV extends Wx{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qD(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hf(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WD(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{}class zV extends UV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,$f(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.jo(e,$f(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function $V(t,e,n,r){return new zV(t,e,n,r)}class BV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="RemoteStore";class HV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{fi(this)&&(G(ai,"Restarting streams for network reachability change."),await async function(u){const c=oe(u);c.Ea.add(4),await yl(c),c.Va.set("Unknown"),c.Ea.delete(4),await ud(c)}(this))})}),this.Va=new BV(r,s)}}async function ud(t){if(fi(t))for(const e of t.Ra)await e(!0)}async function yl(t){for(const e of t.Ra)await e(!1)}function qx(t,e){const n=oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Om(n)?Vm(n):Ro(n).O_()&&Dm(n,e))}function Nm(t,e){const n=oe(t),r=Ro(n);n.Ia.delete(e),r.O_()&&Qx(n,e),n.Ia.size===0&&(r.O_()?r.L_():fi(n)&&n.Va.set("Unknown"))}function Dm(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(t).Z_(e)}function Qx(t,e){t.da.$e(e),Ro(t).X_(e)}function Vm(t){t.da=new LD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ro(t).start(),t.Va.ua()}function Om(t){return fi(t)&&!Ro(t).x_()&&t.Ia.size>0}function fi(t){return oe(t).Ea.size===0}function Gx(t){t.da=void 0}async function WV(t){t.Va.set("Online")}async function qV(t){t.Ia.forEach((e,n)=>{Dm(t,e)})}async function QV(t,e){Gx(t),Om(t)?(t.Va.ha(e),Vm(t)):t.Va.set("Unknown")}async function GV(t,e,n){if(t.Va.set("Online"),e instanceof kx&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.da.removeTarget(l))}(t,e)}catch(r){G(ai,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _c(t,r)}else if(e instanceof Iu?t.da.Xe(e):e instanceof Px?t.da.st(e):t.da.tt(e),!n.isEqual(re.min()))try{const r=await Bx(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.da.Tt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(mt.EMPTY_BYTE_STRING,d.snapshotVersion)),Qx(i,u);const f=new Xr(d.target,u,c,d.sequenceNumber);Dm(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G(ai,"Failed to raise snapshot:",r),await _c(t,r)}}async function _c(t,e,n){if(!Ao(e))throw e;t.Ea.add(1),await yl(t),t.Va.set("Offline"),n||(n=()=>Bx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ai,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ud(t)})}function Kx(t,e){return e().catch(n=>_c(t,n,e))}async function cd(t){const e=oe(t),n=Es(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wm;for(;KV(e);)try{const s=await RV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,YV(e,s)}catch(s){await _c(e,s)}Yx(e)&&Xx(e)}function KV(t){return fi(t)&&t.Ta.length<10}function YV(t,e){t.Ta.push(e);const n=Es(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Yx(t){return fi(t)&&!Es(t).x_()&&t.Ta.length>0}function Xx(t){Es(t).start()}async function XV(t){Es(t).ra()}async function JV(t){const e=Es(t);for(const n of t.Ta)e.ea(n.mutations)}async function ZV(t,e,n){const r=t.Ta.shift(),s=Cm.from(r,e,n);await Kx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cd(t)}async function e4(t,e){e&&Es(t).Y_&&await async function(r,s){if(function(o){return VD(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Es(r).B_(),await Kx(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await cd(r)}}(t,e),Yx(t)&&Xx(t)}async function p0(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),G(ai,"RemoteStore received new credentials");const r=fi(n);n.Ea.add(3),await yl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ud(n)}async function t4(t,e){const n=oe(t);e?(n.Ea.delete(2),await ud(n)):e||(n.Ea.add(2),await yl(n),n.Va.set("Unknown"))}function Ro(t){return t.ma||(t.ma=function(n,r,s){const i=oe(n);return i.sa(),new FV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:WV.bind(null,t),Yo:qV.bind(null,t),t_:QV.bind(null,t),J_:GV.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Om(t)?Vm(t):t.Va.set("Unknown")):(await t.ma.stop(),Gx(t))})),t.ma}function Es(t){return t.fa||(t.fa=function(n,r,s){const i=oe(n);return i.sa(),new jV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:XV.bind(null,t),t_:e4.bind(null,t),ta:JV.bind(null,t),na:ZV.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await cd(t)):(await t.fa.stop(),t.Ta.length>0&&(G(ai,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Mm(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(t,e){if(xr("AsyncQueue",`${e}: ${t}`),Ao(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{static emptySet(e){return new Qi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=aa(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.ga=new Fe(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class yo{constructor(e,n,r,s,i,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new yo(e,n,Qi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class r4{constructor(){this.queries=g0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=oe(n),i=s.queries;s.queries=g0(),i.forEach((o,l)=>{for(const u of l.ba)u.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function g0(){return new hi(t=>gx(t),rd)}async function Jx(t,e){const n=oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new n4,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Lm(o,`Initialization of query '${Ei(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Fm(n)}async function Zx(t,e){const n=oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function s4(t,e){const n=oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.ba)l.Fa(s)&&(r=!0);o.wa=s}}r&&Fm(n)}function i4(t,e,n){const r=oe(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Fm(t){t.Ca.forEach(e=>{e.next()})}var Qf,y0;(y0=Qf||(Qf={})).Ma="default",y0.Cache="cache";class eT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.key=e}}class nT{constructor(e){this.key=e}}class o4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pe(),this.mutatedKeys=pe(),this.eu=yx(e),this.tu=new Qi(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new m0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=sd(this.query,f)?f:null,C=!!m&&this.mutatedKeys.has(m.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let T=!1;m&&p?m.data.isEqual(p.data)?C!==E&&(r.track({type:3,doc:p}),T=!0):this.su(m,p)||(r.track({type:2,doc:p}),T=!0,(u&&this.eu(p,u)>0||c&&this.eu(p,c)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),T=!0):m&&!p&&(r.track({type:1,doc:m}),T=!0,(u||c)&&(l=!0)),T&&(p?(o=o.add(p),i=E?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(p,C){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Vt:T})}};return E(p)-E(C)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,o.length!==0||c?{snapshot:new yo(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new nT(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new tT(r))}),n}cu(e){this.Za=e.ks,this.Ya=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jm="SyncEngine";class a4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class l4{constructor(e){this.key=e,this.hu=!1}}class u4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hi(l=>gx(l),rd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Fe(J.comparator),this.Au=new Map,this.Vu=new Am,this.du={},this.mu=new Map,this.fu=go.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c4(t,e,n=!0){const r=lT(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await rT(r,e,n,!0),s}async function d4(t,e){const n=lT(t);await rT(n,e,!0,!1)}async function rT(t,e,n,r){const s=await PV(t.localStore,Kn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await h4(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&qx(t.remoteStore,s),l}async function h4(t,e,n,r,s){t.pu=(f,m,p)=>async function(E,T,v,y){let _=T.view.ru(v);_.Ss&&(_=await u0(E.localStore,T.query,!1).then(({documents:x})=>T.view.ru(x,_)));const D=y&&y.targetChanges.get(T.targetId),V=y&&y.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(_,E.isPrimaryClient,D,V);return w0(E,T.targetId,M.au),M.snapshot}(t,f,m,p);const i=await u0(t.localStore,e,!0),o=new o4(e,i.ks),l=o.ru(i.documents),u=gl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(l,t.isPrimaryClient,u);w0(t,n,c.au);const d=new a4(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function f4(t,e,n){const r=oe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!rd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Wf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Nm(r.remoteStore,s.targetId),Gf(r,s.targetId)}).catch(Io)):(Gf(r,s.targetId),await Wf(r.localStore,s.targetId,!0))}async function p4(t,e){const n=oe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nm(n.remoteStore,r.targetId))}async function m4(t,e,n){const r=x4(t);try{const s=await function(o,l){const u=oe(o),c=Re.now(),d=l.reduce((p,C)=>p.add(C.key),pe());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let C=Tr(),E=pe();return u.xs.getEntries(p,d).next(T=>{C=T,C.forEach((v,y)=>{y.isValidDocument()||(E=E.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,C)).next(T=>{f=T;const v=[];for(const y of l){const _=RD(y,f.get(y.key).overlayedDocument);_!=null&&v.push(new Is(y.key,_,ux(_.value.mapValue),Yn.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,v,l)}).next(T=>{m=T;const v=T.applyToLocalDocumentSet(f,E);return u.documentOverlayCache.saveOverlays(p,T.batchId,v)})}).then(()=>({batchId:m.batchId,changes:wx(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let c=o.du[o.currentUser.toKey()];c||(c=new Fe(fe)),c=c.insert(l,u),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await vl(r,s.changes),await cd(r.remoteStore)}catch(s){const i=Lm(s,"Failed to persist write");n.reject(i)}}async function sT(t,e){const n=oe(t);try{const r=await IV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ee(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ee(o.hu,14607):s.removedDocuments.size>0&&(Ee(o.hu,42227),o.hu=!1))}),await vl(n,r,e)}catch(r){await Io(r)}}function v0(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=oe(o);u.onlineState=l;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.ba)m.va(l)&&(c=!0)}),c&&Fm(u)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g4(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Fe(J.comparator);o=o.insert(i,Tt.newNoDocument(i,re.min()));const l=pe().add(i),u=new ad(re.min(),new Map,new Fe(fe),o,l);await sT(r,u),r.Ru=r.Ru.remove(i),r.Au.delete(e),Um(r)}else await Wf(r.localStore,e,!1).then(()=>Gf(r,e,n)).catch(Io)}async function y4(t,e){const n=oe(t),r=e.batch.batchId;try{const s=await bV(n.localStore,e);oT(n,r,null),iT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vl(n,s)}catch(s){await Io(s)}}async function v4(t,e,n){const r=oe(t);try{const s=await function(o,l){const u=oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(Ee(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);oT(r,e,n),iT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vl(r,s)}catch(s){await Io(s)}}function iT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function oT(t,e,n){const r=oe(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Gf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||aT(t,r)})}function aT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Nm(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Um(t))}function w0(t,e,n){for(const r of n)r instanceof tT?(t.Vu.addReference(r.key,e),w4(t,r)):r instanceof nT?(G(jm,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||aT(t,r.key)):ee(19791,{wu:r})}function w4(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(G(jm,"New document in limbo: "+n),t.Eu.add(r),Um(t))}function Um(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Oe.fromString(e)),r=t.fu.next();t.Au.set(r,new l4(n)),t.Ru=t.Ru.insert(n,r),qx(t.remoteStore,new Xr(Kn(nd(n.path)),r,"TargetPurposeLimboResolution",Jc.ce))}}async function vl(t,e,n){const r=oe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Pm.Es(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(u,c){const d=oe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,m=>U.forEach(m.Ts,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>U.forEach(m.Is,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Ao(f))throw f;G(km,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const p=d.vs.get(m),C=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(C);d.vs=d.vs.insert(m,E)}}}(r.localStore,i))}async function _4(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){G(jm,"User change. New user:",e.toKey());const r=await $x(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new Y($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vl(n,r.Ns)}}function E4(t,e){const n=oe(t),r=n.Au.get(e);if(r&&r.hu)return pe().add(r.key);{let s=pe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function lT(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.Pu.J_=s4.bind(null,e.eventManager),e.Pu.yu=i4.bind(null,e.eventManager),e}function x4(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CV(this.persistence,new xV,e.initialUser,this.serializer)}Cu(e){return new zx(Rm.Vi,this.serializer)}Du(e){return new NV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class T4 extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof wc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ot.withCacheSize(this.cacheSizeBytes):Ot.DEFAULT;return new zx(r=>wc.Vi(r,n),this.serializer)}}class Kf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_4.bind(null,this.syncEngine),await t4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r4}()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),r=LV(e.databaseInfo);return $V(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new HV(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>v0(this.syncEngine,n,0),function(){return h0.v()?new h0:new DV}())}createSyncEngine(e,n){return function(s,i,o,l,u,c,d){const f=new u4(s,i,o,l,u,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=oe(s);G(ai,"RemoteStore shutting down."),i.Ea.add(5),await yl(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class S4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Et.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(xs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(xs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Eh(t,e){t.asyncQueue.verifyOperationInProgress(),G(xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $x(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C4(t);G(xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>p0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>p0(e.remoteStore,s)),t._onlineComponents=e}async function C4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(xs,"Using user provided OfflineComponentProvider");try{await Eh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;oi("Error using user provided cache. Falling back to memory cache: "+n),await Eh(t,new Ec)}}else G(xs,"Using default OfflineComponentProvider"),await Eh(t,new T4(void 0));return t._offlineComponents}async function cT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(xs,"Using user provided OnlineComponentProvider"),await _0(t,t._uninitializedComponentsProvider._online)):(G(xs,"Using default OnlineComponentProvider"),await _0(t,new Kf))),t._onlineComponents}function b4(t){return cT(t).then(e=>e.syncEngine)}async function Yf(t){const e=await cT(t),n=e.eventManager;return n.onListen=c4.bind(null,e.syncEngine),n.onUnlisten=f4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p4.bind(null,e.syncEngine),n}function I4(t,e,n,r){const s=new uT(r),i=new eT(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>Jx(await Yf(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>Zx(await Yf(t),i))}}function A4(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,c){const d=new uT({next:m=>{d.Nu(),o.enqueueAndForget(()=>Zx(i,f));const p=m.docs.has(l);!p&&m.fromCache?c.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&u&&u.source==="server"?c.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new eT(nd(l.path),d,{includeMetadataChanges:!0,Ka:!0});return Jx(i,f)}(await Yf(t),t.asyncQueue,e,n,r)),r.promise}function R4(t,e){const n=new us;return t.asyncQueue.enqueueAndForget(async()=>m4(await b4(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="ComponentProvider",E0=new Map;function k4(t,e,n,r,s){return new JN(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,dT(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="firestore.googleapis.com",x0=!0;class T0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hT,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iV)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PN;switch(r.type){case"firstParty":return new VN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=E0.get(n);r&&(G(P4,"Removing Datastore"),E0.delete(n),r.terminate())}(this),Promise.resolve()}}function N4(t,e,n,r={}){var c;t=Gn(t,zm);const s=pm(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(sk(`https://${l}`),lk("Firestore",!0)),i.host!==hT&&i.host!==l&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!lc(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Et.MOCK_USER;else{d=ik(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Et(m)}t._authCredentials=new kN(new XE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dd(this.firestore,e,this._query)}}class Ge{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ge(this.firestore,e,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pl(n,Ge._jsonSchema))return new Ge(e,r||null,new J(Oe.fromString(n.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:Qe("string",Ge._jsonSchemaVersion),referencePath:Qe("string")};class nl extends dd{constructor(e,n,r){super(e,n,nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new J(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function hd(t,e,...n){if(t=gs(t),arguments.length===1&&(e=ym.newId()),UN("doc","path",e),t instanceof zm){const r=Oe.fromString(e,...n);return Lv(r),new Ge(t,null,new J(r))}{if(!(t instanceof Ge||t instanceof nl))throw new Y($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Lv(r),new Ge(t.firestore,t instanceof nl?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="AsyncQueue";class C0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hx(this,"async_queue_retry"),this._c=()=>{const r=_h();r&&G(S0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_h();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_h();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;G(S0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,xr("INTERNAL UNHANDLED ERROR: ",b0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Mm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ee(47125,{Pc:b0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function b0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vo extends zm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new C0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C0(e),this._firestoreClient=void 0,await e}}}function D4(t,e){const n=typeof t=="object"?t:vN(),r=typeof t=="string"?t:hc,s=fN(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nk("firestore");i&&N4(s,...i)}return s}function $m(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V4(t),t._firestoreClient}function V4(t){var r,s,i,o;const e=t._freezeSettings(),n=k4(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new S4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this._byteString=e}static fromBase64String(e){try{return new on(mt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new on(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:on._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pl(e,on._jsonSchema))return on.fromBase64String(e.bytes)}}on._jsonSchemaVersion="firestore/bytes/1.0",on._jsonSchema={type:Qe("string",on._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jn._jsonSchemaVersion}}static fromJSON(e){if(pl(e,Jn._jsonSchema))return new Jn(e.latitude,e.longitude)}}Jn._jsonSchemaVersion="firestore/geoPoint/1.0",Jn._jsonSchema={type:Qe("string",Jn._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Sn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pl(e,Sn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Sn(e.vectorValues);throw new Y($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sn._jsonSchemaVersion="firestore/vectorValue/1.0",Sn._jsonSchema={type:Qe("string",Sn._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=/^__.*__$/;class M4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new ml(e,this.data,n,this.fieldTransforms)}}class fT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{dataSource:t})}}class Wm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return xc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(pT(this.dataSource)&&O4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class L4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}createContext(e,n,r,s=!1){return new Wm({dataSource:e,methodName:n,targetDoc:r,path:ht.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mT(t){const e=t._freezeSettings(),n=ld(t._databaseId);return new L4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F4(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);qm("Data must be an object, but it was:",o,r);const l=gT(r,o);let u,c;if(i.merge)u=new Gt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=rl(e,f,n);if(!o.contains(m))throw new Y($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wT(d,m)||d.push(m)}u=new Gt(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new M4(new Lt(l),u,c)}class fd extends Hm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}function j4(t,e,n,r){const s=t.createContext(1,e,n);qm("Data must be an object, but it was:",s,r);const i=[],o=Lt.empty();bs(r,(u,c)=>{const d=vT(e,u,n);c=gs(c);const f=s.childContextForFieldPath(d);if(c instanceof fd)i.push(d);else{const m=pd(c,f);m!=null&&(i.push(d),o.set(d,m))}});const l=new Gt(i);return new fT(o,l,s.fieldTransforms)}function U4(t,e,n,r,s,i){const o=t.createContext(1,e,n),l=[rl(e,r,n)],u=[s];if(i.length%2!=0)throw new Y($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(rl(e,i[m])),u.push(i[m+1]);const c=[],d=Lt.empty();for(let m=l.length-1;m>=0;--m)if(!wT(c,l[m])){const p=l[m];let C=u[m];C=gs(C);const E=o.childContextForFieldPath(p);if(C instanceof fd)c.push(p);else{const T=pd(C,E);T!=null&&(c.push(p),d.set(p,T))}}const f=new Gt(c);return new fT(d,f,o.fieldTransforms)}function pd(t,e){if(yT(t=gs(t)))return qm("Unsupported field value:",e,t),gT(t,e);if(t instanceof Hm)return function(r,s){if(!pT(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=pd(l,s.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=gs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Re.fromDate(r);return{timestampValue:vc(s.serializer,i)}}if(r instanceof Re){const i=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vc(s.serializer,i)}}if(r instanceof Jn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof on)return{bytesValue:Nx(s.serializer,r._byteString)};if(r instanceof Ge){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Im(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Sn)return function(o,l){const u=o instanceof Sn?o.toArray():o;return{mapValue:{fields:{[ox]:{stringValue:lx},[fc]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw l.createError("VectorValues must only contain numeric values.");return Sm(l.serializer,d)})}}}}}}(r,s);if(jx(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${vm(r)}`)}(t,e)}function gT(t,e){const n={};return ex(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(t,(r,s)=>{const i=pd(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function yT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Jn||t instanceof on||t instanceof Ge||t instanceof Hm||t instanceof Sn||jx(t))}function qm(t,e,n){if(!yT(n)||!JE(n)){const r=vm(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function rl(t,e,n){if((e=gs(e))instanceof Bm)return e._internalPath;if(typeof e=="string")return vT(t,e);throw xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const z4=new RegExp("[~\\*/\\[\\]]");function vT(t,e,n){if(e.search(z4)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bm(...e.split("."))._internalPath}catch{throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Y($.INVALID_ARGUMENT,l+t+u)}function wT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[fc].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>$e(o.doubleValue));return new Sn(n)}convertGeoPoint(e){return new Jn($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ed(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const n=vs(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Ee(Fx(r),9688,{name:e});const s=new Ja(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||xr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends $4{constructor(e){super(),this.firestore=e}convertBytes(e){return new on(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}const I0="@firebase/firestore",A0="4.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(rl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B4 extends ET{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function W4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends ET{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:Qe("string",Js._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Au extends Js{data(e={}){return super.data(e)}}class Gi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ua(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Au(this._firestore,this._userDataWriter,r.key,r,new ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new Au(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ua(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Au(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ua(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:q4(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi._jsonSchemaVersion="firestore/querySnapshot/1.0",Gi._jsonSchema={type:Qe("string",Gi._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){t=Gn(t,Ge);const e=Gn(t.firestore,vo),n=$m(e);return A4(n,t._key).then(r=>TT(e,t,r))}function G4(t,e,n){t=Gn(t,Ge);const r=Gn(t.firestore,vo),s=W4(t.converter,e),i=mT(r);return xT(r,[F4(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yn.none())])}function K4(t,e,n,...r){t=Gn(t,Ge);const s=Gn(t.firestore,vo),i=mT(s);let o;return o=typeof(e=gs(e))=="string"||e instanceof Bm?U4(i,"updateDoc",t._key,e,n,r):j4(i,"updateDoc",t._key,e),xT(s,[o.toMutation(t._key,Yn.exists(!0))])}function Y4(t,...e){var c,d,f;t=gs(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||R0(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(R0(e[r])){const m=e[r];e[r]=(c=m.next)==null?void 0:c.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(f=m.complete)==null?void 0:f.bind(m)}let i,o,l;if(t instanceof Ge)o=Gn(t.firestore,vo),l=nd(t._key.path),i={next:m=>{e[r]&&e[r](TT(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Gn(t,dd);o=Gn(m.firestore,vo),l=m._query;const p=new _T(o);i={next:C=>{e[r]&&e[r](new Gi(o,p,m,C))},error:e[r+1],complete:e[r+2]},H4(t._query)}const u=$m(o);return I4(u,l,s,i)}function xT(t,e){const n=$m(t);return R4(n,e)}function TT(t,e,n){const r=n.docs.get(e._key),s=new _T(t);return new Js(t,s,e._key,r,new ua(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){RN(yN),cc(new Ga("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new vo(new NN(r.getProvider("auth-internal")),new ON(o,r.getProvider("app-check-internal")),ZN(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Wi(I0,A0,e),Wi(I0,A0,"esm2020")})();var X4="firebase",J4="12.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(X4,J4,"app");const Z4={apiKey:"AIzaSyDT3dBdcw9FERAJBASNDvSiH5DGH-carL0",authDomain:"saudia-connect-play.firebaseapp.com",projectId:"saudia-connect-play",storageBucket:"saudia-connect-play.firebasestorage.app",messagingSenderId:"872875755443",appId:"1:872875755443:web:4186cbbe1b677ce91eedc6",measurementId:"G-897NVF66RD"},eO=zE(Z4),md=D4(eO);async function tO(t){const e=hd(md,"games",t.roomCode);await G4(e,{...t,createdAt:new Date})}async function nO(t){const e=hd(md,"games",t),n=await Q4(e);return n.exists()?n.data():null}async function Ru(t,e){const n=hd(md,"games",t);await K4(n,e)}function rO(t,e){const n=hd(md,"games",t);return Y4(n,r=>{r.exists()&&e(r.data())})}const sO=()=>{const t=hm(),[e,n]=R.useState(""),[r,s]=R.useState(""),[i,o]=R.useState("home"),[l,u]=R.useState(!1),[c,d]=R.useState(!1),f=async()=>{if(e.trim()){u(!0);try{const p=NE(e.trim());await tO(p),sessionStorage.setItem("playerId",p.hostId),t(`/game/${p.roomCode}`)}finally{u(!1)}}},m=async()=>{if(!(!e.trim()||!r.trim())){d(!0);try{const p=r.trim().toUpperCase(),C=await nO(p);if(!C)return;const E=crypto.randomUUID();C.players.push({id:E,name:e.trim(),team:"red",isSpymaster:!1,isHost:!1}),await Ru(p,{players:C.players}),sessionStorage.setItem("playerId",E),t(`/game/${p}`)}finally{d(!1)}}};return P.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 relative overflow-hidden",children:[P.jsx("div",{className:"absolute inset-0 opacity-[0.06] pointer-events-none",style:{backgroundImage:`url(${DE})`,backgroundSize:"300px"}}),P.jsxs("div",{className:"relative z-10 w-full max-w-md mx-auto animate-fade-in",children:[P.jsxs("div",{className:"text-center mb-10",children:[P.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-primary mb-4",children:P.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:""})}),P.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:" "}),P.jsx("p",{className:"text-muted-foreground text-lg",children:"  "})]}),i==="home"&&P.jsxs("div",{className:"space-y-4 animate-fade-in",children:[P.jsx(dt,{onClick:()=>o("create"),className:"w-full h-14 text-lg font-semibold bg-primary hover:bg-primary/90",children:"  "}),P.jsx(dt,{onClick:()=>o("join"),variant:"outline",className:"w-full h-14 text-lg font-semibold border-2",children:" "})]}),i==="create"&&P.jsxs("div",{className:"space-y-4 animate-fade-in",children:[P.jsxs("div",{className:"bg-card rounded-xl p-6 border space-y-4",children:[P.jsx("h2",{className:"text-xl font-semibold text-center",children:" "}),P.jsx(Hi,{placeholder:"",value:e,onChange:p=>n(p.target.value),className:"h-12 text-center text-lg",dir:"rtl"}),P.jsx(dt,{onClick:f,className:"w-full h-12 text-lg font-semibold",disabled:!e.trim()||l,children:l?" ...":" "})]}),P.jsx(dt,{variant:"ghost",onClick:()=>o("home"),className:"w-full text-muted-foreground",children:""})]}),i==="join"&&P.jsxs("div",{className:"space-y-4 animate-fade-in",children:[P.jsxs("div",{className:"bg-card rounded-xl p-6 border space-y-4",children:[P.jsx("h2",{className:"text-xl font-semibold text-center",children:" "}),P.jsx(Hi,{placeholder:"",value:e,onChange:p=>n(p.target.value),className:"h-12 text-center text-lg",dir:"rtl"}),P.jsx(Hi,{placeholder:" ",value:r,onChange:p=>s(p.target.value.toUpperCase()),className:"h-12 text-center text-lg tracking-[0.3em] font-mono",maxLength:5,dir:"ltr"}),P.jsx(dt,{onClick:m,className:"w-full h-12 text-lg font-semibold",disabled:!e.trim()||r.length<5||c,children:c?" ...":""})]}),P.jsx(dt,{variant:"ghost",onClick:()=>o("home"),className:"w-full text-muted-foreground",children:""})]})]})]})},iO=({currentPlayer:t,cards:e,isSpymaster:n,onCardClick:r,onRightClick:s,currentTeam:i,canGuess:o})=>{const l=d=>{if(d.revealed||n)switch(d.type){case"red":return d.revealed?"bg-team-red text-team-red-foreground opacity-90":"bg-team-red/20 border-team-red text-team-red ring-1 ring-team-red/30";case"blue":return d.revealed?"bg-team-blue text-team-blue-foreground opacity-90":"bg-team-blue/20 border-team-blue text-team-blue ring-1 ring-team-blue/30";case"assassin":return d.revealed?"bg-card-assassin text-primary-foreground":n?"bg-card-assassin text-primary-foreground border-foreground/30 ring-1 ring-foreground/20":"bg-card-assassin/20 border-foreground/30 text-foreground ring-1 ring-foreground/20";default:return d.revealed?"bg-card-neutral text-muted-foreground opacity-70":"bg-card-neutral/50 border-border text-muted-foreground ring-1 ring-border"}const f=d.highlighted?"ring-2 ring-gold":"";return`bg-card border-border text-foreground transition-all duration-200 ${o&&!n&&(t==null?void 0:t.team)===i?"cursor-pointer hover:bg-secondary hover:border-primary/30 hover:shadow-md active:scale-[0.97]":"cursor-default opacity-80"} ${f}`},u=(d,f)=>{d.preventDefault(),e[f].revealed||s(f)},c=o&&(t==null?void 0:t.team)===i&&!(t!=null&&t.isSpymaster);return P.jsx("div",{className:"flex-1 px-1 py-3 sm:px-2 sm:py-4",children:P.jsx("div",{className:"w-full max-w-4xl mx-auto grid grid-cols-5 gap-1.5 sm:gap-2.5",style:{gridAutoRows:"1fr",aspectRatio:"5 / 5"},children:e.map((d,f)=>P.jsxs("button",{onClick:()=>{!d||!d.word||!c||d.revealed||r(f)},onContextMenu:m=>u(m,f),disabled:!c||d.revealed,className:`
              relative rounded-lg border p-1.5 sm:p-3 
              min-h-0 min-w-0 aspect-square
              flex items-center justify-center text-center
              font-semibold text-[11px] sm:text-sm
              transition-all duration-300 animate-scale-in
              ${c?"cursor-pointer":"opacity-50 cursor-not-allowed"}
              ${l(d)}
            `,style:{animationDelay:`${f*20}ms`},children:[P.jsx("span",{className:"leading-tight",children:d&&d.word?d.word.word:""}),d&&d.revealed&&d.type==="assassin"&&P.jsx("span",{className:"absolute top-0.5 left-0.5 text-xs",children:""})]},f))})})},oO=({game:t,playerId:e,onStart:n,onSwitchTeam:r,onToggleSpymaster:s})=>{var T,v,y;const i=t.hostId===e,o=t.players.filter(_=>_.team==="red"),l=t.players.filter(_=>_.team==="blue"),u=hm(),c=()=>{navigator.clipboard.writeText(t.roomCode),_A.success("  ")},d=()=>{const _=`https://wa.me/?text=${encodeURIComponent(`   ! 
 : ${t.roomCode}`)}`;window.open(_,"_blank")},f=o.some(_=>_.isSpymaster),m=l.some(_=>_.isSpymaster),p=o.some(_=>!_.isSpymaster),C=l.some(_=>!_.isSpymaster),E=f&&m&&p&&C;return P.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-8",children:P.jsxs("div",{className:"w-full max-w-lg mx-auto animate-fade-in space-y-6",children:[P.jsx("div",{className:"flex justify-end",children:P.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>u("/"),children:" "})}),P.jsxs("div",{className:"text-center",children:[P.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),P.jsxs("div",{className:"inline-flex items-center gap-2 bg-card border rounded-xl px-4 py-3",children:[P.jsx("span",{className:"text-2xl font-mono font-bold tracking-[0.2em] text-primary",children:t.roomCode}),P.jsx("button",{onClick:c,className:"p-1.5 rounded-md hover:bg-secondary transition-colors",children:P.jsx(gI,{className:"w-4 h-4 text-muted-foreground"})})]}),P.jsx("div",{className:"mt-3",children:P.jsxs(dt,{variant:"outline",size:"sm",onClick:d,className:"gap-2",children:[P.jsx(yI,{className:"w-4 h-4"}),"  "]})})]}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsxs("div",{className:"bg-team-red/10 border border-team-red/20 rounded-xl p-4",children:[P.jsx("h3",{className:"text-sm font-bold text-team-red mb-3 text-center",children:" "}),P.jsxs("div",{className:"space-y-2",children:[o.map(_=>P.jsxs("div",{className:"bg-card/60 rounded-lg px-3 py-2 text-sm flex items-center justify-between",children:[P.jsx("span",{className:"font-medium",children:_.name}),_.isSpymaster&&P.jsx("span",{className:"text-[10px] bg-gold/20 text-gold px-1.5 py-0.5 rounded font-semibold",children:""})]},_.id)),((T=t.players.find(_=>_.id===e))==null?void 0:T.team)!=="red"&&P.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>r(e,"red"),className:"w-full text-xs text-team-red hover:bg-team-red/10",children:" "})]})]}),P.jsxs("div",{className:"bg-team-blue/10 border border-team-blue/20 rounded-xl p-4",children:[P.jsx("h3",{className:"text-sm font-bold text-team-blue mb-3 text-center",children:" "}),P.jsxs("div",{className:"space-y-2",children:[l.map(_=>P.jsxs("div",{className:"bg-card/60 rounded-lg px-3 py-2 text-sm flex items-center justify-between",children:[P.jsx("span",{className:"font-medium",children:_.name}),_.isSpymaster&&P.jsx("span",{className:"text-[10px] bg-gold/20 text-gold px-1.5 py-0.5 rounded font-semibold",children:""})]},_.id)),((v=t.players.find(_=>_.id===e))==null?void 0:v.team)!=="blue"&&P.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>r(e,"blue"),className:"w-full text-xs text-team-blue hover:bg-team-blue/10",children:" "})]})]})]}),P.jsx("div",{className:"text-center",children:P.jsx(dt,{variant:"outline",size:"sm",onClick:()=>s(e),className:"gap-2",children:(y=t.players.find(_=>_.id===e))!=null&&y.isSpymaster?"  ":"  "})}),i&&P.jsx(dt,{onClick:n,className:"w-full h-14 text-lg font-semibold",disabled:!E,children:" "})]})})},aO=({game:t,onEndTurn:e})=>{const n=Math.floor(t.timer/60),r=t.timer%60,s=t.timer<=15,i=t.turnPhase==="guessing";return P.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b px-4 py-3",children:P.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between gap-2",children:[P.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[P.jsx("span",{className:`text-xs font-semibold px-3 py-1.5 rounded-full ${t.currentTeam==="red"?"bg-team-red text-team-red-foreground":"bg-team-blue text-team-blue-foreground"}`,children:t.currentTeam==="red"?"":""}),t.currentHint&&P.jsxs("div",{className:"flex items-center gap-2 bg-secondary rounded-lg px-3 py-1.5",children:[P.jsx("span",{className:"text-sm font-bold text-foreground",children:t.currentHint.word}),P.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.currentHint.count,")"]}),i&&P.jsxs("span",{className:"text-xs text-gold font-semibold",children:[": ",t.guessesRemaining]})]})]}),i&&P.jsxs("div",{className:`text-xl font-bold tabular-nums ${s?"text-destructive animate-pulse":"text-foreground"}`,children:[n,":",r.toString().padStart(2,"0")]}),i&&P.jsx(dt,{variant:"outline",size:"sm",onClick:e,className:"text-sm",children:" "})]})})},lO=({winner:t,scores:e,onRestart:n,onHome:r})=>P.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:P.jsxs("div",{className:"bg-card border rounded-2xl p-8 max-w-sm w-full text-center animate-scale-in space-y-6",children:[P.jsx("div",{className:"text-5xl mb-2",children:""}),P.jsxs("h2",{className:"text-2xl font-bold",children:[" ",t==="red"?" ":" ","!"]}),P.jsxs("div",{className:"flex justify-center gap-8",children:[P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"w-12 h-12 rounded-lg bg-team-red flex items-center justify-center text-team-red-foreground font-bold text-xl mx-auto",children:e.red}),P.jsx("span",{className:"text-xs text-muted-foreground mt-1 block",children:""})]}),P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"w-12 h-12 rounded-lg bg-team-blue flex items-center justify-center text-team-blue-foreground font-bold text-xl mx-auto",children:e.blue}),P.jsx("span",{className:"text-xs text-muted-foreground mt-1 block",children:""})]})]}),P.jsxs("div",{className:"space-y-3",children:[P.jsx(dt,{onClick:n,className:"w-full h-12 text-lg font-semibold",children:" "}),P.jsx(dt,{variant:"outline",onClick:r,className:"w-full",children:" "})]})]})}),ou=({game:t,team:e})=>{const n=t.players.filter(l=>l.team===e),r=t.currentTeam===e,s=t.scores[e],i=t.targetScores[e],o=e==="red"?{bg:"bg-team-red/10",border:"border-team-red/20",text:"text-team-red",badge:"bg-team-red",label:""}:{bg:"bg-team-blue/10",border:"border-team-blue/20",text:"text-team-blue",badge:"bg-team-blue",label:""};return P.jsxs("div",{className:`
      ${o.bg} border ${o.border} rounded-xl p-3 
      ${r?"ring-2 ring-gold":""}
      transition-all duration-300
    `,children:[P.jsxs("div",{className:"text-center mb-3",children:[P.jsxs("div",{className:`${o.badge} text-white rounded-lg py-2 px-3 inline-flex items-center gap-2`,children:[P.jsx("span",{className:"text-lg font-bold",children:s}),P.jsxs("span",{className:"text-xs opacity-80",children:["/ ",i]})]}),P.jsx("div",{className:`text-xs font-semibold mt-1 ${o.text}`,children:o.label})]}),r&&P.jsx("div",{className:`text-[10px] text-center font-bold ${o.text} mb-2`,children:"  "}),P.jsx("div",{className:"space-y-1.5",children:n.map(l=>P.jsxs("div",{className:"bg-card/60 rounded-md px-2 py-1.5 text-xs flex items-center justify-between gap-1",children:[P.jsx("span",{className:"font-medium truncate",children:l.name}),l.isSpymaster&&P.jsx("span",{className:"text-[9px] bg-gold/20 text-gold px-1 py-0.5 rounded font-semibold shrink-0",children:""})]},l.id))}),r&&t.currentHint&&P.jsxs("div",{className:`mt-3 p-2 rounded-lg border ${o.border} ${o.bg} text-center`,children:[P.jsx("div",{className:"text-[10px] text-muted-foreground mb-1",children:""}),P.jsx("div",{className:`font-bold text-sm ${o.text}`,children:t.currentHint.word}),P.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.currentHint.count," "]})]})]})},uO=({currentTeam:t,onSubmitHint:e})=>{const[n,r]=R.useState(""),[s,i]=R.useState(1),o=()=>{n.trim()&&(e(n.trim(),s),r(""),i(1))};return P.jsxs("div",{className:`
      mx-auto max-w-md p-4 rounded-xl border-2 animate-fade-in
      ${t==="red"?"border-team-red/30 bg-team-red/5":"border-team-blue/30 bg-team-blue/5"}
    `,children:[P.jsx("h3",{className:"text-sm font-bold text-center mb-3 text-muted-foreground",children:"  "}),P.jsxs("div",{className:"flex gap-2 items-end",children:[P.jsxs("div",{className:"flex-1",children:[P.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:""}),P.jsx(Hi,{value:n,onChange:l=>r(l.target.value),placeholder:"...",className:"h-10 text-center",dir:"rtl"})]}),P.jsxs("div",{className:"w-20",children:[P.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:""}),P.jsx(Hi,{type:"number",min:1,max:8,value:s,onChange:l=>i(Math.max(1,Math.min(8,parseInt(l.target.value)||1))),className:"h-10 text-center"})]}),P.jsx(dt,{onClick:o,disabled:!n.trim(),className:"h-10",children:" "})]})]})},cO=({team:t,onComplete:e})=>{const[n,r]=R.useState(!0);return R.useEffect(()=>{const s=setTimeout(()=>{r(!1),e()},2e3);return()=>clearTimeout(s)},[e]),n?P.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-foreground/60 backdrop-blur-sm animate-fade-in",children:P.jsxs("div",{className:`
        rounded-2xl px-12 py-8 text-center animate-scale-in
        ${t==="red"?"bg-team-red":"bg-team-blue"}
      `,children:[P.jsx("div",{className:"text-4xl mb-3",children:""}),P.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:t==="red"?"  ":"  "}),P.jsx("p",{className:"text-white/80 text-lg",children:"!"})]})}):null},dO=()=>{const{roomCode:t}=_2(),e=hm(),[n,r]=R.useState(null),[s,i]=R.useState(!1),[o,l]=R.useState("red"),u=sessionStorage.getItem("playerId")||"";R.useEffect(()=>{if(!t)return;const x=rO(t,w=>{r(w)});return()=>x()},[t]);const c=R.useCallback(async x=>{r(x),await Ru(x.roomCode,x)},[]),d=()=>{if(!n)return;const x={...n,phase:"playing",turnPhase:"hint"};c(x),l("red"),i(!0)},f=(x,w)=>{n&&c({...n,turnPhase:"guessing",currentHint:{word:x,count:w},guessesRemaining:w+1,timer:n.maxTime})},m=x=>{if(!n||n.phase!=="playing"||n.turnPhase!=="guessing")return;const w=n.players.find(k=>k.id===u);if(!w||w.team!==n.currentTeam||w.isSpymaster)return;const I=n.currentTeam,b=H2(n,x);c(b),b.phase==="playing"&&b.currentTeam!==I&&(l(b.currentTeam),i(!0))},p=x=>{n&&c(W2(n,x))},C=()=>{if(!n)return;const x=n.currentTeam==="red"?"blue":"red";c({...n,currentTeam:x,timer:n.maxTime,turnPhase:"hint",currentHint:null,guessesRemaining:0}),l(x),i(!0)},E=()=>{if(!n)return;const x=n.players.find(I=>I.id===u);if(!x)return;const w=NE(x.name);w.roomCode=n.roomCode,w.players=n.players,w.hostId=n.hostId,c(w)},T=(x,w)=>{if(!n)return;const I=n.players.map(b=>b.id===x?{...b,team:w}:b);c({...n,players:I})},v=x=>{if(!n)return;const w=n.players.find(b=>b.id===x);if(!w)return;const I=n.players.map(b=>b.id===x?{...b,isSpymaster:!b.isSpymaster}:b.team===w.team&&b.isSpymaster?{...b,isSpymaster:!1}:b);c({...n,players:I})},y=n==null?void 0:n.players.find(x=>x.id===u),_=y==null?void 0:y.isHost;if(R.useEffect(()=>{if(!n||!_||n.phase!=="playing"||n.turnPhase!=="guessing")return;const x=setInterval(async()=>{if(n.timer<=0){const w=n.currentTeam==="red"?"blue":"red";await Ru(n.roomCode,{currentTeam:w,timer:n.maxTime,turnPhase:"hint",currentHint:null,guessesRemaining:0})}else await Ru(n.roomCode,{timer:n.timer-1})},1e3);return()=>clearInterval(x)},[n,_]),!n)return null;const D=(y==null?void 0:y.isSpymaster)||!1,V=D&&(y==null?void 0:y.team)===n.currentTeam,M=n.turnPhase==="guessing";return P.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[P.jsx("div",{className:"absolute inset-0 opacity-[0.04] pointer-events-none",style:{backgroundImage:`url(${DE})`,backgroundSize:"300px"}}),P.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[n.phase==="lobby"&&P.jsx(oO,{game:n,playerId:u,onStart:d,onSwitchTeam:T,onToggleSpymaster:v}),n.phase==="playing"&&P.jsxs(P.Fragment,{children:[P.jsx(aO,{game:n,onEndTurn:C}),P.jsxs("div",{className:"flex-1 flex",children:[P.jsxs("div",{className:"hidden md:block w-48 p-3 space-y-3",children:[P.jsx(ou,{game:n,team:"red"}),P.jsx(ou,{game:n,team:"blue"})]}),P.jsxs("div",{className:"flex-1 flex flex-col",children:[!V&&y&&y.team!==n.currentTeam&&P.jsx("div",{className:"p-3 text-center",children:P.jsx("div",{className:"bg-secondary/60 rounded-xl py-3 px-6 inline-block animate-pulse",children:P.jsx("span",{className:"text-muted-foreground text-base font-semibold",children:"   "})})}),n.turnPhase==="hint"&&V&&P.jsx("div",{className:"p-3",children:P.jsx(uO,{currentTeam:n.currentTeam,onSubmitHint:f})}),n.turnPhase==="hint"&&!V&&P.jsx("div",{className:"p-4 text-center",children:P.jsx("div",{className:"bg-secondary/60 rounded-xl py-4 px-6 inline-block animate-pulse",children:P.jsx("span",{className:"text-muted-foreground text-sm",children:"     ..."})})}),n.turnPhase==="guessing"&&n.currentHint&&P.jsx("div",{className:"p-3 text-center",children:P.jsxs("div",{className:"bg-secondary/60 rounded-xl py-2 px-6 inline-block",children:[P.jsxs("span",{className:"text-base font-semibold text-foreground",children:[n.currentHint.word?n.currentHint.word:""," ",n.currentHint.count!==void 0?`(${n.currentHint.count})`:""]}),P.jsx("span",{className:"mx-2 text-muted-foreground",children:"|"}),P.jsxs("span",{className:"text-sm text-muted-foreground",children:[": ",n.guessesRemaining>0?n.guessesRemaining:0]})]})}),P.jsx(iO,{cards:n.cards,isSpymaster:D,onCardClick:m,currentPlayer:y,onRightClick:p,currentTeam:n.currentTeam,canGuess:M})]})]}),P.jsxs("div",{className:"md:hidden flex gap-2 px-3 pb-3",children:[P.jsx("div",{className:"flex-1",children:P.jsx(ou,{game:n,team:"red"})}),P.jsx("div",{className:"flex-1",children:P.jsx(ou,{game:n,team:"blue"})})]})]}),n.phase==="finished"&&P.jsx(lO,{winner:n.winner,scores:n.scores,onRestart:E,onHome:()=>e("/")})]}),s&&P.jsx(cO,{team:o,onComplete:()=>i(!1)})]})},hO=()=>{const t=dm();return R.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),P.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:P.jsxs("div",{className:"text-center",children:[P.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),P.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),P.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},fO=new $P,pO=()=>P.jsx(HP,{client:fO,children:P.jsxs(vP,{children:[P.jsx(eA,{}),P.jsx(DA,{}),P.jsx(F2,{children:P.jsxs(O2,{children:[P.jsx(xu,{path:"/",element:P.jsx(sO,{})}),P.jsx(xu,{path:"/game/:roomCode",element:P.jsx(dO,{})}),P.jsx(xu,{path:"*",element:P.jsx(hO,{})})]})})]})});Z_(document.getElementById("root")).render(P.jsx(pO,{}));
